"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[7614],{17614:(T,b,n)=>{n.r(b),n.d(b,{default:()=>A});var x=n(15861),e=n(17626),N=n(85840),d=n(91558),S=n(79608),z=n(86810),m=n(23841),i=n(77712),C=(n(85931),n(90912)),v=n(76898);let p=class extends((0,z.eC)(S.j)){constructor(t){super(t),this.type="simple",this.color=new d.Z("black"),this.lineSize=2,this.fontSize=10,this.textColor=new d.Z("black"),this.textBackgroundColor=new d.Z([255,255,255,.6])}};(0,e._)([(0,i.Cb)({type:["simple"],readOnly:!0,json:{write:{isRequired:!0}}})],p.prototype,"type",void 0),(0,e._)([(0,i.Cb)({type:d.Z,nonNullable:!0,json:{type:[C.z8],write:{isRequired:!0}}})],p.prototype,"color",void 0),(0,e._)([(0,i.Cb)({type:Number,cast:m.t_,nonNullable:!0,range:{min:(0,m.Wz)(1)},json:{write:{isRequired:!0}}})],p.prototype,"lineSize",void 0),(0,e._)([(0,i.Cb)({type:Number,cast:m.t_,nonNullable:!0,json:{write:{isRequired:!0}}})],p.prototype,"fontSize",void 0),(0,e._)([(0,i.Cb)({type:d.Z,nonNullable:!0,json:{type:[C.z8],write:{isRequired:!0}}})],p.prototype,"textColor",void 0),(0,e._)([(0,i.Cb)({type:d.Z,nonNullable:!0,json:{type:[C.z8],write:{isRequired:!0}}})],p.prototype,"textBackgroundColor",void 0),p=(0,e._)([(0,v.j)("esri.analysis.DimensionSimpleStyle")],p);const g=p;var P=n(69186),O=n(46160),R=n(89726),s=n(62208),c=n(32917),Z=n(2004),E=n(55915);const f=O.Z.ofType(P.Z);let a=class extends N.Z{constructor(t){super(t),this.type="dimension",this.style=new g,this.extent=null}initialize(){this.addHandles((0,c.YP)(()=>this._computeExtent(),t=>{((0,s.Wi)(t)||(0,s.Wi)(t.pending))&&this._set("extent",(0,s.pC)(t)?t.extent:null)},c.tX))}get dimensions(){return this._get("dimensions")||new f}set dimensions(t){this._set("dimensions",(0,R.Z)(t,this.dimensions,f))}get spatialReference(){for(const t of this.dimensions){if((0,s.pC)(t.startPoint))return t.startPoint.spatialReference;if((0,s.pC)(t.endPoint))return t.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce((t,o)=>(t.push(o.startPoint,o.endPoint),t),[])}waitComputeExtent(){var t=this;return(0,x.Z)(function*(){const o=t._computeExtent();return(0,s.pC)(o)?(0,s.Wg)(o.pending):null})()}_computeExtent(){const t=this.spatialReference;if((0,s.Wi)(t))return{pending:null,extent:null};const o=[];for(const l of this.dimensions)(0,s.pC)(l.startPoint)&&o.push(l.startPoint),(0,s.pC)(l.endPoint)&&o.push(l.endPoint);const y=(0,E.JY)(o,t);if((0,s.pC)(y.pending))return{pending:y.pending,extent:null};let h=null;return(0,s.pC)(y.geometries)&&(h=y.geometries.reduce((l,u)=>(0,s.Wi)(l)?(0,s.pC)(u)?Z.Z.fromPoint(u):null:(0,s.pC)(u)?l.union(Z.Z.fromPoint(u)):l,null)),{pending:null,extent:h}}clear(){this.dimensions.removeAll()}};(0,e._)([(0,i.Cb)({type:["dimension"]})],a.prototype,"type",void 0),(0,e._)([(0,i.Cb)({cast:R.R,type:f,nonNullable:!0})],a.prototype,"dimensions",null),(0,e._)([(0,i.Cb)({readOnly:!0})],a.prototype,"spatialReference",null),(0,e._)([(0,i.Cb)({types:{key:"type",base:null,typeMap:{simple:g}},nonNullable:!0})],a.prototype,"style",void 0),(0,e._)([(0,i.Cb)({value:null,readOnly:!0})],a.prototype,"extent",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],a.prototype,"requiredPropertiesForEditing",null),a=(0,e._)([(0,v.j)("esri.analysis.DimensionAnalysis")],a);const j=a;var w=n(99959),D=n(99433),L=n(44917),W=n(49286);let r=class extends((0,W.q)((0,w.R)(L.Z))){constructor(t){if(super(t),this.type="dimension",this.operationalLayerType="ArcGISDimensionLayer",this.source=new j,this.opacity=1,t){const{source:o,style:y}=t;o&&y&&(o.style=y)}}initialize(){this.addHandles([(0,c.YP)(()=>this.source,(t,o)=>{(0,s.pC)(o)&&o.parent===this&&(o.parent=null),(0,s.pC)(t)&&(t.parent=this)},c.tX)])}load(){var t=this;return(0,x.Z)(function*(){return t.addResolvingPromise(t.source.waitComputeExtent()),t})()}get spatialReference(){return(0,s.Wg)(this.source.spatialReference)}get style(){return this.source.style}set style(t){this.source.style=t}get fullExtent(){return this.source.extent}releaseAnalysis(t){this.source===t&&(this.source=new j)}get analysis(){return this.source}set analysis(t){this.source=t}get dimensions(){return this.source.dimensions}set dimensions(t){this.source.dimensions=t}writeDimensions(t,o,y,h){o.dimensions=t.filter(({startPoint:l,endPoint:u})=>(0,s.pC)(l)&&(0,s.pC)(u)).map(l=>l.toJSON(h)).toJSON()}};(0,e._)([(0,i.Cb)({json:{read:!1},readOnly:!0})],r.prototype,"type",void 0),(0,e._)([(0,i.Cb)({type:["ArcGISDimensionLayer"]})],r.prototype,"operationalLayerType",void 0),(0,e._)([(0,i.Cb)({nonNullable:!0})],r.prototype,"source",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"spatialReference",null),(0,e._)([(0,i.Cb)({types:{key:"type",base:null,typeMap:{simple:g}},json:{write:{ignoreOrigin:!0}}})],r.prototype,"style",null),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"fullExtent",null),(0,e._)([(0,i.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],r.prototype,"opacity",void 0),(0,e._)([(0,i.Cb)({type:["show","hide"]})],r.prototype,"listMode",void 0),(0,e._)([(0,i.Cb)({type:O.Z.ofType(P.Z),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],r.prototype,"dimensions",null),(0,e._)([(0,D.c)("web-scene","dimensions")],r.prototype,"writeDimensions",null),r=(0,e._)([(0,v.j)("esri.layers.DimensionLayer")],r);const A=r}}]);