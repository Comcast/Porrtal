"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[7534,164,3705],{30164:(Z,p,t)=>{t.d(p,{T:()=>h});var o=t(15861);const h={BingMapsLayer:(e=(0,o.Z)(function*(){return(yield t.e(2248).then(t.bind(t,72248))).default}),function(){return e.apply(this,arguments)}),BuildingSceneLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(9410),t.e(8592),t.e(6189)]).then(t.bind(t,6189))).default});return function(){return e.apply(this,arguments)}}(),CSVLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(5625).then(t.bind(t,85625))).default});return function(){return e.apply(this,arguments)}}(),ElevationLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(5810)]).then(t.bind(t,75810))).default});return function(){return e.apply(this,arguments)}}(),FeatureLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.resolve().then(t.bind(t,32258))).default});return function(){return e.apply(this,arguments)}}(),GroupLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(5964).then(t.bind(t,25964))).default});return function(){return e.apply(this,arguments)}}(),GeoRSSLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(6306).then(t.bind(t,96306))).default});return function(){return e.apply(this,arguments)}}(),GeoJSONLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(2903).then(t.bind(t,72903))).default});return function(){return e.apply(this,arguments)}}(),ImageryLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(7692),t.e(4307),t.e(3016),t.e(9602)]).then(t.bind(t,49602))).default});return function(){return e.apply(this,arguments)}}(),ImageryTileLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(7692),t.e(4307),t.e(8594),t.e(3016),t.e(8592),t.e(6003)]).then(t.bind(t,36003))).default});return function(){return e.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(7867)]).then(t.bind(t,67867))).default});return function(){return e.apply(this,arguments)}}(),KMLLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(2701).then(t.bind(t,12701))).default});return function(){return e.apply(this,arguments)}}(),LineOfSightLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(4626)]).then(t.bind(t,80756))).default});return function(){return e.apply(this,arguments)}}(),MapImageLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(3130),t.e(8887)]).then(t.bind(t,48887))).default});return function(){return e.apply(this,arguments)}}(),MapNotesLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(9114)]).then(t.bind(t,49114))).default});return function(){return e.apply(this,arguments)}}(),OGCFeatureLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(9628),t.e(2955)]).then(t.bind(t,36554))).default});return function(){return e.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(1591)]).then(t.bind(t,71591))).default});return function(){return e.apply(this,arguments)}}(),PointCloudLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(7155)]).then(t.bind(t,7155))).default});return function(){return e.apply(this,arguments)}}(),RouteLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(403),t.e(8664)]).then(t.bind(t,68664))).default});return function(){return e.apply(this,arguments)}}(),SceneLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(7559)]).then(t.bind(t,27559))).default});return function(){return e.apply(this,arguments)}}(),StreamLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(289).then(t.bind(t,70289))).default});return function(){return e.apply(this,arguments)}}(),TileLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(3130),t.e(8592),t.e(9735)]).then(t.bind(t,59735))).default});return function(){return e.apply(this,arguments)}}(),UnknownLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(6339).then(t.bind(t,56339))).default});return function(){return e.apply(this,arguments)}}(),UnsupportedLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(6240).then(t.bind(t,16240))).default});return function(){return e.apply(this,arguments)}}(),VectorTileLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8364),t.e(8592),t.e(1770)]).then(t.bind(t,14836))).default});return function(){return e.apply(this,arguments)}}(),VoxelLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8115)]).then(t.bind(t,68115))).default});return function(){return e.apply(this,arguments)}}(),WebTileLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(8592).then(t.bind(t,28678))).default});return function(){return e.apply(this,arguments)}}(),WFSLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(3774),t.e(8762)]).then(t.bind(t,98762))).default});return function(){return e.apply(this,arguments)}}(),WMSLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(6894)]).then(t.bind(t,46894))).default});return function(){return e.apply(this,arguments)}}(),WMTSLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(4223)]).then(t.bind(t,64223))).default});return function(){return e.apply(this,arguments)}}()};var e},88755:(Z,p,t)=>{t.d(p,{Y:()=>s,h:()=>e});var o=t(21726),h=t(84687);function e(d){return{origin:"portal-item",url:(0,o.mN)(d.itemUrl),portal:d.portal||h.Z.getDefault(),portalItem:d,readResourcePaths:[]}}function s(d){return{origin:"portal-item",messages:[],writtenProperties:[],url:d.itemUrl?(0,o.mN)(d.itemUrl):null,portal:d.portal||h.Z.getDefault(),portalItem:d}}},83705:(Z,p,t)=>{t.r(p),t.d(p,{getFirstLayerOrTableId:()=>W,getNumLayersAndTables:()=>C,load:()=>S,preprocessFSItemData:()=>O});var o=t(15861),h=t(26584),e=t(30164),s=t(84687),d=t(88755),I=t(39683),P=t(45205);function S(r,i){return M.apply(this,arguments)}function M(){return(M=(0,o.Z)(function*(r,i){const a=r.instance.portalItem;if(a&&a.id)return yield a.load(i),D(r),E(r,i)})).apply(this,arguments)}function D(r){const i=r.instance.portalItem;if(!r.supportedTypes.includes(i.type))throw new h.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:i.type,expectedType:r.supportedTypes.join(", ")})}function E(r,i){return T.apply(this,arguments)}function T(){return(T=(0,o.Z)(function*(r,i){const a=r.instance,y=a.portalItem,{url:u,title:n}=y,l=(0,d.h)(y);if("group"===a.type)return a.read({title:n},l),c(a,r);u&&a.read({url:u},l);const m=yield U(r,i);return m&&a.read(m,l),a.resourceReferences={portalItem:y,paths:l.readResourcePaths},a.read({title:n},l),(0,I.y)(a,l)})).apply(this,arguments)}function c(r,i){let a;const y=r.portalItem.type;switch(y){case"Feature Service":case"Feature Collection":a=e.T.FeatureLayer;break;case"Stream Service":a=e.T.StreamLayer;break;case"Scene Service":a=e.T.SceneLayer;break;default:throw new h.Z("portal:unsupported-item-type-as-group",`The item type '${y}' is not supported as a 'IGroupLayer'`)}let u;return a().then(n=>(u=n,U(i))).then(function(){var n=(0,o.Z)(function*(l){return"Feature Service"===y?(l=yield O(l,r.portalItem.url),f(r,u,l)):C(l)>0?f(r,u,l):function L(r,i){return r.portalItem.url?(0,P.b)(r.portalItem.url).then(a=>{function y(u){return{id:u.id,name:u.name}}a&&f(r,i,{layers:a.layers?.map(y),tables:a.tables?.map(y)})}):Promise.resolve()}(r,u)});return function(l){return n.apply(this,arguments)}}())}function f(r,i,a){let y=a.layers||[];const u=a.tables||[];"Feature Collection"===r.portalItem.type&&(y.forEach(n=>{"Table"===n?.layerDefinition?.type&&u.push(n)}),y=y.filter(n=>"Table"!==n?.layerDefinition?.type)),y.reverse().forEach(n=>{const l=g(r,i,a,n);r.add(l)}),u.reverse().forEach(n=>{const l=g(r,i,a,n);r.tables.add(l)})}function g(r,i,a,y){const u=new i({portalItem:r.portalItem.clone(),layerId:y.id,sublayerTitleMode:"service-name"});if("Feature Collection"===r.portalItem.type){const n={origin:"portal-item",portal:r.portalItem.portal||s.Z.getDefault()};u.read(y,n);const l=a.showLegend;null!=l&&u.read({showLegend:l},n)}return u}function U(r,i){if(!1===r.supportsData)return Promise.resolve(void 0);const a=r.instance;return a.portalItem.fetchData("json",i).catch(()=>null).then(function(){var y=(0,o.Z)(function*(u){if(function K(r){return"stream"!==r.type&&"layerId"in r}(a)){let n,l=!0;return u&&C(u)>0&&(null==a.layerId&&(a.layerId=W(u)),n=function R(r,i){const a=r.layers;if(a)for(let u=0;u<a.length;u++)if(a[u].id===i)return a[u];const y=r.tables;if(y)for(let u=0;u<y.length;u++)if(y[u].id===i)return y[u];return null}(u,a.layerId),n&&(1===C(u)&&(l=!1),null!=u.showLegend&&(n.showLegend=u.showLegend))),l&&"service-name"!==a.sublayerTitleMode&&(a.sublayerTitleMode="item-title-and-service-name"),n}return u});return function(u){return y.apply(this,arguments)}}())}function O(r,i){return A.apply(this,arguments)}function A(){return(A=(0,o.Z)(function*(r,i){if(null==r?.layers||null==r?.tables){const a=yield(0,P.b)(i);(r=r||{}).layers=r.layers||a?.layers,r.tables=r.tables||a?.tables}return r})).apply(this,arguments)}function W(r){const i=r.layers;if(i&&i.length)return i[0].id;const a=r.tables;return a&&a.length?a[0].id:null}function C(r){return(r?.layers?.length??0)+(r?.tables?.length??0)}},37281:(Z,p,t)=>{t.d(p,{$o:()=>D,Kz:()=>T,_$:()=>S,ck:()=>M,qj:()=>P});var o=t(15861),h=t(55915),e=t(65234),s=t(46367);function d(c){return I.apply(this,arguments)}function I(){return(I=(0,o.Z)(function*(c){const L=c.spatialReference;if(L.isWGS84)return c.clone();if(L.isWebMercator)return(0,s.Sx)(c);const f=e.Z.WGS84;return yield(0,h.iQ)(L,f),(0,h.iV)(c,f)})).apply(this,arguments)}function P(c,L){if(!S(c,L)){const f=c.typeKeywords;f?f.push(L):c.typeKeywords=[L]}}function S(c,L){return!!c.typeKeywords?.includes(L)}function M(c,L){const f=c.typeKeywords;if(f){const g=f.indexOf(L);g>-1&&f.splice(g,1)}}function D(c){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)(function*(c){const L=c.clone().normalize();let f;if(L.length>1)for(const g of L)f?g.width>f.width&&(f=g):f=g;else f=L[0];return d(f)})).apply(this,arguments)}const T={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}},7534:(Z,p,t)=>{t.r(p),t.d(p,{fromItem:()=>S,selectLayerClassPath:()=>D});var o=t(15861),h=t(26584),e=t(30164),s=t(55463),d=t(83705),I=t(37281),P=t(45205);function S(n){return!n.portalItem||n.portalItem instanceof s.default||(n={...n,portalItem:new s.default(n.portalItem)}),function M(n){return n.load().then(D).then(E)}(n.portalItem).then(l=>{const m={portalItem:n.portalItem,...l.properties};return new l.constructor(m)})}function D(n){switch(n.type){case"Map Service":return function T(n){return function a(n){return(0,P.b)(n.url).then(l=>l.tileInfo)}(n).then(l=>l?{className:"TileLayer"}:{className:"MapImageLayer"})}(n);case"Feature Service":return function c(n){return y(n).then(l=>{if("object"==typeof l){const m={};return null!=l.id&&(m.layerId=l.id),{className:"FeatureLayer",properties:m}}return{className:"GroupLayer"}})}(n);case"Feature Collection":return function f(n){return g.apply(this,arguments)}(n);case"Scene Service":return function L(n){return y(n).then(l=>{if("object"==typeof l){const m={};let j;if(null!=l.id?(m.layerId=l.id,j=`${n.url}/layers/${l.id}`):j=n.url,Array.isArray(n.typeKeywords)&&n.typeKeywords.length>0){const v={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const N of Object.keys(v))if(n.typeKeywords.includes(N))return{className:v[N]}}return(0,P.b)(j).then(v=>{let N="SceneLayer";const B={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return v&&v.layerType&&B[v.layerType]&&(N=B[v.layerType]),{className:N,properties:m}})}return!1===l?(0,P.b)(n.url).then(m=>"Voxel"===m?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}):{className:"GroupLayer"}})}(n);case"Image Service":return function U(n){return O.apply(this,arguments)}(n);case"Stream Service":case"Feed":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WFS":return{className:"WFSLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new h.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:n.type}))}}function E(n){return(0,e.T[n.className])().then(l=>({constructor:l,properties:n.properties}))}function g(){return(g=(0,o.Z)(function*(n){if(yield n.load(),(0,I._$)(n,"Map Notes"))return{className:"MapNotesLayer"};if((0,I._$)(n,"Route Layer"))return{className:"RouteLayer"};const l=yield n.fetchData();return 1===(0,d.getNumLayersAndTables)(l)?{className:"FeatureLayer"}:{className:"GroupLayer"}})).apply(this,arguments)}function O(){return(O=(0,o.Z)(function*(n){yield n.load();const l=n.typeKeywords?.map(v=>v.toLowerCase())??[];if(l.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(l.includes("tiled imagery"))return{className:"ImageryTileLayer"};const m=(yield n.fetchData())?.layerType;return"ArcGISTiledImageServiceLayer"===m?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===m?{className:"ImageryLayer"}:"map"===(yield(0,P.b)(n.url)).cacheType?.toLowerCase()?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}})).apply(this,arguments)}function y(n){return!n.url||n.url.match(/\/\d+$/)?Promise.resolve({}):n.load().then(()=>n.fetchData()).then(function(){var l=(0,o.Z)(function*(m){return"Feature Service"===n.type?u(m=yield(0,d.preprocessFSItemData)(m,n.url)):(0,d.getNumLayersAndTables)(m)>0?u(m):(0,P.b)(n.url).then(u)});return function(m){return l.apply(this,arguments)}}())}function u(n){return 1===(0,d.getNumLayersAndTables)(n)&&{id:(0,d.getFirstLayerOrTableId)(n)}}},45205:(Z,p,t)=>{t.d(p,{b:()=>e});var o=t(15861),h=t(84792);function e(d){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)(function*(d){const{data:I}=yield(0,h.default)(d,{responseType:"json",query:{f:"json"}});return I})).apply(this,arguments)}}}]);