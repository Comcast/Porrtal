"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[4135],{44135:(cn,O,y)=>{y.r(O),y.d(O,{classBreaks:()=>ln,heatmapStatistics:()=>on,histogram:()=>rn,summaryStatistics:()=>tn,uniqueValues:()=>an});var E=y(15861),Y=(y(29132),y(26584),y(62208)),L=y(23841),H=y(65234),Q=y(7848),B=y(37053),G=(y(36630),y(36859)),x=y(26072),J=y(46679),K=y(72642);let V=null;function k(t,i,l,r){const o=(0,B.MP)(l)?(0,B.C5)(l):null,f=o?Math.round((o.valid[1]-o.valid[0])/i.scale[0]):null;return t.map(d=>{const s=new K.Z((0,Y.Wg)(d.geometry));return(0,Q.RF)(i,s,s,s.hasZ,s.hasM),d.geometry=o?function X(t,i,l){return t.x<0?t.x+=i:t.x>l&&(t.x-=i),t}(s,f,r[0]):s,d})}function q(t,i=18,l,r,o,f){const d=new Float64Array(o*f);i=Math.round((0,L.F2)(i));let s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,m=0,h=0,v=0,p=0;const g=(0,G.wx)(r,l);for(const{geometry:D,attributes:T}of t){const{x:$,y:I}=D,M=Math.max(0,$-i),R=Math.max(0,I-i),sn=Math.min(f,I+i),un=Math.min(o,$+i),fn=+g(T);for(let N=R;N<sn;N++)for(let P=M;P<un;P++){const W=N*o+P,dn=(0,G.If)(P-$,N-I,i),mn=d[W];m=d[W]+=dn*fn;const A=m-mn;h+=A,v+=A*A,m<s&&(s=m),m>c&&(c=m),p++}}if(!p)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const z=(c-s)/2;return{mean:h/p,stdDev:Math.sqrt((v-h*h/p)/p),min:s,max:c,mid:z,count:p}}function j(t,i){return C.apply(this,arguments)}function C(){return(C=(0,E.Z)(function*(t,i){if(!i)return[];const{field:l,field2:r,field3:o,fieldDelimiter:f}=t,d=t.valueExpression,s=t.normalizationType,c=t.normalizationField,m=t.normalizationTotal,h=[],v=t.viewInfoParams;let p=null,g=null;if(d){if(!V){const{arcadeUtils:T}=yield(0,J.LC)();V=T}p=V.createFunction(d),g=v&&V.getViewInfo({viewingMode:v.viewingMode,scale:v.scale,spatialReference:new H.Z(v.spatialReference)})}const z=t.fieldInfos,D=i[0]&&"declaredClass"in i[0]&&"esri.Graphic"===i[0].declaredClass||!z?null:{fields:z};return i.forEach(T=>{const $=T.attributes;let I;if(d){const M=D?{...T,layer:D}:T,R=V.createExecContext(M,g);I=V.executeFunction(p,R)}else $&&(I=$[l],r&&(I=`${(0,x.wk)(I)}${f}${(0,x.wk)($[r])}`,o&&(I=`${I}${f}${(0,x.wk)($[o])}`)));if(s&&"number"==typeof I&&isFinite(I)){const M=$&&parseFloat($[c]);I=(0,x.fk)(I,s,M,m)}h.push(I)}),h})).apply(this,arguments)}function tn(t){return w.apply(this,arguments)}function w(){return(w=(0,E.Z)(function*(t){const{attribute:i,features:l}=t,{normalizationType:r,normalizationField:o,minValue:f,maxValue:d,fieldType:s}=i,c=yield j({field:i.field,valueExpression:i.valueExpression,normalizationType:r,normalizationField:o,normalizationTotal:i.normalizationTotal,viewInfoParams:i.viewInfoParams,fieldInfos:i.fieldInfos},l),m=(0,x.S5)({normalizationType:r,normalizationField:o,minValue:f,maxValue:d}),h={value:.5,fieldType:s},v="esriFieldTypeString"===s?(0,x.H0)({values:c,supportsNullCount:m,percentileParams:h}):(0,x.i5)({values:c,minValue:f,maxValue:d,useSampleStdDev:!r,supportsNullCount:m,percentileParams:h});return(0,x.F_)(v,"esriFieldTypeDate"===s)})).apply(this,arguments)}function an(t){return U.apply(this,arguments)}function U(){return(U=(0,E.Z)(function*(t){const{attribute:i,features:l}=t,r=yield j({field:i.field,field2:i.field2,field3:i.field3,fieldDelimiter:i.fieldDelimiter,valueExpression:i.valueExpression,viewInfoParams:i.viewInfoParams,fieldInfos:i.fieldInfos},l),o=(0,x.eT)(r);return(0,x.Qm)(o,i.domains,i.returnAllCodedValues,i.fieldDelimiter)})).apply(this,arguments)}function ln(t){return S.apply(this,arguments)}function S(){return(S=(0,E.Z)(function*(t){const{attribute:i,features:l}=t,{field:r,normalizationType:o,normalizationField:f,normalizationTotal:d,classificationMethod:s}=i,c=yield j({field:r,valueExpression:i.valueExpression,normalizationType:o,normalizationField:f,normalizationTotal:d,viewInfoParams:i.viewInfoParams,fieldInfos:i.fieldInfos},l),m=(0,x.G2)(c,{field:r,normalizationType:o,normalizationField:f,normalizationTotal:d,classificationMethod:s,standardDeviationInterval:i.standardDeviationInterval,numClasses:i.numClasses,minValue:i.minValue,maxValue:i.maxValue});return(0,x.DL)(m,s)})).apply(this,arguments)}function rn(t){return b.apply(this,arguments)}function b(){return(b=(0,E.Z)(function*(t){const{attribute:i,features:l}=t,{field:r,normalizationType:o,normalizationField:f,normalizationTotal:d,classificationMethod:s}=i,c=yield j({field:r,valueExpression:i.valueExpression,normalizationType:o,normalizationField:f,normalizationTotal:d,viewInfoParams:i.viewInfoParams,fieldInfos:i.fieldInfos},l);return(0,x.oF)(c,{field:r,normalizationType:o,normalizationField:f,normalizationTotal:d,classificationMethod:s,standardDeviationInterval:i.standardDeviationInterval,numBins:i.numBins,minValue:i.minValue,maxValue:i.maxValue})})).apply(this,arguments)}function on(t){return Z.apply(this,arguments)}function Z(){return(Z=(0,E.Z)(function*(t){const{attribute:i,features:l}=t,{field:r,radius:o,fieldOffset:f,transform:d,spatialReference:s,size:c}=i,m=k(l,d,s,c),{count:h,min:v,max:p,mean:g,stdDev:z}=q(m,o,f,r,c[0],c[1]);return{count:h,min:v,max:p,avg:g,stddev:z}})).apply(this,arguments)}}}]);