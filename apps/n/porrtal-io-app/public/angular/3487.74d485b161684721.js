"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[3487],{14259:(B,R,i)=>{i.d(R,{q:()=>U});var T,D,G={exports:{}};T=G,void 0!==(D=function(){function g(t,n,p,l,E){for(;l>p;){if(l-p>600){var O=l-p+1,a=n-p+1,_=Math.log(O),c=.5*Math.exp(2*_/3),b=.5*Math.sqrt(_*c*(O-c)/O)*(a-O/2<0?-1:1);g(t,n,Math.max(p,Math.floor(n-a*c/O+b)),Math.min(l,Math.floor(n+(O-a)*c/O+b)),E)}var y=t[n],o=p,d=l;for(s(t,p,n),E(t[l],y)>0&&s(t,p,l);o<d;){for(s(t,o,d),o++,d--;E(t[o],y)<0;)o++;for(;E(t[d],y)>0;)d--}0===E(t[p],y)?s(t,p,d):s(t,++d,l),d<=n&&(p=d+1),n<=d&&(l=d-1)}}function s(t,n,p){var l=t[n];t[n]=t[p],t[p]=l}function r(t,n){return t<n?-1:t>n?1:0}return function V(t,n,p,l,E){g(t,n,p||0,l||t.length-1,E||r)}}())&&(T.exports=D);const U=G.exports},77044:(B,R,i)=>{i.d(R,{Y:()=>D});var T=i(62208);function m(t,n){return t?n?4:3:n?3:2}function D(t,n,p,l,E){if((0,T.Wi)(n)||!n.lengths.length)return null;const O="upperLeft"===E?.originPosition?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const a=t.coords,_=[],c=p?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:b,coords:y}=n,o=m(p,l);let d=0;for(const h of b){const f=G(c,y,d,h,p,l,O);f&&_.push(f),d+=h*o}if(_.sort((h,f)=>{let S=O*h[2]-O*f[2];return 0===S&&p&&(S=h[4]-f[4]),S}),_.length){let h=6*_[0][2];a[0]=_[0][0]/h,a[1]=_[0][1]/h,p&&(h=6*_[0][4],a[2]=0!==h?_[0][3]/h:0),(a[0]<c[0]||a[0]>c[1]||a[1]<c[2]||a[1]>c[3]||p&&(a[2]<c[4]||a[2]>c[5]))&&(a.length=0)}if(!a.length){const h=n.lengths[0]?function U(t,n,p,l,E){const O=m(l,E);let a=n,_=n+O,c=0,b=0,y=0,o=0;for(let d=0,h=p-1;d<h;d++,a+=O,_+=O){const f=t[a],S=t[a+1],x=t[a+2],M=t[_],P=t[_+1],v=t[_+2],j=l?g(f,S,x,M,P,v):V(f,S,M,P);if(j)if(c+=j,l){const e=r(f,S,x,M,P,v);b+=j*e[0],y+=j*e[1],o+=j*e[2]}else{const e=s(f,S,M,P);b+=j*e[0],y+=j*e[1]}}return c>0?l?[b/c,y/c,o/c]:[b/c,y/c]:p>0?l?[t[n],t[n+1],t[n+2]]:[t[n],t[n+1]]:null}(y,0,b[0],p,l):null;if(!h)return null;a[0]=h[0],a[1]=h[1],p&&h.length>2&&(a[2]=h[2])}return t}function G(t,n,p,l,E,O,a=1){const _=m(E,O);let c=p,b=p+_,y=0,o=0,d=0,h=0,f=0;for(let x=0,M=l-1;x<M;x++,c+=_,b+=_){const P=n[c],v=n[c+1],j=n[c+2],e=n[b],u=n[b+1],I=n[b+2];let C=P*u-e*v;h+=C,y+=(P+e)*C,o+=(v+u)*C,E&&(C=P*I-e*j,d+=(j+I)*C,f+=C),P<t[0]&&(t[0]=P),P>t[1]&&(t[1]=P),v<t[2]&&(t[2]=v),v>t[3]&&(t[3]=v),E&&(j<t[4]&&(t[4]=j),j>t[5]&&(t[5]=j))}if(h*a>0&&(h*=-1),f*a>0&&(f*=-1),!h)return null;const S=[y,o,.5*h];return E&&(S[3]=d,S[4]=.5*f),S}function V(t,n,p,l){const E=p-t,O=l-n;return Math.sqrt(E*E+O*O)}function g(t,n,p,l,E,O){const a=l-t,_=E-n,c=O-p;return Math.sqrt(a*a+_*_+c*c)}function s(t,n,p,l){return[t+.5*(p-t),n+.5*(l-n)]}function r(t,n,p,l,E,O){return[t+.5*(l-t),n+.5*(E-n),p+.5*(O-p)]}},22229:(B,R,i)=>{i.d(R,{Z:()=>b});var T=i(17626),m=i(14517),D=i(61885),G=i(72392),U=i(62208),V=i(32917),g=i(77712),n=(i(85931),i(8314),i(90912),i(76898)),p=i(77029),l=i(65401),E=i(87091);class a{constructor(){this._extents=new p.Z({allocator:o=>o||(0,l.Ue)()}),this._tmpExtent=(0,l.Ue)(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(o){this._contains(o)||(this._removeContained(o),(0,l.JG)(this._extents.pushNew(),o),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(o){return this._mergeTight(o),o.hasProgressed}_mergeTight(o=E.G5){const d=this._extents,h=new Set;let f=0;for(;f!==d.length;){d.sort((S,x)=>S[0]-x[0]),f=d.length,h.clear();for(let S=0;S<d.length;++S){if(o.done)return;const x=d.getItemAt(S);for(let M=S+1;M<d.length;++M){const P=d.getItemAt(M);if(P[0]>=x[2])break;h.add(P)}h.forEach(M=>{if(x===M)return;if(M[2]<=x[0])return void h.delete(M);const P=(0,l.SO)(x),v=(0,l.SO)(M),j=this._tmpExtent;(0,l.jn)(x,M,j);const e=P+v;((0,l.SO)(j)-e)/e<.05&&((0,l.JG)(x,j),h.delete(M),d.remove(M),o.madeProgress())}),h.add(x)}}this._dirty=!1}_contains(o){return this._extents.some(d=>(0,l.r3)(d,o))}_removeContained(o){this._extents.filterInPlace(d=>!(0,l.r3)(o,d))}get test(){const o=this;return{containsPoint:d=>o._extents.some(h=>(0,l.BD)(h,d))}}}var _=i(42743);let c=class extends m.Z{constructor(){super(...arguments),this.dirtyExtents=new a,this.globalDirty=!1,this.averageExtentUpdateSize=0,this.dirtyGraphicsSet=new Set,this.handles=new G.Z,this.updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new D.Z}setup(y,o,d,h){this.graphicsCoreOwner=y,this.queryGraphicUIDsInExtent=o,this.graphicsCore=d,this.elevationProvider=h;const f=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add([h.on("elevation-change",S=>this._elevationChanged(S)),(0,V.YP)(()=>this.graphicsCoreOwner.suspended,()=>this._suspendedChange()),f.registerTask(E.T8.ELEVATION_ALIGNMENT,this)])}destroy(){this.dirtyGraphicsSet.clear(),this.handles.destroy(),this.handles=null,this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null}clear(){this.dirtyGraphicsSet.clear(),this.notifyChange("updating")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this.updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this.updateElevation&&(this.globalDirty=!0,this.notifyChange("updating"))}elevationInfoChange(){this.globalDirty=!0,this.notifyChange("updating")}get updating(){return this.running}get running(){return this.dirtyGraphicsSet.size>0||this.dirtyExtents&&!this.dirtyExtents.empty||this.globalDirty}get updatingRemaining(){return this.dirtyGraphicsSet.size+this.dirtyExtents.size*this.averageExtentUpdateSize}runTask(y){for(this.globalDirty&&(this._markAllGraphicsElevationDirty(),this.globalDirty=!1,y.madeProgress()),y.run(()=>this.dirtyExtents.merge(y));this.running&&!y.done;)this._updateDirtyGraphics(y),this._updateDirtyExtents(y);this.graphicsCoreOwner.view.deconflictor.setDirty(),this.notifyChange("updating")}_updateDirtyGraphics(y){const o=this.graphicsCoreOwner.view.renderCoordsHelper,d=this.graphicsCore.effectiveUpdatePolicy===_.jq.ASYNC;for(const h of this.dirtyGraphicsSet.keys()){const f=this.graphicsCore.getGraphics3DGraphicById(h);if(this.dirtyGraphicsSet.delete(h),(0,U.pC)(f)&&(f.alignWithElevation(this.elevationProvider,o,d),y.madeProgress()),y.done)return}}_updateDirtyExtents(y){for(;!this.dirtyExtents.empty&&!y.done;){const o=this.dirtyExtents.pop(),d=this.elevationProvider.spatialReference;this.events.emit("invalidate-elevation",{extent:o,spatialReference:d});const h=this.dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(o,d,f=>{const S=this.graphicsCore.getGraphics3DGraphicById(f);(0,U.pC)(S)&&S.needsElevationUpdates()&&this.dirtyGraphicsSet.add(f)}),this.averageExtentUpdateSize=.1*(this.dirtyGraphicsSet.size-h)+.9*this.averageExtentUpdateSize,y.madeProgress()}}_markAllGraphicsElevationDirty(){this.dirtyExtents.clear(),this.dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach((y,o)=>this.dirtyGraphicsSet.add(o))}_elevationChanged(y){if("scene"===y.context&&(!this.graphicsCore.layer.elevationInfo||"relative-to-scene"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:o,spatialReference:d}=y;if(this.graphicsCoreOwner.suspended){if(!this.updateElevation){const h=this.graphicsCore.computedExtent;h&&o[2]>h.xmin&&o[0]<h.xmax&&o[3]>h.ymin&&o[1]<h.ymax&&(this.updateElevation=!0)}this.events.emit("invalidate-elevation",{extent:o,spatialReference:d})}else o[0]===-1/0?this.globalDirty=!0:this.dirtyExtents.add(o),this.notifyChange("updating")}};(0,T._)([(0,g.Cb)({readOnly:!0})],c.prototype,"updating",null),(0,T._)([(0,g.Cb)({readOnly:!0})],c.prototype,"updatingRemaining",null),c=(0,T._)([(0,n.j)("esri.views.3d.layers.graphics.Graphics3DElevationAlignment")],c);const b=c},83518:(B,R,i)=>{i.d(R,{Z:()=>O});var T=i(17626),m=i(14517),D=i(72392),G=i(32917),U=i(77712),r=(i(85931),i(8314),i(90912),i(76898)),t=i(12080),n=i(37810),p=i(87091);let E=class extends m.Z{constructor(){super(...arguments),this.suspended=!1,this.extent=null,this.extentIntersectionDirty=!0,this._isVisibleBelowSurface=!1,this.handles=new D.Z,this.graphicsCoreOwner=null,this.updating=!0}setup(a){this.graphicsCoreOwner=a,this.extentIntersection=new n.q({renderCoordsHelper:a.view.renderCoordsHelper});const _=a.view,c=_.basemapTerrain,b=_.resourceController.scheduler;this.handles.add([_.on("resize",()=>this._viewChange()),(0,G.YP)(()=>_.state.camera,()=>this._viewChange(),G.Z_),b.registerTask(p.T8.FRUSTUM_VISIBILITY,this),c.on("elevation-bounds-change",()=>this._elevationBoundsChange())]),"local"===_.viewingMode?this.isVisibleBelowSurface=!0:this.handles.add([(0,G.YP)(()=>[c.baseOpacity,c.wireframe,_.map?.ground?.navigationConstraint?.type],()=>this._updateIsVisibleBelowSurface(),G.nn)])}destroy(){this.graphicsCoreOwner=null,this.extent=null,this.extentIntersection=null,this.handles&&(this.handles.destroy(),this.handles=null)}_setDirty(){this.updating||this._set("updating",!0)}setExtent(a){this.extent=a,this.extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this.extentIntersectionDirty=!0}set isVisibleBelowSurface(a){this._isVisibleBelowSurface=a,this._setDirty(),this.extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const a=this.graphicsCoreOwner.view;this.isVisibleBelowSurface="local"===a.viewingMode||!a.basemapTerrain.opaque||a.map.ground&&a.map.ground.navigationConstraint&&"none"===a.map.ground.navigationConstraint.type}_updateExtentIntersection(){if(!this.extentIntersectionDirty)return;this.extentIntersectionDirty=!1;const a=this.graphicsCoreOwner.view;let _;if(this._isVisibleBelowSurface)_=-.3*(0,t.Iu)(a.spatialReference).radius;else{const{min:c,max:b}=a.basemapTerrain.elevationBounds;_=c-Math.max(1,(b-c)*(1.2-1))}this.extentIntersection.update(this.extent,a.spatialReference,_)}get running(){return this.updating}runTask(){if(this._set("updating",!1),!this.extent)return void this._set("suspended",!1);this._updateExtentIntersection();const a=this.graphicsCoreOwner.view.frustum,_=(0,t.Iu)(this.graphicsCoreOwner.view.spatialReference).radius;this._set("suspended",!this.extentIntersection.isVisibleInFrustum(a,_))}};(0,T._)([(0,U.Cb)({readOnly:!0})],E.prototype,"suspended",void 0),(0,T._)([(0,U.Cb)({readOnly:!0})],E.prototype,"updating",void 0),E=(0,T._)([(0,r.j)("esri.views.3d.layers.graphics.Graphics3DFrustumVisibility")],E);const O=E},14752:(B,R,i)=>{i.d(R,{d:()=>V});var D,g,T=i(54024),m=i(42743);(g=D||(D={}))[g.Object=0]="Object",g[g.RenderGeometry=1]="RenderGeometry",g[g.External=2]="External",g[g.COUNT=3]="COUNT";class G{constructor(){this.items=[]}addObject(s,r){this.items.push({type:D.Object,objectStateId:r,object:s})}addRenderGeometry(s,r,t){this.items.push({type:D.RenderGeometry,objectStateId:r,renderGeometry:s,owner:t})}addExternal(s,r){this.items.push({type:D.External,objectStateId:r,remove:s})}remove(s){for(let r=this.items.length-1;r>=0;--r){const t=this.items[r];t.objectStateId===s&&(this._removeObjectStateItem(t),this.items.splice(r,1))}}removeObject(s){for(let r=this.items.length-1;r>=0;--r){const t=this.items[r];t.type===D.Object&&t.object===s&&(this._removeObjectStateItem(t),this.items.splice(r,1))}}removeRenderGeometry(s){for(let r=this.items.length-1;r>=0;--r){const t=this.items[r];t.type===D.RenderGeometry&&t.renderGeometry===s&&(this._removeObjectStateItem(t),this.items.splice(r,1))}}removeAll(){this.items.forEach(s=>{this._removeObjectStateItem(s)}),this.items=[]}_removeObjectStateItem(s){switch(s.type){case D.Object:s.objectStateId.channel===m.V_.Highlight?s.object.removeHighlight(s.objectStateId):s.objectStateId.channel===m.V_.MaskOccludee&&s.object.removeOcclude(s.objectStateId);break;case D.RenderGeometry:s.owner.removeRenderGeometryObjectState(s.renderGeometry,s.objectStateId);break;case D.External:s.remove(s.objectStateId)}}}class U{constructor(s,r){this.stateType=s,this.objectIdField=r,this.objectStateSet=new G,this.ids=new Set,this.paused=!1}hasGraphic(s){return this.ids.has(this.objectIdField?s.graphic.attributes[this.objectIdField]:s.graphic.uid)}}class V{constructor(s){this._graphicsCore=s,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach(s=>s.objectStateSet.removeAll()),this._stateSets=null}acquireSet(s,r){const t=new U(s,r);this._stateSets.push(t);const n=(0,T.kB)(()=>this.releaseSet(t));return{set:t,handle:n}}releaseSet(s){s.objectStateSet.removeAll();const r=this._stateSets?this._stateSets.indexOf(s):-1;-1!==r&&this._stateSets.splice(r,1)}_addObjectStateSet(s,r){s.addObjectStateSet(r.stateType,r.objectStateSet)}_removeObjectStateSet(s,r){s.removeObjectState(r.objectStateSet)}setUid(s,r){s.ids.add(r);const t=this._graphicsCore.graphics3DGraphics.get(r);t&&this._addObjectStateSet(t,s)}setUids(s,r){r.forEach(t=>this.setUid(s,t))}setObjectIds(s,r){r.forEach(t=>s.ids.add(t)),this._initializeSet(s)}addGraphic(s){this._stateSets.forEach(r=>{!r.paused&&r.hasGraphic(s)&&this._addObjectStateSet(s,r)})}removeGraphic(s){this._stateSets.forEach(r=>{r.hasGraphic(s)&&this._removeObjectStateSet(s,r)})}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach(s=>s.objectStateSet.removeAll())}_initializeSet(s){const r=this._graphicsCore.graphics3DGraphics;s.objectIdField?r.forEach(t=>{t&&s.hasGraphic(t)&&this._addObjectStateSet(t,s)}):s.ids.forEach(t=>{const n=r.get(t);n&&this._addObjectStateSet(n,s)})}get test(){return{states:this._stateSets}}}},32400:(B,R,i)=>{i.d(R,{D:()=>v});var T=i(15861),m=i(17626),D=i(88879),G=i(46160),U=i(80542),V=i(54024),g=i(62208),s=i(10699),r=i(32917),t=i(77712),E=(i(85931),i(8314),i(90912),i(76898)),O=i(84682),a=i(44917),_=i(84786),c=i(39256),b=i(84952),y=i(62600),o=i(80960),d=i(1191),h=i(22229),f=i(83518),S=i(14752),x=i(67873),M=i(67225),P=i(42743);let v=class extends U.r{constructor(e){super(e),this.type="graphics-3d",this.graphicsCore=null,this.elevationAlignment=new h.Z,this.drapeSourceType=y.L.Features,this._suspendResumeExtent=null}normalizeCtorArgs(e){const u={...e,scaleVisibility:null,frustumVisibility:null};return delete u.scaleVisibilityEnabled,delete u.frustumVisibilityEnabled,e.scaleVisibilityEnabled&&(u.scaleVisibility=new x.Z),e.frustumVisibilityEnabled&&(u.frustumVisibility=new f.Z),u}initialize(){const e=new d.w({owner:this,layer:this.owner.layer,preferredUpdatePolicy:P.jq.SYNC,graphicSymbolSupported:!0});this._set("graphicsCore",e);const{layer:u,scaleVisibility:I}=this;if((0,g.pC)(I)&&"effectiveScaleRange"in u){const C=u;this.updatingHandles.add(()=>C.effectiveScaleRange,()=>I.layerMinMaxScaleChangeHandler())}if("fullOpacity"in this.owner){const C=this.owner;this.updatingHandles.add(()=>C.fullOpacity,()=>this.graphicsCore.opacityChange())}if("elevationInfo"in u){const C=u;this.updatingHandles.add(()=>C.elevationInfo,(A,w)=>{(0,O.Hg)(A,w)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})}}setup(){var e=this;return(0,T.Z)(function*(){const u=(I,C,A)=>e.graphicsCore.spatialIndex.queryGraphicUIDsInExtent(I,C,A);e.elevationAlignment.setup(e,u,e.graphicsCore,e.view.elevationProvider),(0,g.pC)(e.scaleVisibility)&&"effectiveScaleRange"in e.layer&&e.scaleVisibility.setup(e,e.layer,u,e.graphicsCore,e.owner.view.basemapTerrain),(0,g.pC)(e.frustumVisibility)&&e.frustumVisibility.setup(e),e._set("objectStates",new S.d(e.graphicsCore));try{yield e.graphicsCore.setup({elevationAlignment:e.elevationAlignment,scaleVisibility:e.scaleVisibility,objectStates:e.objectStates})}catch(I){if((0,s.D_)(I))return;throw I}e.destroyed||(e.handles.add((0,r.YP)(()=>e.view.clippingArea,()=>e._updateClippingExtent(),r.Z_)),e._updateClippingExtent(),e._setupSuspendResumeExtent(),e.graphicsCore.startCreateGraphics())})()}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set("elevationAlignment",(0,g.SC)(this.elevationAlignment)),this._set("scaleVisibility",(0,g.SC)(this.scaleVisibility)),this._set("frustumVisibility",(0,g.SC)(this.frustumVisibility)),this._set("objectStates",(0,g.SC)(this.objectStates)),this._set("graphicsCore",(0,g.SC)(this.graphicsCore))}get layer(){return this.owner.layer}get view(){return this.owner.view}get scaleVisibilitySuspended(){return!(!(0,g.pC)(this.scaleVisibility)||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return!(!(0,g.pC)(this.frustumVisibility)||!this.frustumVisibility.suspended)}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||(0,g.pC)(this.scaleVisibility)&&this.scaleVisibility.updating||(0,g.pC)(this.frustumVisibility)&&this.frustumVisibility.updating||this.updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,u,I){const C=(0,c.Kb)(e,{renderer:u,arcade:I});if((0,g.pC)(C)&&C.color){const A=C.color;A[0]=A[0]/255,A[1]=A[1]/255,A[2]=A[2]/255}return C}getRenderingInfoAsync(e,u,I,C){return(0,c.xn)(e,{renderer:u,arcade:I,...C})}getHit(e){if(this.owner.loadedGraphics){const u=this.owner.loadedGraphics.find(I=>I.uid===e);if(u){const C=(0,_.mW)(u,this.layer instanceof a.Z?this.layer:null);return{type:"graphic",graphic:C,layer:C.layer}}}return null}whenGraphicBounds(e,u){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(e,u):Promise.reject()}computeAttachmentOrigin(e,u){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(e,u):null}getSymbolLayerSize(e,u){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(e,u):null}maskOccludee(e){const{set:u,handle:I}=this.objectStates.acquireSet(P.V_.MaskOccludee,null);return this.objectStates.setUid(u,e.uid),I}highlight(e){if(e instanceof b.Z)return j;if("number"==typeof e)return this.highlight([e]);if(e instanceof D.Z)return this.highlight([e]);if(e instanceof G.Z&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof D.Z){const u=e.map(A=>A.uid),{set:I,handle:C}=this.objectStates.acquireSet(P.V_.Highlight,null);return this.objectStates.setUids(I,u),C}if("number"==typeof e[0]){const u=e,{set:I,handle:C}=this.objectStates.acquireSet(P.V_.Highlight,null);return this.objectStates.setObjectIds(I,u),C}}return j}_setupSuspendResumeExtent(){const{scaleVisibility:e,frustumVisibility:u}=this;if((0,g.Wi)(e)&&(0,g.Wi)(u))return;const I=({computedExtent:C,extentPadding:A})=>{this._suspendResumeExtent=(0,M.Go)(C,this._suspendResumeExtent,o.ZF,A),(0,g.pC)(e)&&e.setExtent(this._suspendResumeExtent),(0,g.pC)(u)&&u.setExtent(this._suspendResumeExtent)};this.handles.add((0,r.YP)(()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding}),C=>I(C),r.tX))}_updateClippingExtent(){this.graphicsCore.setClippingExtent(this.view.clippingArea,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};(0,m._)([(0,t.Cb)()],v.prototype,"type",void 0),(0,m._)([(0,t.Cb)({constructOnly:!0})],v.prototype,"owner",void 0),(0,m._)([(0,t.Cb)()],v.prototype,"layer",null),(0,m._)([(0,t.Cb)()],v.prototype,"view",null),(0,m._)([(0,t.Cb)({constructOnly:!0})],v.prototype,"graphicsCore",void 0),(0,m._)([(0,t.Cb)({constructOnly:!0})],v.prototype,"scaleVisibility",void 0),(0,m._)([(0,t.Cb)({constructOnly:!0})],v.prototype,"frustumVisibility",void 0),(0,m._)([(0,t.Cb)({readOnly:!0})],v.prototype,"elevationAlignment",void 0),(0,m._)([(0,t.Cb)({readOnly:!0})],v.prototype,"objectStates",void 0),(0,m._)([(0,t.Cb)({readOnly:!0})],v.prototype,"scaleVisibilitySuspended",null),(0,m._)([(0,t.Cb)({readOnly:!0})],v.prototype,"frustumVisibilitySuspended",null),(0,m._)([(0,t.Cb)()],v.prototype,"suspended",null),(0,m._)([(0,t.Cb)({readOnly:!0})],v.prototype,"updating",null),(0,m._)([(0,t.Cb)()],v.prototype,"loadedGraphics",null),(0,m._)([(0,t.Cb)()],v.prototype,"fullOpacity",null),(0,m._)([(0,t.Cb)()],v.prototype,"slicePlaneEnabled",null),(0,m._)([(0,t.Cb)()],v.prototype,"drapeSourceType",void 0),(0,m._)([(0,t.Cb)()],v.prototype,"updatePolicy",null),v=(0,m._)([(0,E.j)("esri.views.3d.layers.graphics.GraphicsProcessor")],v);const j=(0,V.kB)()}}]);