"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[410],{10410:(Vs,Ce,G)=>{G.r(Ce),G.d(Ce,{WhereClause:()=>ie,defaultAttributeAdapter:()=>U});var Pe=G(8314);const _e={min:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.min.apply(Math,l[0])},max:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.max.apply(Math,l[0])},avg:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Fe(l[0])},sum:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:function qt(l){let u=0;for(let o=0;o<l.length;o++)u+=l[o];return u}(l[0])},stddev:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.sqrt(Le(l[0]))},count:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].length},var:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Le(l[0])}};function Fe(l){let u=0;for(let o=0;o<l.length;o++)u+=l[o];return u/l.length}function Le(l){const u=Fe(l),o=l.length;let p=0;for(const i of l)p+=(i-u)**2;return o>1?p/(o-1):0}var Yt=G(77275);class C{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0}static _fixDefaults(u){if(null!==u.precision||null!==u.secondary)throw new Error("Primary and Secondary SqlInterval qualifiers not supported")}static createFromMilliseconds(u){const o=new C;return o.second=u/1e3,o}static createFromValueAndQualifer(u,o,p){let i=null;const v=new C;if(v.op="-"===p?"-":"+","interval-period"===o.type){C._fixDefaults(o);const m=new RegExp("^[0-9]{1,}$");if("year"===o.period||"month"===o.period)throw new Error("Year-Month Intervals not supported");if(!m.test(u))throw new Error("Illegal Interval");v[o.period]=parseFloat(u)}else{if(C._fixDefaults(o.start),C._fixDefaults(o.end),"year"===o.start.period||"month"===o.start.period)throw new Error("Year-Month Intervals not supported");if("year"===o.end.period||"month"===o.end.period)throw new Error("Year-Month Intervals not supported");switch(o.start.period){case"day":switch(o.end.period){case"hour":if(i=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");v[o.start.period]=parseFloat(u.split(" ")[0]),v[o.end.period]=parseFloat(u.split(" ")[1]);break;case"minute":if(i=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");{v[o.start.period]=parseFloat(u.split(" ")[0]);const m=u.split(" ")[1].split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1])}break;case"second":if(i=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{v[o.start.period]=parseFloat(u.split(" ")[0]);const m=u.split(" ")[1].split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1]),v.second=parseFloat(m[2])}break;default:throw new Error("Invalid Interval.")}break;case"hour":switch(o.end.period){case"minute":if(i=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");v.hour=parseFloat(u.split(":")[0]),v.minute=parseFloat(u.split(":")[1]);break;case"second":if(i=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{const m=u.split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1]),v.second=parseFloat(m[2])}break;default:throw new Error("Invalid Interval.")}break;case"minute":if("second"!==o.end.period)throw new Error("Invalid Interval.");if(i=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{const m=u.split(":");v.minute=parseFloat(m[0]),v.second=parseFloat(m[1])}break;default:throw new Error("Invalid Interval.")}}return v}valueInMilliseconds(){return("-"===this.op?-1:1)*(1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}function Me(l,u){const o=De[l.toLowerCase()];if(null==o)throw new Error("Function Not Recognised");if(u.length<o.minParams||u.length>o.maxParams)throw new Error(`Invalid Parameter count for call to ${l.toUpperCase()}`);return o.evaluate(u)}const De={extract:{minParams:2,maxParams:2,evaluate:([l,u])=>{if(null==u)return null;if(u instanceof Date)switch(l.toUpperCase()){case"SECOND":return u.getSeconds();case"MINUTE":return u.getMinutes();case"HOUR":return u.getHours();case"DAY":return u.getDate();case"MONTH":return u.getMonth()+1;case"YEAR":return u.getFullYear()}throw new Error("Invalid Parameter for call to EXTRACT")}},substring:{minParams:2,maxParams:3,evaluate:l=>{if(2===l.length){const[u,o]=l;return null==u||null==o?null:u.toString().substring(o-1)}if(3===l.length){const[u,o,p]=l;return null==u||null==o||null==p?null:p<=0?"":u.toString().substring(o-1,o+p-1)}}},position:{minParams:2,maxParams:2,evaluate:([l,u])=>null==l||null==u?null:u.indexOf(l)+1},trim:{minParams:2,maxParams:3,evaluate:l=>{const u=3===l.length,o=u?l[1]:" ",p=u?l[2]:l[1];if(null==o||null==p)return null;const i=`(${(0,Yt.Qs)(o)})`;switch(l[0]){case"BOTH":return p.replace(new RegExp(`^${i}*|${i}*$`,"g"),"");case"LEADING":return p.replace(new RegExp(`^${i}*`,"g"),"");case"TRAILING":return p.replace(new RegExp(`${i}*$`,"g"),"")}throw new Error("Invalid Parameter for call to TRIM")}},abs:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.abs(l[0])},ceiling:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.ceil(l[0])},floor:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.floor(l[0])},log:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.log(l[0])},log10:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.log(l[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.sin(l[0])},cos:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.cos(l[0])},tan:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.tan(l[0])},asin:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.asin(l[0])},acos:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.acos(l[0])},atan:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.atan(l[0])},sign:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0]>0?1:l[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:l=>null==l[0]||null==l[1]?null:l[0]**l[1]},mod:{minParams:2,maxParams:2,evaluate:l=>null==l[0]||null==l[1]?null:l[0]%l[1]},round:{minParams:1,maxParams:2,evaluate:l=>{const u=l[0],o=2===l.length?10**l[1]:1;return null==u?null:Math.round(u*o)/o}},truncate:{minParams:1,maxParams:2,evaluate:l=>null==l[0]?null:1===l.length?parseInt(l[0].toFixed(0),10):parseFloat(l[0].toFixed(l[1]))},char_length:{minParams:1,maxParams:1,evaluate:l=>"string"==typeof l[0]||l[0]instanceof String?l[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:l=>{let u="";for(let o=0;o<l.length;o++){if(null==l[o])return null;u+=l[o].toString()}return u}},lower:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].toString().toUpperCase()}};G(1719);var Oe,Je={exports:{}};(Oe=Je).exports&&(Oe.exports=function(){function u(i,v,m,t){var N=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(N,u.prototype),N.expected=v,N.found=m,N.location=t,N.name="SyntaxError",N}function o(i,v,m){return m=m||" ",i.length>v?i:i+(m+=m.repeat(v-=i.length)).slice(0,v)}return function l(i,v){function m(){this.constructor=i}m.prototype=v.prototype,i.prototype=new m}(u,Error),u.prototype.format=function(i){var v="Error: "+this.message;if(this.location){var m,t=null;for(m=0;m<i.length;m++)if(i[m].source===this.location.source){t=i[m].text.split(/\r\n|\n|\r/g);break}var N=this.location.start,x=this.location.source+":"+N.line+":"+N.column;if(t){var F=this.location.end,$=o("",N.line.toString().length),O=t[N.line-1],T=N.line===F.line?F.column:O.length+1;v+="\n --\x3e "+x+"\n"+$+" |\n"+N.line+" | "+O+"\n"+$+" | "+o("",N.column-1)+o("",T-N.column,"^")}else v+="\n at "+x}return v},u.buildMessage=function(i,v){var m={literal:function(T){return'"'+N(T.text)+'"'},class:function(T){var E=T.parts.map(function(L){return Array.isArray(L)?x(L[0])+"-"+x(L[1]):x(L)});return"["+(T.inverted?"^":"")+E+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function t(T){return T.charCodeAt(0).toString(16).toUpperCase()}function N(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+t(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+t(E)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+t(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+t(E)})}function F(T){return m[T.type](T)}return"Expected "+function $(T){var E,L,S=T.map(F);if(S.sort(),S.length>0){for(E=1,L=1;E<S.length;E++)S[E-1]!==S[E]&&(S[L]=S[E],L++);S.length=L}switch(S.length){case 1:return S[0];case 2:return S[0]+" or "+S[1];default:return S.slice(0,-1).join(", ")+", or "+S[S.length-1]}}(i)+" but "+function O(T){return T?'"'+N(T)+'"':"end of input"}(v)+" found."},{SyntaxError:u,parse:function p(i,v){var m,t={},N=(v=void 0!==v?v:{}).grammarSource,x={start:mt},F=mt,z="''",Yr=/^[A-Za-z_\x80-\uFFFF]/,Zr=/^[A-Za-z0-9_]/,zr=/^[A-Za-z0-9_.\x80-\uFFFF]/,Qe=/^[^']/,Kr=/^[0-9]/,Qr=/^[eE]/,Xr=/^[+\-]/,en=/^[ \t\n\r]/,Xe=/^[^`]/,tn=g("!",!1),et=g("=",!1),rn=g(">=",!1),nn=g(">",!1),an=g("<=",!1),un=g("<>",!1),sn=g("<",!1),on=g("!=",!1),he=g("+",!1),de=g("-",!1),ln=g("*",!1),cn=g("/",!1),fn=R([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),pn=R([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),vn=R([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),hn=g("@",!1),tt=g("'",!1),dn=g("N'",!1),rt=g("''",!1),nt=R(["'"],!0,!1),mn=g(".",!1),gn=R([["0","9"]],!1,!1),wn=R(["e","E"],!1,!1),yn=R(["+","-"],!1,!1),Nn=g("NULL",!0),bn=g("TRUE",!0),Tn=g("FALSE",!0),xn=g("IN",!0),An=g("IS",!0),In=g("LIKE",!0),En=g("ESCAPE",!0),Sn=g("NOT",!0),Cn=g("AND",!0),Pn=g("OR",!0),_n=g("BETWEEN",!0),Fn=g("FROM",!0),Ln=g("FOR",!0),Mn=g("SUBSTRING",!0),Dn=g("EXTRACT",!0),On=g("TRIM",!0),Rn=g("POSITION",!0),Jn=g("TIMESTAMP",!0),$n=g("DATE",!0),kn=g("LEADING",!0),Hn=g("TRAILING",!0),Un=g("BOTH",!0),Vn=g("TO",!0),Bn=g("INTERVAL",!0),Wn=g("YEAR",!0),Gn=g("MONTH",!0),jn=g("DAY",!0),qn=g("HOUR",!0),Yn=g("MINUTE",!0),Zn=g("SECOND",!0),zn=g("CASE",!0),Kn=g("END",!0),Qn=g("WHEN",!0),Xn=g("THEN",!0),ea=g("ELSE",!0),ta=g(",",!1),ra=g("(",!1),na=g(")",!1),aa=R([" ","\t","\n","\r"],!1,!1),at=g("`",!1),ut=R(["`"],!0,!1),me=function(e,n){return Se(e,n)},st=function(e){return e[0]+" "+e[2]},it=function(e,n){return e+n.join("")},lt=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},ct=function(e,n){return{type:"interval-period",period:"second",precision:e,secondary:n}},ft=function(e){return parseFloat(e)},vt=function(e,n){return{type:"when-clause",operand:e,value:n}},r=0,K=[{line:1,column:1}],M=0,ge=[],c=0;if("startRule"in v){if(!(v.startRule in x))throw new Error("Can't start parsing from rule \""+v.startRule+'".');F=x[v.startRule]}function g(e,n){return{type:"literal",text:e,ignoreCase:n}}function R(e,n,a){return{type:"class",parts:e,inverted:n,ignoreCase:a}}function ht(e){var n,a=K[e];if(a)return a;for(n=e-1;!K[n];)n--;for(a={line:(a=K[n]).line,column:a.column};n<e;)10===i.charCodeAt(n)?(a.line++,a.column=1):a.column++,n++;return K[e]=a,a}function h(e){r<M||(r>M&&(M=r,ge=[]),ge.push(e))}function mt(){var e,n;return e=r,f(),(n=I())!==t?(f(),e=n):(r=e,e=t),e}function gt(){var e,n,a,s,d,y,b,A;if(e=r,(n=I())!==t){for(a=[],s=r,d=f(),(y=oe())!==t?(b=f(),(A=I())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=oe())!==t?(b=f(),(A=I())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=function(e,n){var a={type:"expression-list"},s=function Us(e,n,a){return function Hs(e,n){for(var a=[e],s=0;s<n.length;s++)a.push(n[s][3]);return a}(e,n)}(e,n);return a.value=s,a}(n,a)}else r=e,e=t;return e}function I(){var e,n,a,s,d,y,b,A;if(e=r,(n=we())!==t){for(a=[],s=r,d=f(),(y=Lt())!==t?(b=f(),(A=we())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=Lt())!==t?(b=f(),(A=we())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=me(n,a)}else r=e,e=t;return e}function we(){var e,n,a,s,d,y,b,A;if(e=r,(n=Q())!==t){for(a=[],s=r,d=f(),(y=ae())!==t?(b=f(),(A=Q())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=ae())!==t?(b=f(),(A=Q())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=me(n,a)}else r=e,e=t;return e}function Q(){var e,n,a,s,d;return e=r,(n=Y())===t&&(n=r,33===i.charCodeAt(r)?(a="!",r++):(a=t,0===c&&h(tn)),a!==t?(s=r,c++,61===i.charCodeAt(r)?(d="=",r++):(d=t,0===c&&h(et)),c--,d===t?s=void 0:(r=s,s=t),s!==t?n=a=[a,s]:(r=n,n=t)):(r=n,n=t)),n!==t?(a=f(),(s=Q())!==t?e=function(e){return function ks(e,n){return{type:"unary-expression",operator:e,expr:n}}("NOT",e)}(s):(r=e,e=t)):(r=e,e=t),e===t&&(e=function ju(){var e,n,a;return e=r,(n=J())!==t?(f(),(a=function qu(){var e;return(e=function Yu(){var e,n,a,s,d,y;if(e=[],n=r,a=f(),(s=wt())!==t?(d=f(),(y=J())!==t?n=a=[a,s,d,y]:(r=n,n=t)):(r=n,n=t),n!==t)for(;n!==t;)e.push(n),n=r,a=f(),(s=wt())!==t?(d=f(),(y=J())!==t?n=a=[a,s,d,y]:(r=n,n=t)):(r=n,n=t);else e=t;return e!==t&&(e=function(e){return{type:"arithmetic",tail:e}}(e)),e}())===t&&(e=function Qu(){var e,n,a,s;return e=r,(n=ye())!==t?(f(),(a=P())!==t?(f(),(s=gt())!==t?(f(),_()!==t?e=function(e,n){return{op:e,right:n}}(n,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=ye())!==t?(f(),(a=P())!==t?(f(),(s=_())!==t?e=function(e){return{op:e,right:{type:"expression-list",value:[]}}}(n):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=ye())!==t?(f(),(a=xe())!==t?e=function(e,n){return{op:e,right:n}}(n,a):(r=e,e=t)):(r=e,e=t))),e}())===t&&(e=function zu(){var e,n,a,s,d,y;return e=r,(n=Y())!==t?(f(),(a=Mt())!==t?(f(),(s=J())!==t?(f(),(d=ae())!==t?(f(),(y=J())!==t?e=function(e,n,a){return{op:"NOT"+e,right:{type:"expression-list",value:[n,a]}}}(a,s,y):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=Mt())!==t?(f(),(a=J())!==t?(f(),(s=ae())!==t?(f(),(d=J())!==t?e=function(e,n,a){return{op:e,right:{type:"expression-list",value:[n,a]}}}(n,a,d):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}())===t&&(e=function Zu(){var e,n,a,s;return e=r,(n=_t())!==t?(f(),(a=Y())!==t?(f(),(s=J())!==t?e=function(e,n){return{op:e+"NOT",right:n}}(n,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=_t())!==t?(f(),(a=J())!==t?e=function(e,n){return{op:e,right:n}}(n,a):(r=e,e=t)):(r=e,e=t)),e}())===t&&(e=function Ku(){var e,n,a,s;return e=r,(n=yt())!==t?(f(),(a=B())!==t?(f(),function Es(){var e,n,a,s;return e=r,"escape"===i.substr(r,6).toLowerCase()?(n=i.substr(r,6),r+=6):(n=t,0===c&&h(En)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="ESCAPE":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(s=Ae())!==t?e=function(e,n,a){return{op:e,right:n,escape:a.value}}(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=yt())!==t?(f(),(a=B())!==t?e=function(e,n){return{op:e,right:n,escape:""}}(n,a):(r=e,e=t)):(r=e,e=t)),e}()),e}())===t&&(a=null),e=function(e,n){return""==n||null==n||null==n?e:"arithmetic"==n.type?Se(e,n.tail):Wt(n.op,e,n.right,n.escape)}(n,a)):(r=e,e=t),e}()),e}function wt(){var e;return">="===i.substr(r,2)?(e=">=",r+=2):(e=t,0===c&&h(rn)),e===t&&(62===i.charCodeAt(r)?(e=">",r++):(e=t,0===c&&h(nn)),e===t&&("<="===i.substr(r,2)?(e="<=",r+=2):(e=t,0===c&&h(an)),e===t&&("<>"===i.substr(r,2)?(e="<>",r+=2):(e=t,0===c&&h(un)),e===t&&(60===i.charCodeAt(r)?(e="<",r++):(e=t,0===c&&h(sn)),e===t&&(61===i.charCodeAt(r)?(e="=",r++):(e=t,0===c&&h(et)),e===t&&("!="===i.substr(r,2)?(e="!=",r+=2):(e=t,0===c&&h(on)))))))),e}function yt(){var e,n,a,s,d;return e=r,n=r,(a=Y())!==t?(s=f(),(d=Ft())!==t?n=a=[a,s,d]:(r=n,n=t)):(r=n,n=t),n!==t&&(n=st(n)),(e=n)===t&&(e=Ft()),e}function ye(){var e,n,a,s,d;return e=r,n=r,(a=Y())!==t?(s=f(),(d=Ie())!==t?n=a=[a,s,d]:(r=n,n=t)):(r=n,n=t),n!==t&&(n=st(n)),(e=n)===t&&(e=Ie()),e}function J(){var e,n,a,s,d,y,b,A;if(e=r,(n=Ne())!==t){for(a=[],s=r,d=f(),(y=Nt())!==t?(b=f(),(A=Ne())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=Nt())!==t?(b=f(),(A=Ne())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=me(n,a)}else r=e,e=t;return e}function Nt(){var e;return 43===i.charCodeAt(r)?(e="+",r++):(e=t,0===c&&h(he)),e===t&&(45===i.charCodeAt(r)?(e="-",r++):(e=t,0===c&&h(de))),e}function Ne(){var e,n,a,s,d,y,b,A;if(e=r,(n=be())!==t){for(a=[],s=r,d=f(),(y=bt())!==t?(b=f(),(A=be())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=bt())!==t?(b=f(),(A=be())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=function(e,n){return Se(e,n)}(n,a)}else r=e,e=t;return e}function bt(){var e;return 42===i.charCodeAt(r)?(e="*",r++):(e=t,0===c&&h(ln)),e===t&&(47===i.charCodeAt(r)?(e="/",r++):(e=t,0===c&&h(cn))),e}function be(){var e,n;return(e=function is(){var e;return(e=Ae())===t&&(e=function Ns(){var e,n,a,s;return e=r,(n=function bs(){var e,n,a,s;return e=r,(n=ne())!==t&&(a=St())!==t&&(s=Ct())!==t?e=function(e,n,a){return parseFloat(e+n+a)}(n,a,s):(r=e,e=t),e===t&&(e=r,(n=ne())!==t&&(a=St())!==t?e=function(e,n){return parseFloat(e+n)}(n,a):(r=e,e=t),e===t&&(e=r,(n=ne())!==t&&(a=Ct())!==t?e=function(e,n){return parseFloat(e+n)}(n,a):(r=e,e=t),e===t&&(e=r,(n=ne())!==t&&(n=function(e){return parseFloat(e)}(n)),e=n))),e}())!==t?(a=r,c++,s=Te(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=function(e){return{type:"number",value:e}}(n):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function ms(){var e,n;return e=r,(n=function As(){var e,n,a,s;return e=r,"true"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(bn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}())!==t&&(n={type:"boolean",value:!0}),(e=n)===t&&(e=r,(n=function Is(){var e,n,a,s;return e=r,"false"===i.substr(r,5).toLowerCase()?(n=i.substr(r,5),r+=5):(n=t,0===c&&h(Tn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}())!==t&&(n={type:"boolean",value:!1}),e=n),e}())===t&&(e=function ds(){var e;return(e=function xs(){var e,n,a,s;return e=r,"null"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Nn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}())!==t&&(e={type:"null",value:null}),e}())===t&&(e=function hs(){var e,n;return e=r,function Ls(){var e,n,a,s;return e=r,"date"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h($n)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="DATE":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(n=B())!==t?e=function(e){return{type:"date",value:e.value}}(n):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function ls(){var e,n;return e=r,function Fs(){var e,n,a,s;return e=r,"timestamp"===i.substr(r,9).toLowerCase()?(n=i.substr(r,9),r+=9):(n=t,0===c&&h(Jn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="TIMESTAMP":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(n=B())!==t?e=function(e){return{type:"timestamp",value:e.value}}(n):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function cs(){var e,n,a,s;return e=r,Ot()!==t?(f(),45===i.charCodeAt(r)?(n="-",r++):(n=t,0===c&&h(de)),n===t&&(43===i.charCodeAt(r)?(n="+",r++):(n=t,0===c&&h(he))),n!==t?(f(),(a=B())!==t?(f(),(s=It())!==t?e=function(e,n,a){return{type:"interval",value:n,qualifier:a,op:e}}(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,Ot()!==t?(f(),(n=B())!==t?(f(),(a=It())!==t?e=function(e,n){return{type:"interval",value:e,qualifier:n,op:""}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}()),e}())===t&&(e=function rs(){var e,n,a;return e=r,function Ps(){var e,n,a,s;return e=r,"extract"===i.substr(r,7).toLowerCase()?(n=i.substr(r,7),r+=7):(n=t,0===c&&h(Dn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="EXTRACT":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),P()!==t?(f(),(n=function os(){var e;return(e=Rt())===t&&(e=Jt())===t&&(e=$t())===t&&(e=kt())===t&&(e=Ht())===t&&(e=V()),e}())!==t?(f(),Ee()!==t?(f(),(a=I())!==t?(f(),_()!==t?e=function(e,n){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},n]}}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function ns(){var e,n,a,s,d,y,b;return e=r,function Cs(){var e,n,a,s;return e=r,"substring"===i.substr(r,9).toLowerCase()?(n=i.substr(r,9),r+=9):(n=t,0===c&&h(Mn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="SUBSTRING":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),P()!==t?(f(),(n=I())!==t?(f(),Ee()!==t?(f(),(a=I())!==t?(f(),s=r,(d=function Ss(){var e,n,a,s;return e=r,"for"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(Ln)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="FOR":(r=e,e=t)):(r=e,e=t),e}())!==t?(y=f(),(b=I())!==t?s=d=[d,y,b,f()]:(r=s,s=t)):(r=s,s=t),s===t&&(s=null),(d=_())!==t?e=function(e,n,a){return{type:"function",name:"substring",args:{type:"expression-list",value:a?[e,n,a[2]]:[e,n]}}}(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function as(){var e,n,a,s;return e=r,Dt()!==t?(f(),P()!==t?(f(),(n=At())===t&&(n=null),f(),(a=I())!==t?(f(),Ee()!==t?(f(),(s=I())!==t?(f(),_()!==t?e=function(e,n,a){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},n,a]}}}(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,Dt()!==t?(f(),P()!==t?(f(),(n=At())===t&&(n=null),f(),(a=I())!==t?(f(),_()!==t?e=function(e,n){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},n]}}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}())===t&&(e=function us(){var e,n,a;return e=r,function _s(){var e,n,a,s;return e=r,"position"===i.substr(r,8).toLowerCase()?(n=i.substr(r,8),r+=8):(n=t,0===c&&h(Rn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="POSITION":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),P()!==t?(f(),(n=I())!==t?(f(),Ie()!==t?(f(),(a=I())!==t?(f(),_()!==t?e=function(e,n){return{type:"function",name:"position",args:{type:"expression-list",value:[e,n]}}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function ss(){var e,n,a;return e=r,(n=function $s(){var e,n,a,s;if(e=r,(e=n=Tt())===t)if(e=r,96===i.charCodeAt(r)?(n="`",r++):(n=t,0===c&&h(at)),n!==t){if(a=[],Xe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,0===c&&h(ut)),s!==t)for(;s!==t;)a.push(s),Xe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,0===c&&h(ut));else a=t;a!==t?(96===i.charCodeAt(r)?(s="`",r++):(s=t,0===c&&h(at)),s!==t?e=function(e){return e.join("")}(a):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;return e}())!==t?(f(),P()!==t?(f(),(a=gt())===t&&(a=null),f(),_()!==t?e=function(e,n){return{type:"function",name:e,args:n||{type:"expression-list",value:[]}}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function gs(){var e;return(e=function ws(){var e,n,a,s,d;if(e=r,ue()!==t)if(f(),(n=I())!==t){for(f(),a=[],s=re();s!==t;)a.push(s),s=re();s=f(),(d=se())!==t?e=function(e,n){return{type:"case-expression",format:"simple",operand:e,clauses:n,else:null}}(n,a):(r=e,e=t)}else r=e,e=t;else r=e,e=t;if(e===t)if(e=r,ue()!==t)if(f(),(n=I())!==t){for(f(),a=[],s=re();s!==t;)a.push(s),s=re();s=f(),(d=Et())!==t?(f(),se()!==t?e=function(e,n,a){return{type:"case-expression",format:"simple",operand:e,clauses:n,else:a.value}}(n,a,d):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;else r=e,e=t;return e}())===t&&(e=function ys(){var e,n,a,s;if(e=r,ue()!==t){for(f(),n=[],a=te();a!==t;)n.push(a),a=te();a=f(),(s=se())!==t?e=function(e){return{type:"case-expression",format:"searched",clauses:e,else:null}}(n):(r=e,e=t)}else r=e,e=t;if(e===t)if(e=r,ue()!==t){for(f(),n=[],a=te();a!==t;)n.push(a),a=te();a=f(),(s=Et())!==t?(f(),se()!==t?e=function(e,n){return{type:"case-expression",format:"searched",clauses:e,else:n.value}}(n,s):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;return e}()),e}())===t&&(e=function Xu(){var e;return(e=function es(){var e;return e=function ts(){var e,n,a,s;if(e=r,(n=Te())!==t){for(a=[],s=xt();s!==t;)a.push(s),s=xt();e=it(n,a)}else r=e,e=t;return e}(),e}())!==t&&(e=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e}}(e)),e}())===t&&(e=xe())===t&&(e=r,P()!==t?(f(),(n=I())!==t?(f(),_()!==t?e=function(e){return e.paren=!0,e}(n):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}function Tt(){var e,n,a,s;if(e=r,(n=Te())!==t){for(a=[],s=w();s!==t;)a.push(s),s=w();e=it(n,a)}else r=e,e=t;return e}function Te(){var e;return Yr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(fn)),e}function w(){var e;return Zr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(pn)),e}function xt(){var e;return zr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(vn)),e}function xe(){var e,n,a;return e=r,64===i.charCodeAt(r)?(n="@",r++):(n=t,0===c&&h(hn)),n!==t&&(a=Tt())!==t?e=n=[n,a]:(r=e,e=t),e!==t&&(e=function(e){return{type:"parameter",value:e[1]}}(e)),e}function At(){var e;return(e=function Ms(){var e,n,a,s;return e=r,"leading"===i.substr(r,7).toLowerCase()?(n=i.substr(r,7),r+=7):(n=t,0===c&&h(kn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="LEADING":(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function Ds(){var e,n,a,s;return e=r,"trailing"===i.substr(r,8).toLowerCase()?(n=i.substr(r,8),r+=8):(n=t,0===c&&h(Hn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="TRAILING":(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function Os(){var e,n,a,s;return e=r,"both"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Un)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="BOTH":(r=e,e=t)):(r=e,e=t),e}()),e}function It(){var e,n,a;return e=r,(n=function fs(){var e,n,a;return e=r,(n=q())!==t?(f(),P()!==t?(f(),(a=ee())!==t?(f(),_()!==t?e=function(e,n){return{type:"interval-period",period:e.value,precision:n,secondary:null}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=q())!==t&&(n=lt(n)),e=n),e}())!==t?(f(),function Rs(){var e,n,a,s;return e=r,"to"===i.substr(r,2).toLowerCase()?(n=i.substr(r,2),r+=2):(n=t,0===c&&h(Vn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="TO":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(a=function ps(){var e,n,a,s;return e=r,(n=q())!==t&&(n=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}}(n)),(e=n)===t&&(e=r,(n=V())!==t?(f(),P()!==t?(f(),(a=ee())!==t?(f(),oe()!==t?(f(),(s=X())!==t?(f(),_()!==t?e=ct(a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=V())!==t?(f(),P()!==t?(f(),(a=ee())!==t?(f(),_()!==t?e=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}}(a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=V())!==t&&(n={type:"interval-period",period:"second",precision:null,secondary:null}),e=n))),e}())!==t?e=function(e,n){return{type:"interval-qualifier",start:e,end:n}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=function vs(){var e,n,a,s;return e=r,(n=q())!==t?(f(),P()!==t?(f(),(a=X())!==t?(f(),_()!==t?e=function(e,n){return{type:"interval-period",period:e.value,precision:n,secondary:null}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=q())!==t&&(n=lt(n)),(e=n)===t&&(e=r,(n=V())!==t?(f(),P()!==t?(f(),(a=ee())!==t?(f(),oe()!==t?(f(),(s=X())!==t?(f(),_()!==t?e=ct(a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=V())!==t?(f(),P()!==t?(f(),(a=X())!==t?(f(),_()!==t?e=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}}(a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=V())!==t&&(n={type:"interval-period",period:"second",precision:null,secondary:null}),e=n)))),e}()),e}function q(){var e,n;return e=r,(n=$t())!==t&&(n={type:"string",value:"day"}),(e=n)===t&&(e=r,(n=kt())!==t&&(n={type:"string",value:"hour"}),(e=n)===t&&(e=r,(n=Ht())!==t&&(n={type:"string",value:"minute"}),(e=n)===t&&(e=r,(n=Jt())!==t&&(n={type:"string",value:"month"}),(e=n)===t&&(e=r,(n=Rt())!==t&&(n={type:"string",value:"year"}),e=n)))),e}function X(){var e;return(e=W())!==t&&(e=ft(e)),e}function ee(){var e;return(e=W())!==t&&(e=ft(e)),e}function B(){var e;return(e=Ae())===t&&(e=xe()),e}function Ae(){var e,n,a,s,d;if(e=r,39===i.charCodeAt(r)?(n="'",r++):(n=t,0===c&&h(tt)),n===t&&("N'"===i.substr(r,2)?(n="N'",r+=2):(n=t,0===c&&h(dn))),n!==t){for(a=[],s=r,i.substr(r,2)===z?(d=z,r+=2):(d=t,0===c&&h(rt)),d!==t&&(d="'"),(s=d)===t&&(Qe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,0===c&&h(nt)));s!==t;)a.push(s),s=r,i.substr(r,2)===z?(d=z,r+=2):(d=t,0===c&&h(rt)),d!==t&&(d="'"),(s=d)===t&&(Qe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,0===c&&h(nt)));39===i.charCodeAt(r)?(s="'",r++):(s=t,0===c&&h(tt)),s!==t?e=function(e){return{type:"string",value:e.join("")}}(a):(r=e,e=t)}else r=e,e=t;return e}function te(){var e,n,a;return e=r,Ut()!==t?(f(),(n=I())!==t?(f(),Vt()!==t?(f(),(a=I())!==t?e=vt(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function re(){var e,n,a;return e=r,Ut()!==t?(f(),(n=I())!==t?(f(),Vt()!==t?(f(),(a=I())!==t?e=vt(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function Et(){var e,n;return e=r,function Js(){var e,n,a,s;return e=r,"else"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(ea)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="ELSE":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(n=I())!==t?e=function(e){return{type:"else-clause",value:e}}(n):(r=e,e=t)):(r=e,e=t),e}function ne(){var e,n,a;return(e=W())===t&&(e=r,45===i.charCodeAt(r)?(n="-",r++):(n=t,0===c&&h(de)),n===t&&(43===i.charCodeAt(r)?(n="+",r++):(n=t,0===c&&h(he))),n!==t&&(a=W())!==t?e=function(e,n){return e[0]+n}(n,a):(r=e,e=t)),e}function St(){var e,n,a;return e=r,46===i.charCodeAt(r)?(n=".",r++):(n=t,0===c&&h(mn)),n!==t?((a=W())===t&&(a=null),e=function(e){return"."+(e??"")}(a)):(r=e,e=t),e}function Ct(){var e,n,a;return e=r,(n=function Ts(){var e,n,a;return e=r,Qr.test(i.charAt(r))?(n=i.charAt(r),r++):(n=t,0===c&&h(wn)),n!==t?(Xr.test(i.charAt(r))?(a=i.charAt(r),r++):(a=t,0===c&&h(yn)),a===t&&(a=null),e=function(e,n){return"e"+(null===n?"":n)}(0,a)):(r=e,e=t),e}())!==t&&(a=W())!==t?e=function(e,n){return e+n}(n,a):(r=e,e=t),e}function W(){var e,n;if(e=[],(n=Pt())!==t)for(;n!==t;)e.push(n),n=Pt();else e=t;return e!==t&&(e=function(e){return e.join("")}(e)),e}function Pt(){var e;return Kr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(gn)),e}function Ie(){var e,n,a,s;return e=r,"in"===i.substr(r,2).toLowerCase()?(n=i.substr(r,2),r+=2):(n=t,0===c&&h(xn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="IN":(r=e,e=t)):(r=e,e=t),e}function _t(){var e,n,a,s;return e=r,"is"===i.substr(r,2).toLowerCase()?(n=i.substr(r,2),r+=2):(n=t,0===c&&h(An)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="IS":(r=e,e=t)):(r=e,e=t),e}function Ft(){var e,n,a,s;return e=r,"like"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(In)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="LIKE":(r=e,e=t)):(r=e,e=t),e}function Y(){var e,n,a,s;return e=r,"not"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(Sn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="NOT":(r=e,e=t)):(r=e,e=t),e}function ae(){var e,n,a,s;return e=r,"and"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(Cn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="AND":(r=e,e=t)):(r=e,e=t),e}function Lt(){var e,n,a,s;return e=r,"or"===i.substr(r,2).toLowerCase()?(n=i.substr(r,2),r+=2):(n=t,0===c&&h(Pn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="OR":(r=e,e=t)):(r=e,e=t),e}function Mt(){var e,n,a,s;return e=r,"between"===i.substr(r,7).toLowerCase()?(n=i.substr(r,7),r+=7):(n=t,0===c&&h(_n)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="BETWEEN":(r=e,e=t)):(r=e,e=t),e}function Ee(){var e,n,a,s;return e=r,"from"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Fn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="FROM":(r=e,e=t)):(r=e,e=t),e}function Dt(){var e,n,a,s;return e=r,"trim"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(On)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="TRIM":(r=e,e=t)):(r=e,e=t),e}function Ot(){var e,n,a,s;return e=r,"interval"===i.substr(r,8).toLowerCase()?(n=i.substr(r,8),r+=8):(n=t,0===c&&h(Bn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="INTERVAL":(r=e,e=t)):(r=e,e=t),e}function Rt(){var e,n,a,s;return e=r,"year"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Wn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="YEAR":(r=e,e=t)):(r=e,e=t),e}function Jt(){var e,n,a,s;return e=r,"month"===i.substr(r,5).toLowerCase()?(n=i.substr(r,5),r+=5):(n=t,0===c&&h(Gn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="MONTH":(r=e,e=t)):(r=e,e=t),e}function $t(){var e,n,a,s;return e=r,"day"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(jn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="DAY":(r=e,e=t)):(r=e,e=t),e}function kt(){var e,n,a,s;return e=r,"hour"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(qn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="HOUR":(r=e,e=t)):(r=e,e=t),e}function Ht(){var e,n,a,s;return e=r,"minute"===i.substr(r,6).toLowerCase()?(n=i.substr(r,6),r+=6):(n=t,0===c&&h(Yn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="MINUTE":(r=e,e=t)):(r=e,e=t),e}function V(){var e,n,a,s;return e=r,"second"===i.substr(r,6).toLowerCase()?(n=i.substr(r,6),r+=6):(n=t,0===c&&h(Zn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="SECOND":(r=e,e=t)):(r=e,e=t),e}function ue(){var e,n,a,s;return e=r,"case"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(zn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="CASE":(r=e,e=t)):(r=e,e=t),e}function se(){var e,n,a,s;return e=r,"end"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(Kn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="END":(r=e,e=t)):(r=e,e=t),e}function Ut(){var e,n,a,s;return e=r,"when"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Qn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="WHEN":(r=e,e=t)):(r=e,e=t),e}function Vt(){var e,n,a,s;return e=r,"then"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Xn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="THEN":(r=e,e=t)):(r=e,e=t),e}function oe(){var e;return 44===i.charCodeAt(r)?(e=",",r++):(e=t,0===c&&h(ta)),e}function P(){var e;return 40===i.charCodeAt(r)?(e="(",r++):(e=t,0===c&&h(ra)),e}function _(){var e;return 41===i.charCodeAt(r)?(e=")",r++):(e=t,0===c&&h(na)),e}function f(){var e,n;for(e=[],n=Bt();n!==t;)e.push(n),n=Bt();return e}function Bt(){var e;return en.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(aa)),e}function Wt(e,n,a,s){var d={type:"binary-expression",operator:e,left:n,right:a};return void 0!==s&&(d.escape=s),d}function Se(e,n){for(var a=e,s=0;s<n.length;s++)a=Wt(n[s][1],a,n[s][3]);return a}if((m=F())!==t&&r===i.length)return m;throw m!==t&&r<i.length&&h({type:"end"}),function Gu(e,n,a){return new u(u.buildMessage(e,n),e,n,a)}(ge,M<i.length?i.charAt(M):null,function dt(e,n){var a=ht(e),s=ht(n);return{source:N,start:{offset:e,line:a.line,column:a.column},end:{offset:n,line:s.line,column:s.column}}}(M,M<i.length?M+1:M))}}}());class zt{static parse(u){return Je.exports.parse(u)}}const $e=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,Kt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,Qt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,Xt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,er=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,tr=new Set(["current_timestamp","current_date","current_time"]);function k(l,u){return(l+="").length>=u?l:new Array(u-l.length+1).join("0")+l}function j(l,u,o="0",p="0",i="0",v="0",m="",t="0",N="0"){if("+"===m||"-"===m){const x=`${k(parseInt(l,10),4)}-${k(parseInt(u,10),2)}-${k(parseInt(o,10),2)}`;let F="";parseFloat(v)<10&&(F="0");const $=`${k(parseInt(p,10),2)}:${k(parseInt(i,10),2)}:${F+parseFloat(v).toString()}`,O=`${m}${k(parseInt(t,10),2)}:${k(parseInt(N,10),2)}`;return new Date(x+"T"+$+O)}return new Date(parseInt(l,10),parseInt(u,10)-1,parseInt(o,10),parseInt(p,10),parseInt(i,10),parseFloat(v))}class rr{static makeBool(u){return Ue(u)}static featureValue(u,o,p,i){return qe(u,o,p,i)}static equalsNull(u){return null===u}static applyLike(u,o,p){return fe(u,o,p)}static ensureArray(u){return le(u)}static applyIn(u,o){return ce(u,o)}static currentDate(){const u=new Date;return u.setHours(0,0,0,0),u}static makeSqlInterval(u,o,p){return C.createFromValueAndQualifer(u,o,p)}static convertInterval(u){return u instanceof C?u.valueInMilliseconds():u}static currentTimestamp(){return new Date}static compare(u,o,p){return Ge(u,o,p)}static calculate(u,o,p){return je(u,o,p)}static makeComparable(u){return D(u)}static evaluateFunction(u,o){return Me(u,o)}static lookup(u,o){const p=o[u];return void 0===p?null:p}static between(u,o){return null==u||null==o[0]||null==o[1]?null:u>=o[0]&&u<=o[1]}static notbetween(u,o){return null==u||null==o[0]||null==o[1]?null:u<o[0]||u>o[1]}static ternaryNot(u){return Z(u)}static ternaryAnd(u,o){return Ve(u,o)}static ternaryOr(u,o){return Be(u,o)}}class ie{constructor(u,o){this.fieldsIndex=o,this.datefields={},this.parameters={},this._hasDateFunctions=void 0,this.parseTree=zt.parse(u);const{isStandardized:p,isAggregate:i,referencedFieldNames:v}=this._extractExpressionInfo(o);this.referencedFieldNames=v,this.isStandardized=p,this.isAggregate=i}static create(u,o){return new ie(u,o)}get fieldNames(){return this.referencedFieldNames}testSet(u,o=U){const p={};for(const i of this.fieldNames)p[i]=u.map(v=>o.getAttribute(v,i));return!!this._evaluateNode(this.parseTree,{attributes:p},U)}calculateValue(u,o=U){const p=this._evaluateNode(this.parseTree,u,o);return p instanceof C?p.valueInMilliseconds()/864e5:p}calculateValueCompiled(u,o=U){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(u,this.parameters,o,this.datefields):(0,Pe.Z)("esri-csp-restrictions")?this.calculateValue(u,o):(this._compileMe(),this.parseTree._compiledVersion(u,this.parameters,o,this.datefields))}testFeature(u,o=U){return!!this._evaluateNode(this.parseTree,u,o)}testFeatureCompiled(u,o=U){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(u,this.parameters,o,this.datefields):(0,Pe.Z)("esri-csp-restrictions")?this.testFeature(u,o):(this._compileMe(),!!this.parseTree._compiledVersion(u,this.parameters,o,this.datefields))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,u=>{"current-time"===u.type?this._hasDateFunctions=!0:"function"===u.type&&(this._hasDateFunctions=this._hasDateFunctions||tr.has(u.name.toLowerCase()))})),this._hasDateFunctions}getFunctions(){const u=new Set;return this._visitAll(this.parseTree,o=>{"function"===o.type&&u.add(o.name.toLowerCase())}),Array.from(u)}getExpressions(){const u=new Map;return this._visitAll(this.parseTree,o=>{if("function"===o.type){const p=o.name.toLowerCase(),i=o.args.value[0];if("column-reference"===i.type){const v=i.column,m=`${p}-${v}`;u.has(m)||u.set(m,{aggregateType:p,field:v})}}}),[...u.values()]}getVariables(){const u=new Set;return this._visitAll(this.parseTree,o=>{"parameter"===o.type&&u.add(o.value.toLowerCase())}),Array.from(u)}_compileMe(){const u="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","datefields",u).bind(rr)}_extractExpressionInfo(u){const o=[],p=new Set;let i=!0,v=!0;return this._visitAll(this.parseTree,m=>{switch(m.type){case"column-reference":{const t=u.get(m.column);let N,x;t?N=x=t.name:(x=m.column,N=x.toLowerCase()),!t||"date"!==t.type&&"esriFieldTypeDate"!==t.type||(this.datefields[t.name]=1),p.has(N)||(p.add(N),o.push(x)),m.column=x;break}case"function":{const{name:t,args:N}=m,x=N.value.length;i&&(i=function Zt(l,u){const o=De[l.toLowerCase()];return null!=o&&u>=o.minParams&&u<=o.maxParams}(t,x)),v&&(v=function jt(l,u){const o=_e[l.toLowerCase()];return null!=o&&u>=o.minParams&&u<=o.maxParams}(t,x));break}}}),{referencedFieldNames:Array.from(o),isStandardized:i,isAggregate:v}}_visitAll(u,o){if(null!=u)switch(o(u),u.type){case"when-clause":this._visitAll(u.operand,o),this._visitAll(u.value,o);break;case"case-expression":for(const p of u.clauses)this._visitAll(p,o);"simple"===u.format&&this._visitAll(u.operand,o),null!==u.else&&this._visitAll(u.else,o);break;case"expression-list":for(const p of u.value)this._visitAll(p,o);break;case"unary-expression":this._visitAll(u.expr,o);break;case"binary-expression":this._visitAll(u.left,o),this._visitAll(u.right,o);break;case"function":this._visitAll(u.args,o)}}evaluateNodeToJavaScript(u){switch(u.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(u.value)+", "+JSON.stringify(u.qualifier)+","+JSON.stringify(u.op)+")";case"case-expression":{let o="";if("simple"===u.format){const p="this.makeComparable("+this.evaluateNodeToJavaScript(u.operand)+")";o="( ";for(let i=0;i<u.clauses.length;i++)o+=" ("+p+" === this.makeComparable("+this.evaluateNodeToJavaScript(u.clauses[i].operand)+")) ? ("+this.evaluateNodeToJavaScript(u.clauses[i].value)+") : ";o+=null!==u.else?this.evaluateNodeToJavaScript(u.else):"null",o+=" )"}else{o="( ";for(let p=0;p<u.clauses.length;p++)o+=" this.makeBool("+this.evaluateNodeToJavaScript(u.clauses[p].operand)+")===true ? ("+this.evaluateNodeToJavaScript(u.clauses[p].value)+") : ";o+=null!==u.else?this.evaluateNodeToJavaScript(u.else):"null",o+=" )"}return o}case"parameter":return"this.lookup("+JSON.stringify(u.value.toLowerCase())+",lookups)";case"expression-list":{let o="[";for(const p of u.value)"["!==o&&(o+=","),o+=this.evaluateNodeToJavaScript(p);return o+="]",o}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(u.expr)+")";case"binary-expression":switch(u.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+" )";case"IS":if("null"!==u.right.type)throw new Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(u.left)+")";case"ISNOT":if("null"!==u.right.type)throw new Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(u.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(u.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(u.right)+"))";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(u.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(u.right)+")))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+","+JSON.stringify(u.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+","+JSON.stringify(u.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(u.operator)+","+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"*":case"-":case"+":case"/":return"this.calculate("+JSON.stringify(u.operator)+","+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")"}throw new Error("Not Supported Operator "+u.operator);case"null":case"boolean":case"string":case"number":return JSON.stringify(u.value);case"date":return"(new Date("+He(u.value).getTime().toString()+"))";case"timestamp":return"(new Date("+ke(u.value).getTime().toString()+"))";case"current-time":return"date"===u.mode?"this.currentDate()":"this.currentTimestamp()";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(u.column)+",datefields,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(u.name)+","+this.evaluateNodeToJavaScript(u.args)+")"}throw new Error("Unsupported sql syntax "+u.type)}_evaluateNode(u,o,p){switch(u.type){case"interval":{const i=this._evaluateNode(u.value,o,p);return C.createFromValueAndQualifer(i,u.qualifier,u.op)}case"case-expression":if("simple"===u.format){const i=D(this._evaluateNode(u.operand,o,p));for(let v=0;v<u.clauses.length;v++)if(i===D(this._evaluateNode(u.clauses[v].operand,o,p)))return this._evaluateNode(u.clauses[v].value,o,p);if(null!==u.else)return this._evaluateNode(u.else,o,p)}else{for(let i=0;i<u.clauses.length;i++)if(Ue(this._evaluateNode(u.clauses[i].operand,o,p)))return this._evaluateNode(u.clauses[i].value,o,p);if(null!==u.else)return this._evaluateNode(u.else,o,p)}return null;case"parameter":return this.parameters[u.value.toLowerCase()];case"expression-list":{const i=[];for(const v of u.value)i.push(this._evaluateNode(v,o,p));return i}case"unary-expression":return Z(this._evaluateNode(u.expr,o,p));case"binary-expression":switch(u.operator){case"AND":return Ve(this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p));case"OR":return Be(this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p));case"IS":if("null"!==u.right.type)throw new Error("Unsupported RHS for IS");return null===this._evaluateNode(u.left,o,p);case"ISNOT":if("null"!==u.right.type)throw new Error("Unsupported RHS for IS");return null!==this._evaluateNode(u.left,o,p);case"IN":{const i=le(this._evaluateNode(u.right,o,p));return ce(this._evaluateNode(u.left,o,p),i)}case"NOT IN":{const i=le(this._evaluateNode(u.right,o,p));return Z(ce(this._evaluateNode(u.left,o,p),i))}case"BETWEEN":{const i=this._evaluateNode(u.left,o,p),v=this._evaluateNode(u.right,o,p);return null==i||null==v[0]||null==v[1]?null:i>=D(v[0])&&i<=D(v[1])}case"NOTBETWEEN":{const i=this._evaluateNode(u.left,o,p),v=this._evaluateNode(u.right,o,p);return null==i||null==v[0]||null==v[1]?null:i<D(v[0])||i>D(v[1])}case"LIKE":return fe(this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p),u.escape);case"NOT LIKE":return Z(fe(this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p),u.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return Ge(u.operator,this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p));case"-":case"+":case"*":case"/":return je(u.operator,this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p))}case"null":case"boolean":case"string":case"number":return u.value;case"date":return He(u.value);case"timestamp":return ke(u.value);case"current-time":{const i=new Date;return"date"===u.mode&&i.setHours(0,0,0,0),i}case"column-reference":return qe(o,u.column,this.datefields,p);case"function":{const i=this._evaluateNode(u.args,o,p);return this.isAggregate?function Gt(l,u){const o=_e[l.toLowerCase()];if(null==o)throw new Error("Function Not Recognised");if(u.length<o.minParams||u.length>o.maxParams)throw new Error(`Invalid Parameter count for call to ${l.toUpperCase()}`);return o.evaluate(u)}(u.name,i):Me(u.name,i)}}throw new Error("Unsupported sql syntax "+u.type)}}function ke(l){let u=Kt.exec(l);if(null!==u){const[,o,p,i,v,m,t]=u;return j(o,p,i,v,m,t)}if(u=Qt.exec(l),null!==u){const[,o,p,i,v,m,t,N,x,F]=u;return j(o,p,i,v,m,t,N,x,F)}if(u=Xt.exec(l),null!==u){const[,o,p,i,v,m,t,N,x]=u;return j(o,p,i,v,m,"0",t,N,x)}if(u=er.exec(l),null!==u){const[,o,p,i,v,m]=u;return j(o,p,i,v,m)}if(u=$e.exec(l),null!==u){const[,o,p,i]=u;return j(o,p,i)}throw new Error("SQL Invalid Timestamp")}function He(l){const u=$e.exec(l);if(null===u)throw new Error("SQL Invalid Date");const[,o,p,i]=u;return new Date(parseInt(o,10),parseInt(p,10)-1,parseInt(i,10))}function Ue(l){return!0===l}function le(l){return Array.isArray(l)?l:[l]}function Z(l){return null!==l?!0!==l:null}function Ve(l,u){return null!=l&&null!=u?!0===l&&!0===u:!1!==l&&!1!==u&&null}function Be(l,u){return null!=l&&null!=u?!0===l||!0===u:!0===l||!0===u||null}function ce(l,u){if(null==l)return null;let o=!1;for(const p of u)if(null==p)o=null;else if(l===p){o=!0;break}return o}const We="-[]/{}()*+?.\\^$|";var H,l;function fe(l,u,o){return null==l?null:function nr(l,u){const o=u;let p="",i=H.Normal;for(let v=0;v<l.length;v++){const m=l.charAt(v);switch(i){case H.Normal:m===o?i=H.Escaped:We.includes(m)?p+="\\"+m:p+="%"===m?".*":"_"===m?".":m;break;case H.Escaped:We.includes(m)?p+="\\"+m:p+=m,i=H.Normal}}return new RegExp("^"+p+"$","m")}(u,o).test(l)}function D(l){return l instanceof Date?l.valueOf():l}function Ge(l,u,o){if(null==u||null==o)return null;const p=D(u),i=D(o);switch(l){case"<>":return p!==i;case"=":return p===i;case">":return p>i;case"<":return p<i;case">=":return p>=i;case"<=":return p<=i}}function je(l,u,o){if(u instanceof C)if(o instanceof Date)switch(l){case"+":return new Date(u.valueInMilliseconds()+o.getTime());case"-":return u.valueInMilliseconds()-o.getTime();case"*":return u.valueInMilliseconds()*o.getTime();case"/":return u.valueInMilliseconds()/o.getTime()}else if(o instanceof C)switch(l){case"+":return C.createFromMilliseconds(u.valueInMilliseconds()+o.valueInMilliseconds());case"-":return C.createFromMilliseconds(u.valueInMilliseconds()-o.valueInMilliseconds());case"*":return u.valueInMilliseconds()*o.valueInMilliseconds();case"/":return u.valueInMilliseconds()/o.valueInMilliseconds()}else u=u.valueInMilliseconds();else if(o instanceof C)if(u instanceof Date)switch(l){case"+":return new Date(o.valueInMilliseconds()+u.getTime());case"-":return new Date(u.getTime()-o.valueInMilliseconds());case"*":return u.getTime()*o.valueInMilliseconds();case"/":return u.getTime()/o.valueInMilliseconds()}else o=o.valueInMilliseconds();else if(u instanceof Date&&"number"==typeof o)switch(o=24*o*60*60*1e3,u=u.getTime(),l){case"+":return new Date(u+o);case"-":return new Date(u-o);case"*":return new Date(u*o);case"/":return new Date(u/o)}else if(o instanceof Date&&"number"==typeof u)switch(u=24*u*60*60*1e3,o=o.getTime(),l){case"+":return new Date(u+o);case"-":return new Date(u-o);case"*":return new Date(u*o);case"/":return new Date(u/o)}switch(l){case"+":return u+o;case"-":return u-o;case"*":return u*o;case"/":return u/o}}function qe(l,u,o,p){const i=p.getAttribute(l,u);return null!=i&&1===o[u]?new Date(i):i}(l=H||(H={}))[l.Normal=0]="Normal",l[l.Escaped=1]="Escaped";const U={getAttribute:(l,u)=>(function ar(l){return l&&"object"==typeof l.attributes}(l)?l.attributes:l)[u]}}}]);