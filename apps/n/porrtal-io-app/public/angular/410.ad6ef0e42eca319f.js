/*
Copyright 2022 Comcast Cable Communications Management, LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[410],{10410:(Ks,Ce,j)=>{j.r(Ce),j.d(Ce,{WhereClause:()=>le,defaultAttributeAdapter:()=>U});var _e=j(8314);const Pe={min:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.min.apply(Math,l[0])},max:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.max.apply(Math,l[0])},avg:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Fe(l[0])},sum:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:function kt(l){let u=0;for(let o=0;o<l.length;o++)u+=l[o];return u}(l[0])},stddev:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.sqrt(Le(l[0]))},count:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].length},var:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Le(l[0])}};function Fe(l){let u=0;for(let o=0;o<l.length;o++)u+=l[o];return u/l.length}function Le(l){const u=Fe(l),o=l.length;let p=0;for(const i of l)p+=(i-u)**2;return o>1?p/(o-1):0}var Ht=j(77275);class C{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0}static _fixDefaults(u){if(null!==u.precision||null!==u.secondary)throw new Error("Primary and Secondary SqlInterval qualifiers not supported")}static createFromMilliseconds(u){const o=new C;return o.second=u/1e3,o}static createFromValueAndQualifer(u,o,p){let i=null;const v=new C;if(v.op="-"===p?"-":"+","interval-period"===o.type){C._fixDefaults(o);const m=new RegExp("^[0-9]{1,}$");if("year"===o.period||"month"===o.period)throw new Error("Year-Month Intervals not supported");if(!m.test(u))throw new Error("Illegal Interval");v[o.period]=parseFloat(u)}else{if(C._fixDefaults(o.start),C._fixDefaults(o.end),"year"===o.start.period||"month"===o.start.period)throw new Error("Year-Month Intervals not supported");if("year"===o.end.period||"month"===o.end.period)throw new Error("Year-Month Intervals not supported");switch(o.start.period){case"day":switch(o.end.period){case"hour":if(i=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");v[o.start.period]=parseFloat(u.split(" ")[0]),v[o.end.period]=parseFloat(u.split(" ")[1]);break;case"minute":if(i=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");{v[o.start.period]=parseFloat(u.split(" ")[0]);const m=u.split(" ")[1].split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1])}break;case"second":if(i=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{v[o.start.period]=parseFloat(u.split(" ")[0]);const m=u.split(" ")[1].split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1]),v.second=parseFloat(m[2])}break;default:throw new Error("Invalid Interval.")}break;case"hour":switch(o.end.period){case"minute":if(i=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!i.test(u))throw new Error("Illegal Interval");v.hour=parseFloat(u.split(":")[0]),v.minute=parseFloat(u.split(":")[1]);break;case"second":if(i=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{const m=u.split(":");v.hour=parseFloat(m[0]),v.minute=parseFloat(m[1]),v.second=parseFloat(m[2])}break;default:throw new Error("Invalid Interval.")}break;case"minute":if("second"!==o.end.period)throw new Error("Invalid Interval.");if(i=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(u))throw new Error("Illegal Interval");{const m=u.split(":");v.minute=parseFloat(m[0]),v.second=parseFloat(m[1])}break;default:throw new Error("Invalid Interval.")}}return v}valueInMilliseconds(){return("-"===this.op?-1:1)*(1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}function Me(l,u){const o=De[l.toLowerCase()];if(null==o)throw new Error("Function Not Recognised");if(u.length<o.minParams||u.length>o.maxParams)throw new Error(`Invalid Parameter count for call to ${l.toUpperCase()}`);return o.evaluate(u)}const De={extract:{minParams:2,maxParams:2,evaluate:([l,u])=>{if(null==u)return null;if(u instanceof Date)switch(l.toUpperCase()){case"SECOND":return u.getSeconds();case"MINUTE":return u.getMinutes();case"HOUR":return u.getHours();case"DAY":return u.getDate();case"MONTH":return u.getMonth()+1;case"YEAR":return u.getFullYear()}throw new Error("Invalid Parameter for call to EXTRACT")}},substring:{minParams:2,maxParams:3,evaluate:l=>{if(2===l.length){const[u,o]=l;return null==u||null==o?null:u.toString().substring(o-1)}if(3===l.length){const[u,o,p]=l;return null==u||null==o||null==p?null:p<=0?"":u.toString().substring(o-1,o+p-1)}}},position:{minParams:2,maxParams:2,evaluate:([l,u])=>null==l||null==u?null:u.indexOf(l)+1},trim:{minParams:2,maxParams:3,evaluate:l=>{const u=3===l.length,o=u?l[1]:" ",p=u?l[2]:l[1];if(null==o||null==p)return null;const i=`(${(0,Ht.Qs)(o)})`;switch(l[0]){case"BOTH":return p.replace(new RegExp(`^${i}*|${i}*$`,"g"),"");case"LEADING":return p.replace(new RegExp(`^${i}*`,"g"),"");case"TRAILING":return p.replace(new RegExp(`${i}*$`,"g"),"")}throw new Error("Invalid Parameter for call to TRIM")}},abs:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.abs(l[0])},ceiling:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.ceil(l[0])},floor:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.floor(l[0])},log:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.log(l[0])},log10:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.log(l[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.sin(l[0])},cos:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.cos(l[0])},tan:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.tan(l[0])},asin:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.asin(l[0])},acos:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.acos(l[0])},atan:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.atan(l[0])},sign:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0]>0?1:l[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:l=>null==l[0]||null==l[1]?null:l[0]**l[1]},mod:{minParams:2,maxParams:2,evaluate:l=>null==l[0]||null==l[1]?null:l[0]%l[1]},round:{minParams:1,maxParams:2,evaluate:l=>{const u=l[0],o=2===l.length?10**l[1]:1;return null==u?null:Math.round(u*o)/o}},truncate:{minParams:1,maxParams:2,evaluate:l=>null==l[0]?null:1===l.length?parseInt(l[0].toFixed(0),10):parseFloat(l[0].toFixed(l[1]))},char_length:{minParams:1,maxParams:1,evaluate:l=>"string"==typeof l[0]||l[0]instanceof String?l[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:l=>{let u="";for(let o=0;o<l.length;o++){if(null==l[o])return null;u+=l[o].toString()}return u}},lower:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].toString().toUpperCase()}};j(1719);var Oe,Je={exports:{}};(Oe=Je).exports&&(Oe.exports=function(){function u(i,v,m,t){var N=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(N,u.prototype),N.expected=v,N.found=m,N.location=t,N.name="SyntaxError",N}function o(i,v,m){return m=m||" ",i.length>v?i:i+(m+=m.repeat(v-=i.length)).slice(0,v)}return function l(i,v){function m(){this.constructor=i}m.prototype=v.prototype,i.prototype=new m}(u,Error),u.prototype.format=function(i){var v="Error: "+this.message;if(this.location){var m,t=null;for(m=0;m<i.length;m++)if(i[m].source===this.location.source){t=i[m].text.split(/\r\n|\n|\r/g);break}var N=this.location.start,x=this.location.source+":"+N.line+":"+N.column;if(t){var F=this.location.end,$=o("",N.line.toString().length," "),O=t[N.line-1],T=(N.line===F.line?F.column:O.length+1)-N.column||1;v+="\n --\x3e "+x+"\n"+$+" |\n"+N.line+" | "+O+"\n"+$+" | "+o("",N.column-1," ")+o("",T,"^")}else v+="\n at "+x}return v},u.buildMessage=function(i,v){var m={literal:function(T){return'"'+N(T.text)+'"'},class:function(T){var E=T.parts.map(function(L){return Array.isArray(L)?x(L[0])+"-"+x(L[1]):x(L)});return"["+(T.inverted?"^":"")+E.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(T){return T.description}};function t(T){return T.charCodeAt(0).toString(16).toUpperCase()}function N(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+t(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+t(E)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+t(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+t(E)})}function F(T){return m[T.type](T)}return"Expected "+function $(T){var E,L,S=T.map(F);if(S.sort(),S.length>0){for(E=1,L=1;E<S.length;E++)S[E-1]!==S[E]&&(S[L]=S[E],L++);S.length=L}switch(S.length){case 1:return S[0];case 2:return S[0]+" or "+S[1];default:return S.slice(0,-1).join(", ")+", or "+S[S.length-1]}}(i)+" but "+function O(T){return T?'"'+N(T)+'"':"end of input"}(v)+" found."},{SyntaxError:u,parse:function p(i,v){var m,t={},N=(v=void 0!==v?v:{}).grammarSource,x={start:it},F=it,K="''",Hr=/^[A-Za-z_\x80-\uFFFF]/,Ur=/^[A-Za-z0-9_]/,Vr=/^[A-Za-z0-9_.\x80-\uFFFF]/,Ke=/^[^']/,Br=/^[0-9]/,Wr=/^[eE]/,jr=/^[+\-]/,Gr=/^[ \t\n\r]/,Qe=/^[^`]/,qr=g("!",!1),Xe=g("=",!1),Yr=g(">=",!1),Zr=g(">",!1),zr=g("<=",!1),Kr=g("<>",!1),Qr=g("<",!1),Xr=g("!=",!1),me=g("+",!1),ge=g("-",!1),en=g("*",!1),tn=g("/",!1),rn=R([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),nn=R([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),an=R([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),un=g("@",!1),et=g("'",!1),sn=g("N'",!1),tt=g("''",!1),rt=R(["'"],!0,!1),on=g(".",!1),ln=R([["0","9"]],!1,!1),cn=R(["e","E"],!1,!1),fn=R(["+","-"],!1,!1),pn=g("NULL",!0),vn=g("TRUE",!0),hn=g("FALSE",!0),dn=g("IN",!0),mn=g("IS",!0),gn=g("LIKE",!0),wn=g("ESCAPE",!0),yn=g("NOT",!0),Nn=g("AND",!0),bn=g("OR",!0),Tn=g("BETWEEN",!0),xn=g("FROM",!0),An=g("FOR",!0),In=g("SUBSTRING",!0),En=g("EXTRACT",!0),Sn=g("TRIM",!0),Cn=g("POSITION",!0),_n=g("TIMESTAMP",!0),Pn=g("DATE",!0),Fn=g("LEADING",!0),Ln=g("TRAILING",!0),Mn=g("BOTH",!0),Dn=g("TO",!0),On=g("INTERVAL",!0),Rn=g("YEAR",!0),Jn=g("MONTH",!0),$n=g("DAY",!0),kn=g("HOUR",!0),Hn=g("MINUTE",!0),Un=g("SECOND",!0),Vn=g("CASE",!0),Bn=g("END",!0),Wn=g("WHEN",!0),jn=g("THEN",!0),Gn=g("ELSE",!0),qn=g(",",!1),Yn=g("(",!1),Zn=g(")",!1),zn=R([" ","\t","\n","\r"],!1,!1),nt=g("`",!1),at=R(["`"],!0,!1),r=0,Q=[{line:1,column:1}],M=0,we=[],c=0;if("startRule"in v){if(!(v.startRule in x))throw new Error("Can't start parsing from rule \""+v.startRule+'".');F=x[v.startRule]}function g(e,n){return{type:"literal",text:e,ignoreCase:n}}function R(e,n,a){return{type:"class",parts:e,inverted:n,ignoreCase:a}}function st(e){var n,a=Q[e];if(a)return a;for(n=e-1;!Q[n];)n--;for(a={line:(a=Q[n]).line,column:a.column};n<e;)10===i.charCodeAt(n)?(a.line++,a.column=1):a.column++,n++;return Q[e]=a,a}function h(e){r<M||(r>M&&(M=r,we=[]),we.push(e))}function it(){var e,n;return e=r,f(),(n=I())!==t?(f(),e=n):(r=e,e=t),e}function lt(){var e,n,a,s,d,y,b,A;if(e=r,(n=I())!==t){for(a=[],s=r,d=f(),(y=ie())!==t?(b=f(),(A=I())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=ie())!==t?(b=f(),(A=I())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=function(e,n){var a={type:"expression-list"},s=function zs(e,n,a){return function Zs(e,n){for(var a=[e],s=0;s<n.length;s++)a.push(n[s][3]);return a}(e,n)}(e,n);return a.value=s,a}(n,a)}else r=e,e=t;return e}function I(){var e,n,a,s,d,y,b,A;if(e=r,(n=ye())!==t){for(a=[],s=r,d=f(),(y=At())!==t?(b=f(),(A=ye())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=At())!==t?(b=f(),(A=ye())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=function(e,n){return Z(e,n)}(n,a)}else r=e,e=t;return e}function ye(){var e,n,a,s,d,y,b,A;if(e=r,(n=X())!==t){for(a=[],s=r,d=f(),(y=ue())!==t?(b=f(),(A=X())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=ue())!==t?(b=f(),(A=X())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=function(e,n){return Z(e,n)}(n,a)}else r=e,e=t;return e}function X(){var e,n,a,s,d;return e=r,(n=Y())===t&&(n=r,33===i.charCodeAt(r)?(a="!",r++):(a=t,0===c&&h(qr)),a!==t?(s=r,c++,61===i.charCodeAt(r)?(d="=",r++):(d=t,0===c&&h(Xe)),c--,d===t?s=void 0:(r=s,s=t),s!==t?n=a=[a,s]:(r=n,n=t)):(r=n,n=t)),n!==t?(a=f(),(s=X())!==t?e=function(e){return function Ys(e,n){return{type:"unary-expression",operator:e,expr:n}}("NOT",e)}(s):(r=e,e=t)):(r=e,e=t),e===t&&(e=function ts(){var e,n,a;return e=r,(n=J())!==t?(f(),(a=function rs(){var e;return(e=function ns(){var e,n,a,s,d,y;if(e=[],n=r,a=f(),(s=ct())!==t?(d=f(),(y=J())!==t?n=a=[a,s,d,y]:(r=n,n=t)):(r=n,n=t),n!==t)for(;n!==t;)e.push(n),n=r,a=f(),(s=ct())!==t?(d=f(),(y=J())!==t?n=a=[a,s,d,y]:(r=n,n=t)):(r=n,n=t);else e=t;return e!==t&&(e=function(e){return{type:"arithmetic",tail:e}}(e)),e}())===t&&(e=function os(){var e,n,a,s;return e=r,(n=Ne())!==t?(f(),(a=_())!==t?(f(),(s=lt())!==t?(f(),P()!==t?e=function(e,n){return{op:e,right:n}}(n,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=Ne())!==t?(f(),(a=_())!==t?(f(),(s=P())!==t?e=function(e){return{op:e,right:{type:"expression-list",value:[]}}}(n):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=Ne())!==t?(f(),(a=Ae())!==t?e=function(e,n){return{op:e,right:n}}(n,a):(r=e,e=t)):(r=e,e=t))),e}())===t&&(e=function us(){var e,n,a,s,d,y;return e=r,(n=Y())!==t?(f(),(a=It())!==t?(f(),(s=J())!==t?(f(),(d=ue())!==t?(f(),(y=J())!==t?e=function(e,n,a){return{op:"NOT"+e,right:{type:"expression-list",value:[n,a]}}}(a,s,y):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=It())!==t?(f(),(a=J())!==t?(f(),(s=ue())!==t?(f(),(d=J())!==t?e=function(e,n,a){return{op:e,right:{type:"expression-list",value:[n,a]}}}(n,a,d):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}())===t&&(e=function as(){var e,n,a,s;return e=r,(n=Tt())!==t?(f(),(a=Y())!==t?(f(),(s=J())!==t?e=function(e,n){return{op:e+"NOT",right:n}}(n,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=Tt())!==t?(f(),(a=J())!==t?e=function(e,n){return{op:e,right:n}}(n,a):(r=e,e=t)):(r=e,e=t)),e}())===t&&(e=function ss(){var e,n,a,s;return e=r,(n=ft())!==t?(f(),(a=B())!==t?(f(),function Os(){var e,n,a,s;return e=r,"escape"===i.substr(r,6).toLowerCase()?(n=i.substr(r,6),r+=6):(n=t,0===c&&h(wn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="ESCAPE":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(s=Ie())!==t?e=function(e,n,a){return{op:e,right:n,escape:a.value}}(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=ft())!==t?(f(),(a=B())!==t?e=function(e,n){return{op:e,right:n,escape:""}}(n,a):(r=e,e=t)):(r=e,e=t)),e}()),e}())===t&&(a=null),e=function(e,n){return""==n||null==n||null==n?e:"arithmetic"==n.type?Z(e,n.tail):Rt(n.op,e,n.right,n.escape)}(n,a)):(r=e,e=t),e}()),e}function ct(){var e;return">="===i.substr(r,2)?(e=">=",r+=2):(e=t,0===c&&h(Yr)),e===t&&(62===i.charCodeAt(r)?(e=">",r++):(e=t,0===c&&h(Zr)),e===t&&("<="===i.substr(r,2)?(e="<=",r+=2):(e=t,0===c&&h(zr)),e===t&&("<>"===i.substr(r,2)?(e="<>",r+=2):(e=t,0===c&&h(Kr)),e===t&&(60===i.charCodeAt(r)?(e="<",r++):(e=t,0===c&&h(Qr)),e===t&&(61===i.charCodeAt(r)?(e="=",r++):(e=t,0===c&&h(Xe)),e===t&&("!="===i.substr(r,2)?(e="!=",r+=2):(e=t,0===c&&h(Xr)))))))),e}function ft(){var e,n,a,s,d;return e=r,n=r,(a=Y())!==t?(s=f(),(d=xt())!==t?n=a=[a,s,d]:(r=n,n=t)):(r=n,n=t),n!==t&&(n=function(e){return e[0]+" "+e[2]}(n)),(e=n)===t&&(e=xt()),e}function Ne(){var e,n,a,s,d;return e=r,n=r,(a=Y())!==t?(s=f(),(d=Ee())!==t?n=a=[a,s,d]:(r=n,n=t)):(r=n,n=t),n!==t&&(n=function(e){return e[0]+" "+e[2]}(n)),(e=n)===t&&(e=Ee()),e}function J(){var e,n,a,s,d,y,b,A;if(e=r,(n=be())!==t){for(a=[],s=r,d=f(),(y=pt())!==t?(b=f(),(A=be())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=pt())!==t?(b=f(),(A=be())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=function(e,n){return Z(e,n)}(n,a)}else r=e,e=t;return e}function pt(){var e;return 43===i.charCodeAt(r)?(e="+",r++):(e=t,0===c&&h(me)),e===t&&(45===i.charCodeAt(r)?(e="-",r++):(e=t,0===c&&h(ge))),e}function be(){var e,n,a,s,d,y,b,A;if(e=r,(n=Te())!==t){for(a=[],s=r,d=f(),(y=vt())!==t?(b=f(),(A=Te())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);s!==t;)a.push(s),s=r,d=f(),(y=vt())!==t?(b=f(),(A=Te())!==t?s=d=[d,y,b,A]:(r=s,s=t)):(r=s,s=t);e=function(e,n){return Z(e,n)}(n,a)}else r=e,e=t;return e}function vt(){var e;return 42===i.charCodeAt(r)?(e="*",r++):(e=t,0===c&&h(en)),e===t&&(47===i.charCodeAt(r)?(e="/",r++):(e=t,0===c&&h(tn))),e}function Te(){var e,n;return(e=function gs(){var e;return(e=Ie())===t&&(e=function _s(){var e,n,a,s;return e=r,(n=function Ps(){var e,n,a,s;return e=r,(n=ae())!==t&&(a=yt())!==t&&(s=Nt())!==t?e=function(e,n,a){return parseFloat(e+n+a)}(n,a,s):(r=e,e=t),e===t&&(e=r,(n=ae())!==t&&(a=yt())!==t?e=function(e,n){return parseFloat(e+n)}(n,a):(r=e,e=t),e===t&&(e=r,(n=ae())!==t&&(a=Nt())!==t?e=function(e,n){return parseFloat(e+n)}(n,a):(r=e,e=t),e===t&&(e=r,(n=ae())!==t&&(n=function(e){return parseFloat(e)}(n)),e=n))),e}())!==t?(a=r,c++,s=xe(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=function(e){return{type:"number",value:e}}(n):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function Is(){var e,n;return e=r,(n=function Ms(){var e,n,a,s;return e=r,"true"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(vn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}())!==t&&(n={type:"boolean",value:!0}),(e=n)===t&&(e=r,(n=function Ds(){var e,n,a,s;return e=r,"false"===i.substr(r,5).toLowerCase()?(n=i.substr(r,5),r+=5):(n=t,0===c&&h(hn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}())!==t&&(n={type:"boolean",value:!1}),e=n),e}())===t&&(e=function As(){var e;return(e=function Ls(){var e,n,a,s;return e=r,"null"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(pn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e=n=[n,a]:(r=e,e=t)):(r=e,e=t),e}())!==t&&(e={type:"null",value:null}),e}())===t&&(e=function xs(){var e,n;return e=r,function Us(){var e,n,a,s;return e=r,"date"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Pn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="DATE":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(n=B())!==t?e=function(e){return{type:"date",value:e.value}}(n):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function ws(){var e,n;return e=r,function Hs(){var e,n,a,s;return e=r,"timestamp"===i.substr(r,9).toLowerCase()?(n=i.substr(r,9),r+=9):(n=t,0===c&&h(_n)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="TIMESTAMP":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(n=B())!==t?e=function(e){return{type:"timestamp",value:e.value}}(n):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function ys(){var e,n,a,s;return e=r,St()!==t?(f(),45===i.charCodeAt(r)?(n="-",r++):(n=t,0===c&&h(ge)),n===t&&(43===i.charCodeAt(r)?(n="+",r++):(n=t,0===c&&h(me))),n!==t?(f(),(a=B())!==t?(f(),(s=gt())!==t?e=function(e,n,a){return{type:"interval",value:n,qualifier:a,op:e}}(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,St()!==t?(f(),(n=B())!==t?(f(),(a=gt())!==t?e=function(e,n){return{type:"interval",value:e,qualifier:n,op:""}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}()),e}())===t&&(e=function fs(){var e,n,a;return e=r,function $s(){var e,n,a,s;return e=r,"extract"===i.substr(r,7).toLowerCase()?(n=i.substr(r,7),r+=7):(n=t,0===c&&h(En)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="EXTRACT":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),_()!==t?(f(),(n=function ms(){var e;return(e=Ct())===t&&(e=_t())===t&&(e=Pt())===t&&(e=Ft())===t&&(e=Lt())===t&&(e=V()),e}())!==t?(f(),Se()!==t?(f(),(a=I())!==t?(f(),P()!==t?e=function(e,n){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},n]}}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function ps(){var e,n,a,s,d,y,b;return e=r,function Js(){var e,n,a,s;return e=r,"substring"===i.substr(r,9).toLowerCase()?(n=i.substr(r,9),r+=9):(n=t,0===c&&h(In)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="SUBSTRING":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),_()!==t?(f(),(n=I())!==t?(f(),Se()!==t?(f(),(a=I())!==t?(f(),s=r,(d=function Rs(){var e,n,a,s;return e=r,"for"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(An)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="FOR":(r=e,e=t)):(r=e,e=t),e}())!==t?(y=f(),(b=I())!==t?s=d=[d,y,b,f()]:(r=s,s=t)):(r=s,s=t),s===t&&(s=null),(d=P())!==t?e=function(e,n,a){return{type:"function",name:"substring",args:{type:"expression-list",value:a?[e,n,a[2]]:[e,n]}}}(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function vs(){var e,n,a,s;return e=r,Et()!==t?(f(),_()!==t?(f(),(n=mt())===t&&(n=null),f(),(a=I())!==t?(f(),Se()!==t?(f(),(s=I())!==t?(f(),P()!==t?e=function(e,n,a){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},n,a]}}}(n,a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,Et()!==t?(f(),_()!==t?(f(),(n=mt())===t&&(n=null),f(),(a=I())!==t?(f(),P()!==t?e=function(e,n){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},n]}}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}())===t&&(e=function hs(){var e,n,a;return e=r,function ks(){var e,n,a,s;return e=r,"position"===i.substr(r,8).toLowerCase()?(n=i.substr(r,8),r+=8):(n=t,0===c&&h(Cn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="POSITION":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),_()!==t?(f(),(n=I())!==t?(f(),Ee()!==t?(f(),(a=I())!==t?(f(),P()!==t?e=function(e,n){return{type:"function",name:"position",args:{type:"expression-list",value:[e,n]}}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function ds(){var e,n,a;return e=r,(n=function qs(){var e,n,a,s;if(e=r,(e=n=ht())===t)if(e=r,96===i.charCodeAt(r)?(n="`",r++):(n=t,0===c&&h(nt)),n!==t){if(a=[],Qe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,0===c&&h(at)),s!==t)for(;s!==t;)a.push(s),Qe.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,0===c&&h(at));else a=t;a!==t?(96===i.charCodeAt(r)?(s="`",r++):(s=t,0===c&&h(nt)),s!==t?e=function(e){return e.join("")}(a):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;return e}())!==t?(f(),_()!==t?(f(),(a=lt())===t&&(a=null),f(),P()!==t?e=function(e,n){return{type:"function",name:e,args:n||{type:"expression-list",value:[]}}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function Es(){var e;return(e=function Ss(){var e,n,a,s,d;if(e=r,se()!==t)if(f(),(n=I())!==t){for(f(),a=[],s=ne();s!==t;)a.push(s),s=ne();s=f(),(d=oe())!==t?e=function(e,n){return{type:"case-expression",format:"simple",operand:e,clauses:n,else:null}}(n,a):(r=e,e=t)}else r=e,e=t;else r=e,e=t;if(e===t)if(e=r,se()!==t)if(f(),(n=I())!==t){for(f(),a=[],s=ne();s!==t;)a.push(s),s=ne();s=f(),(d=wt())!==t?(f(),oe()!==t?e=function(e,n,a){return{type:"case-expression",format:"simple",operand:e,clauses:n,else:a.value}}(n,a,d):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;else r=e,e=t;return e}())===t&&(e=function Cs(){var e,n,a,s;if(e=r,se()!==t){for(f(),n=[],a=re();a!==t;)n.push(a),a=re();a=f(),(s=oe())!==t?e=function(e){return{type:"case-expression",format:"searched",clauses:e,else:null}}(n):(r=e,e=t)}else r=e,e=t;if(e===t)if(e=r,se()!==t){for(f(),n=[],a=re();a!==t;)n.push(a),a=re();a=f(),(s=wt())!==t?(f(),oe()!==t?e=function(e,n){return{type:"case-expression",format:"searched",clauses:e,else:n.value}}(n,s):(r=e,e=t)):(r=e,e=t)}else r=e,e=t;return e}()),e}())===t&&(e=function is(){var e;return(e=function ls(){var e;return e=function cs(){var e,n,a,s;if(e=r,(n=xe())!==t){for(a=[],s=dt();s!==t;)a.push(s),s=dt();e=function(e,n){return e+n.join("")}(n,a)}else r=e,e=t;return e}(),e}())!==t&&(e=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e}}(e)),e}())===t&&(e=Ae())===t&&(e=r,_()!==t?(f(),(n=I())!==t?(f(),P()!==t?e=function(e){return e.paren=!0,e}(n):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)),e}function ht(){var e,n,a,s;if(e=r,(n=xe())!==t){for(a=[],s=w();s!==t;)a.push(s),s=w();e=function(e,n){return e+n.join("")}(n,a)}else r=e,e=t;return e}function xe(){var e;return Hr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(rn)),e}function w(){var e;return Ur.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(nn)),e}function dt(){var e;return Vr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(an)),e}function Ae(){var e,n,a;return e=r,64===i.charCodeAt(r)?(n="@",r++):(n=t,0===c&&h(un)),n!==t&&(a=ht())!==t?e=n=[n,a]:(r=e,e=t),e!==t&&(e=function(e){return{type:"parameter",value:e[1]}}(e)),e}function mt(){var e;return(e=function Vs(){var e,n,a,s;return e=r,"leading"===i.substr(r,7).toLowerCase()?(n=i.substr(r,7),r+=7):(n=t,0===c&&h(Fn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="LEADING":(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function Bs(){var e,n,a,s;return e=r,"trailing"===i.substr(r,8).toLowerCase()?(n=i.substr(r,8),r+=8):(n=t,0===c&&h(Ln)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="TRAILING":(r=e,e=t)):(r=e,e=t),e}())===t&&(e=function Ws(){var e,n,a,s;return e=r,"both"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Mn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="BOTH":(r=e,e=t)):(r=e,e=t),e}()),e}function gt(){var e,n,a;return e=r,(n=function Ns(){var e,n,a;return e=r,(n=q())!==t?(f(),_()!==t?(f(),(a=te())!==t?(f(),P()!==t?e=function(e,n){return{type:"interval-period",period:e.value,precision:n,secondary:null}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=q())!==t&&(n=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}}(n)),e=n),e}())!==t?(f(),function js(){var e,n,a,s;return e=r,"to"===i.substr(r,2).toLowerCase()?(n=i.substr(r,2),r+=2):(n=t,0===c&&h(Dn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="TO":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(a=function bs(){var e,n,a,s;return e=r,(n=q())!==t&&(n=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}}(n)),(e=n)===t&&(e=r,(n=V())!==t?(f(),_()!==t?(f(),(a=te())!==t?(f(),ie()!==t?(f(),(s=ee())!==t?(f(),P()!==t?e=function(e,n){return{type:"interval-period",period:"second",precision:e,secondary:n}}(a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=V())!==t?(f(),_()!==t?(f(),(a=te())!==t?(f(),P()!==t?e=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}}(a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=V())!==t&&(n={type:"interval-period",period:"second",precision:null,secondary:null}),e=n))),e}())!==t?e=function(e,n){return{type:"interval-qualifier",start:e,end:n}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=function Ts(){var e,n,a,s;return e=r,(n=q())!==t?(f(),_()!==t?(f(),(a=ee())!==t?(f(),P()!==t?e=function(e,n){return{type:"interval-period",period:e.value,precision:n,secondary:null}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=q())!==t&&(n=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}}(n)),(e=n)===t&&(e=r,(n=V())!==t?(f(),_()!==t?(f(),(a=te())!==t?(f(),ie()!==t?(f(),(s=ee())!==t?(f(),P()!==t?e=function(e,n){return{type:"interval-period",period:"second",precision:e,secondary:n}}(a,s):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=V())!==t?(f(),_()!==t?(f(),(a=ee())!==t?(f(),P()!==t?e=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}}(a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e===t&&(e=r,(n=V())!==t&&(n={type:"interval-period",period:"second",precision:null,secondary:null}),e=n)))),e}()),e}function q(){var e,n;return e=r,(n=Pt())!==t&&(n={type:"string",value:"day"}),(e=n)===t&&(e=r,(n=Ft())!==t&&(n={type:"string",value:"hour"}),(e=n)===t&&(e=r,(n=Lt())!==t&&(n={type:"string",value:"minute"}),(e=n)===t&&(e=r,(n=_t())!==t&&(n={type:"string",value:"month"}),(e=n)===t&&(e=r,(n=Ct())!==t&&(n={type:"string",value:"year"}),e=n)))),e}function ee(){var e;return(e=W())!==t&&(e=function(e){return parseFloat(e)}(e)),e}function te(){var e;return(e=W())!==t&&(e=function(e){return parseFloat(e)}(e)),e}function B(){var e;return(e=Ie())===t&&(e=Ae()),e}function Ie(){var e,n,a,s,d;if(e=r,39===i.charCodeAt(r)?(n="'",r++):(n=t,0===c&&h(et)),n===t&&("N'"===i.substr(r,2)?(n="N'",r+=2):(n=t,0===c&&h(sn))),n!==t){for(a=[],s=r,i.substr(r,2)===K?(d=K,r+=2):(d=t,0===c&&h(tt)),d!==t&&(d="'"),(s=d)===t&&(Ke.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,0===c&&h(rt)));s!==t;)a.push(s),s=r,i.substr(r,2)===K?(d=K,r+=2):(d=t,0===c&&h(tt)),d!==t&&(d="'"),(s=d)===t&&(Ke.test(i.charAt(r))?(s=i.charAt(r),r++):(s=t,0===c&&h(rt)));39===i.charCodeAt(r)?(s="'",r++):(s=t,0===c&&h(et)),s!==t?e=function(e){return{type:"string",value:e.join("")}}(a):(r=e,e=t)}else r=e,e=t;return e}function re(){var e,n,a;return e=r,Mt()!==t?(f(),(n=I())!==t?(f(),Dt()!==t?(f(),(a=I())!==t?e=function(e,n){return{type:"when-clause",operand:e,value:n}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function ne(){var e,n,a;return e=r,Mt()!==t?(f(),(n=I())!==t?(f(),Dt()!==t?(f(),(a=I())!==t?e=function(e,n){return{type:"when-clause",operand:e,value:n}}(n,a):(r=e,e=t)):(r=e,e=t)):(r=e,e=t)):(r=e,e=t),e}function wt(){var e,n;return e=r,function Gs(){var e,n,a,s;return e=r,"else"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Gn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="ELSE":(r=e,e=t)):(r=e,e=t),e}()!==t?(f(),(n=I())!==t?e=function(e){return{type:"else-clause",value:e}}(n):(r=e,e=t)):(r=e,e=t),e}function ae(){var e,n,a;return(e=W())===t&&(e=r,45===i.charCodeAt(r)?(n="-",r++):(n=t,0===c&&h(ge)),n===t&&(43===i.charCodeAt(r)?(n="+",r++):(n=t,0===c&&h(me))),n!==t&&(a=W())!==t?e=function(e,n){return e[0]+n}(n,a):(r=e,e=t)),e}function yt(){var e,n,a;return e=r,46===i.charCodeAt(r)?(n=".",r++):(n=t,0===c&&h(on)),n!==t?((a=W())===t&&(a=null),e=function(e){return"."+(e??"")}(a)):(r=e,e=t),e}function Nt(){var e,n,a;return e=r,(n=function Fs(){var e,n,a;return e=r,Wr.test(i.charAt(r))?(n=i.charAt(r),r++):(n=t,0===c&&h(cn)),n!==t?(jr.test(i.charAt(r))?(a=i.charAt(r),r++):(a=t,0===c&&h(fn)),a===t&&(a=null),e=function(e,n){return"e"+(null===n?"":n)}(0,a)):(r=e,e=t),e}())!==t&&(a=W())!==t?e=function(e,n){return e+n}(n,a):(r=e,e=t),e}function W(){var e,n;if(e=[],(n=bt())!==t)for(;n!==t;)e.push(n),n=bt();else e=t;return e!==t&&(e=function(e){return e.join("")}(e)),e}function bt(){var e;return Br.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(ln)),e}function Ee(){var e,n,a,s;return e=r,"in"===i.substr(r,2).toLowerCase()?(n=i.substr(r,2),r+=2):(n=t,0===c&&h(dn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="IN":(r=e,e=t)):(r=e,e=t),e}function Tt(){var e,n,a,s;return e=r,"is"===i.substr(r,2).toLowerCase()?(n=i.substr(r,2),r+=2):(n=t,0===c&&h(mn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="IS":(r=e,e=t)):(r=e,e=t),e}function xt(){var e,n,a,s;return e=r,"like"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(gn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="LIKE":(r=e,e=t)):(r=e,e=t),e}function Y(){var e,n,a,s;return e=r,"not"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(yn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="NOT":(r=e,e=t)):(r=e,e=t),e}function ue(){var e,n,a,s;return e=r,"and"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(Nn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="AND":(r=e,e=t)):(r=e,e=t),e}function At(){var e,n,a,s;return e=r,"or"===i.substr(r,2).toLowerCase()?(n=i.substr(r,2),r+=2):(n=t,0===c&&h(bn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="OR":(r=e,e=t)):(r=e,e=t),e}function It(){var e,n,a,s;return e=r,"between"===i.substr(r,7).toLowerCase()?(n=i.substr(r,7),r+=7):(n=t,0===c&&h(Tn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="BETWEEN":(r=e,e=t)):(r=e,e=t),e}function Se(){var e,n,a,s;return e=r,"from"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(xn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="FROM":(r=e,e=t)):(r=e,e=t),e}function Et(){var e,n,a,s;return e=r,"trim"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Sn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="TRIM":(r=e,e=t)):(r=e,e=t),e}function St(){var e,n,a,s;return e=r,"interval"===i.substr(r,8).toLowerCase()?(n=i.substr(r,8),r+=8):(n=t,0===c&&h(On)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="INTERVAL":(r=e,e=t)):(r=e,e=t),e}function Ct(){var e,n,a,s;return e=r,"year"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Rn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="YEAR":(r=e,e=t)):(r=e,e=t),e}function _t(){var e,n,a,s;return e=r,"month"===i.substr(r,5).toLowerCase()?(n=i.substr(r,5),r+=5):(n=t,0===c&&h(Jn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="MONTH":(r=e,e=t)):(r=e,e=t),e}function Pt(){var e,n,a,s;return e=r,"day"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h($n)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="DAY":(r=e,e=t)):(r=e,e=t),e}function Ft(){var e,n,a,s;return e=r,"hour"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(kn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="HOUR":(r=e,e=t)):(r=e,e=t),e}function Lt(){var e,n,a,s;return e=r,"minute"===i.substr(r,6).toLowerCase()?(n=i.substr(r,6),r+=6):(n=t,0===c&&h(Hn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="MINUTE":(r=e,e=t)):(r=e,e=t),e}function V(){var e,n,a,s;return e=r,"second"===i.substr(r,6).toLowerCase()?(n=i.substr(r,6),r+=6):(n=t,0===c&&h(Un)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="SECOND":(r=e,e=t)):(r=e,e=t),e}function se(){var e,n,a,s;return e=r,"case"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Vn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="CASE":(r=e,e=t)):(r=e,e=t),e}function oe(){var e,n,a,s;return e=r,"end"===i.substr(r,3).toLowerCase()?(n=i.substr(r,3),r+=3):(n=t,0===c&&h(Bn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="END":(r=e,e=t)):(r=e,e=t),e}function Mt(){var e,n,a,s;return e=r,"when"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(Wn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="WHEN":(r=e,e=t)):(r=e,e=t),e}function Dt(){var e,n,a,s;return e=r,"then"===i.substr(r,4).toLowerCase()?(n=i.substr(r,4),r+=4):(n=t,0===c&&h(jn)),n!==t?(a=r,c++,s=w(),c--,s===t?a=void 0:(r=a,a=t),a!==t?e="THEN":(r=e,e=t)):(r=e,e=t),e}function ie(){var e;return 44===i.charCodeAt(r)?(e=",",r++):(e=t,0===c&&h(qn)),e}function _(){var e;return 40===i.charCodeAt(r)?(e="(",r++):(e=t,0===c&&h(Yn)),e}function P(){var e;return 41===i.charCodeAt(r)?(e=")",r++):(e=t,0===c&&h(Zn)),e}function f(){var e,n;for(e=[],n=Ot();n!==t;)e.push(n),n=Ot();return e}function Ot(){var e;return Gr.test(i.charAt(r))?(e=i.charAt(r),r++):(e=t,0===c&&h(zn)),e}function Rt(e,n,a,s){var d={type:"binary-expression",operator:e,left:n,right:a};return void 0!==s&&(d.escape=s),d}function Z(e,n){for(var a=e,s=0;s<n.length;s++)a=Rt(n[s][1],a,n[s][3]);return a}if((m=F())!==t&&r===i.length)return m;throw m!==t&&r<i.length&&h({type:"end"}),function es(e,n,a){return new u(u.buildMessage(e,n),e,n,a)}(we,M<i.length?i.charAt(M):null,function ot(e,n){var a=st(e),s=st(n);return{source:N,start:{offset:e,line:a.line,column:a.column},end:{offset:n,line:s.line,column:s.column}}}(M,M<i.length?M+1:M))}}}());class Vt{static parse(u){return Je.exports.parse(u)}}const $e=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,Bt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,Wt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,jt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,Gt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,qt=new Set(["current_timestamp","current_date","current_time"]);function k(l,u){return(l+="").length>=u?l:new Array(u-l.length+1).join("0")+l}function G(l,u,o="0",p="0",i="0",v="0",m="",t="0",N="0"){if("+"===m||"-"===m){const x=`${k(parseInt(l,10),4)}-${k(parseInt(u,10),2)}-${k(parseInt(o,10),2)}`;let F="";parseFloat(v)<10&&(F="0");const $=`${k(parseInt(p,10),2)}:${k(parseInt(i,10),2)}:${F+parseFloat(v).toString()}`,O=`${m}${k(parseInt(t,10),2)}:${k(parseInt(N,10),2)}`;return new Date(x+"T"+$+O)}return new Date(parseInt(l,10),parseInt(u,10)-1,parseInt(o,10),parseInt(p,10),parseInt(i,10),parseFloat(v))}class Yt{static makeBool(u){return He(u)}static featureValue(u,o,p,i){return Ge(u,o,p,i)}static equalsNull(u){return null===u}static applyLike(u,o,p){return ve(u,o,p)}static ensureArray(u){return fe(u)}static applyIn(u,o){return pe(u,o)}static currentDate(){const u=new Date;return u.setHours(0,0,0,0),u}static makeSqlInterval(u,o,p){return C.createFromValueAndQualifer(u,o,p)}static convertInterval(u){return u instanceof C?u.valueInMilliseconds():u}static currentTimestamp(){return new Date}static compare(u,o,p){return We(u,o,p)}static calculate(u,o,p){return je(u,o,p)}static makeComparable(u){return D(u)}static evaluateFunction(u,o){return Me(u,o)}static lookup(u,o){const p=o[u];return void 0===p?null:p}static between(u,o){return null==u||null==o[0]||null==o[1]?null:u>=o[0]&&u<=o[1]}static notbetween(u,o){return null==u||null==o[0]||null==o[1]?null:u<o[0]||u>o[1]}static ternaryNot(u){return z(u)}static ternaryAnd(u,o){return Ue(u,o)}static ternaryOr(u,o){return Ve(u,o)}}class le{constructor(u,o){this.fieldsIndex=o,this._datefields={},this.parameters={},this._hasDateFunctions=void 0,this.parseTree=Vt.parse(u);const{isStandardized:p,isAggregate:i,referencedFieldNames:v}=this._extractExpressionInfo(o);this._referencedFieldNames=v,this.isStandardized=p,this.isAggregate=i}static create(u,o){return new le(u,o)}get fieldNames(){return this._referencedFieldNames}testSet(u,o=U){const p={};for(const i of this.fieldNames)p[i]=u.map(v=>o.getAttribute(v,i));return!!this._evaluateNode(this.parseTree,{attributes:p},U)}calculateValue(u,o=U){const p=this._evaluateNode(this.parseTree,u,o);return p instanceof C?p.valueInMilliseconds()/864e5:p}calculateValueCompiled(u,o=U){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(u,this.parameters,o,this._datefields):(0,_e.Z)("esri-csp-restrictions")?this.calculateValue(u,o):(this._compileMe(),this.parseTree._compiledVersion(u,this.parameters,o,this._datefields))}testFeature(u,o=U){return!!this._evaluateNode(this.parseTree,u,o)}testFeatureCompiled(u,o=U){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(u,this.parameters,o,this._datefields):(0,_e.Z)("esri-csp-restrictions")?this.testFeature(u,o):(this._compileMe(),!!this.parseTree._compiledVersion(u,this.parameters,o,this._datefields))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,u=>{"current-time"===u.type?this._hasDateFunctions=!0:"function"===u.type&&(this._hasDateFunctions=this._hasDateFunctions||qt.has(u.name.toLowerCase()))})),this._hasDateFunctions}getFunctions(){const u=new Set;return this._visitAll(this.parseTree,o=>{"function"===o.type&&u.add(o.name.toLowerCase())}),Array.from(u)}getExpressions(){const u=new Map;return this._visitAll(this.parseTree,o=>{if("function"===o.type){const p=o.name.toLowerCase(),i=o.args.value[0];if("column-reference"===i.type){const v=i.column,m=`${p}-${v}`;u.has(m)||u.set(m,{aggregateType:p,field:v})}}}),[...u.values()]}getVariables(){const u=new Set;return this._visitAll(this.parseTree,o=>{"parameter"===o.type&&u.add(o.value.toLowerCase())}),Array.from(u)}_compileMe(){const u="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","datefields",u).bind(Yt)}_extractExpressionInfo(u){const o=[],p=new Set;let i=!0,v=!0;return this._visitAll(this.parseTree,m=>{switch(m.type){case"column-reference":{const t=u?.get(m.column);let N,x;t?N=x=t.name??"":(x=m.column,N=x.toLowerCase()),t&&t.name&&("date"===t.type||"esriFieldTypeDate"===t.type)&&(this._datefields[t.name]=1),p.has(N)||(p.add(N),o.push(x)),m.column=x;break}case"function":{const{name:t,args:N}=m,x=N.value.length;i&&(i=function Ut(l,u){const o=De[l.toLowerCase()];return null!=o&&u>=o.minParams&&u<=o.maxParams}(t,x)),v&&(v=function $t(l,u){const o=Pe[l.toLowerCase()];return null!=o&&u>=o.minParams&&u<=o.maxParams}(t,x));break}}}),{referencedFieldNames:Array.from(o),isStandardized:i,isAggregate:v}}_visitAll(u,o){if(null!=u)switch(o(u),u.type){case"when-clause":this._visitAll(u.operand,o),this._visitAll(u.value,o);break;case"case-expression":for(const p of u.clauses)this._visitAll(p,o);"simple"===u.format&&this._visitAll(u.operand,o),null!==u.else&&this._visitAll(u.else,o);break;case"expression-list":for(const p of u.value)this._visitAll(p,o);break;case"unary-expression":this._visitAll(u.expr,o);break;case"binary-expression":this._visitAll(u.left,o),this._visitAll(u.right,o);break;case"function":this._visitAll(u.args,o)}}evaluateNodeToJavaScript(u){switch(u.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(u.value)+", "+JSON.stringify(u.qualifier)+","+JSON.stringify(u.op)+")";case"case-expression":{let o="";if("simple"===u.format){const p="this.makeComparable("+this.evaluateNodeToJavaScript(u.operand)+")";o="( ";for(let i=0;i<u.clauses.length;i++)o+=" ("+p+" === this.makeComparable("+this.evaluateNodeToJavaScript(u.clauses[i].operand)+")) ? ("+this.evaluateNodeToJavaScript(u.clauses[i].value)+") : ";o+=null!==u.else?this.evaluateNodeToJavaScript(u.else):"null",o+=" )"}else{o="( ";for(let p=0;p<u.clauses.length;p++)o+=" this.makeBool("+this.evaluateNodeToJavaScript(u.clauses[p].operand)+")===true ? ("+this.evaluateNodeToJavaScript(u.clauses[p].value)+") : ";o+=null!==u.else?this.evaluateNodeToJavaScript(u.else):"null",o+=" )"}return o}case"parameter":return"this.lookup("+JSON.stringify(u.value.toLowerCase())+",lookups)";case"expression-list":{let o="[";for(const p of u.value)"["!==o&&(o+=","),o+=this.evaluateNodeToJavaScript(p);return o+="]",o}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(u.expr)+")";case"binary-expression":switch(u.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+" )";case"IS":if("null"!==u.right.type)throw new Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(u.left)+")";case"ISNOT":if("null"!==u.right.type)throw new Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(u.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(u.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(u.right)+"))";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(u.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(u.right)+")))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+","+JSON.stringify(u.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+","+JSON.stringify(u.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(u.operator)+","+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")";case"*":case"-":case"+":case"/":return"this.calculate("+JSON.stringify(u.operator)+","+this.evaluateNodeToJavaScript(u.left)+","+this.evaluateNodeToJavaScript(u.right)+")"}throw new Error("Not Supported Operator "+u.operator);case"null":case"boolean":case"string":case"number":return JSON.stringify(u.value);case"date":return"(new Date("+ke(u.value).getTime().toString()+"))";case"timestamp":return"(new Date("+ce(u.value).getTime().toString()+"))";case"current-time":return"date"===u.mode?"this.currentDate()":"this.currentTimestamp()";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(u.column)+",datefields,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(u.name)+","+this.evaluateNodeToJavaScript(u.args)+")"}throw new Error("Unsupported sql syntax "+u.type)}_evaluateNode(u,o,p){switch(u.type){case"interval":{const i=this._evaluateNode(u.value,o,p);return C.createFromValueAndQualifer(i,u.qualifier,u.op)}case"case-expression":if("simple"===u.format){const i=D(this._evaluateNode(u.operand,o,p));for(let v=0;v<u.clauses.length;v++)if(i===D(this._evaluateNode(u.clauses[v].operand,o,p)))return this._evaluateNode(u.clauses[v].value,o,p);if(null!==u.else)return this._evaluateNode(u.else,o,p)}else{for(let i=0;i<u.clauses.length;i++)if(He(this._evaluateNode(u.clauses[i].operand,o,p)))return this._evaluateNode(u.clauses[i].value,o,p);if(null!==u.else)return this._evaluateNode(u.else,o,p)}return null;case"parameter":return this.parameters[u.value.toLowerCase()];case"expression-list":{const i=[];for(const v of u.value)i.push(this._evaluateNode(v,o,p));return i}case"unary-expression":return z(this._evaluateNode(u.expr,o,p));case"binary-expression":switch(u.operator){case"AND":return Ue(this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p));case"OR":return Ve(this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p));case"IS":if("null"!==u.right.type)throw new Error("Unsupported RHS for IS");return null===this._evaluateNode(u.left,o,p);case"ISNOT":if("null"!==u.right.type)throw new Error("Unsupported RHS for IS");return null!==this._evaluateNode(u.left,o,p);case"IN":{const i=fe(this._evaluateNode(u.right,o,p));return pe(this._evaluateNode(u.left,o,p),i)}case"NOT IN":{const i=fe(this._evaluateNode(u.right,o,p));return z(pe(this._evaluateNode(u.left,o,p),i))}case"BETWEEN":{const i=this._evaluateNode(u.left,o,p),v=this._evaluateNode(u.right,o,p);return null==i||null==v[0]||null==v[1]?null:i>=D(v[0])&&i<=D(v[1])}case"NOTBETWEEN":{const i=this._evaluateNode(u.left,o,p),v=this._evaluateNode(u.right,o,p);return null==i||null==v[0]||null==v[1]?null:i<D(v[0])||i>D(v[1])}case"LIKE":return ve(this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p),u.escape);case"NOT LIKE":return z(ve(this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p),u.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return We(u.operator,this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p));case"-":case"+":case"*":case"/":return je(u.operator,this._evaluateNode(u.left,o,p),this._evaluateNode(u.right,o,p))}case"null":case"boolean":case"string":case"number":return u.value;case"date":return ke(u.value);case"timestamp":return ce(u.value);case"current-time":{const i=new Date;return"date"===u.mode&&i.setHours(0,0,0,0),i}case"column-reference":return Ge(o,u.column,this._datefields,p);case"function":{const i=this._evaluateNode(u.args,o,p);return this.isAggregate?function Jt(l,u){const o=Pe[l.toLowerCase()];if(null==o)throw new Error("Function Not Recognised");if(u.length<o.minParams||u.length>o.maxParams)throw new Error(`Invalid Parameter count for call to ${l.toUpperCase()}`);return o.evaluate(u)}(u.name,i):Me(u.name,i)}}throw new Error("Unsupported sql syntax "+u.type)}}function ce(l){let u=Bt.exec(l);if(null!==u){const[,o,p,i,v,m,t]=u;return G(o,p,i,v,m,t)}if(u=Wt.exec(l),null!==u){const[,o,p,i,v,m,t,N,x,F]=u;return G(o,p,i,v,m,t,N,x,F)}if(u=jt.exec(l),null!==u){const[,o,p,i,v,m,t,N,x]=u;return G(o,p,i,v,m,"0",t,N,x)}if(u=Gt.exec(l),null!==u){const[,o,p,i,v,m]=u;return G(o,p,i,v,m)}if(u=$e.exec(l),null!==u){const[,o,p,i]=u;return G(o,p,i)}throw new Error("SQL Invalid Timestamp")}function ke(l){const u=$e.exec(l);if(null===u)try{return ce(l)}catch{throw new Error("SQL Invalid Date")}const[,o,p,i]=u;return new Date(parseInt(o,10),parseInt(p,10)-1,parseInt(i,10))}function He(l){return!0===l}function fe(l){return Array.isArray(l)?l:[l]}function z(l){return null!==l?!0!==l:null}function Ue(l,u){return null!=l&&null!=u?!0===l&&!0===u:!1!==l&&!1!==u&&null}function Ve(l,u){return null!=l&&null!=u?!0===l||!0===u:!0===l||!0===u||null}function pe(l,u){if(null==l)return null;let o=!1;for(const p of u)if(null==p)o=null;else if(l===p){o=!0;break}return o}const Be="-[]/{}()*+?.\\^$|";var H,l;function ve(l,u,o){return null==l?null:function Zt(l,u){const o=u;let p="",i=H.Normal;for(let v=0;v<l.length;v++){const m=l.charAt(v);switch(i){case H.Normal:m===o?i=H.Escaped:Be.includes(m)?p+="\\"+m:p+="%"===m?".*":"_"===m?".":m;break;case H.Escaped:Be.includes(m)?p+="\\"+m:p+=m,i=H.Normal}}return new RegExp("^"+p+"$","m")}(u,o).test(l)}function D(l){return l instanceof Date?l.valueOf():l}function We(l,u,o){if(null==u||null==o)return null;const p=D(u),i=D(o);switch(l){case"<>":return p!==i;case"=":return p===i;case">":return p>i;case"<":return p<i;case">=":return p>=i;case"<=":return p<=i}}function je(l,u,o){if(u instanceof C)if(o instanceof Date)switch(l){case"+":return new Date(u.valueInMilliseconds()+o.getTime());case"-":return u.valueInMilliseconds()-o.getTime();case"*":return u.valueInMilliseconds()*o.getTime();case"/":return u.valueInMilliseconds()/o.getTime()}else if(o instanceof C)switch(l){case"+":return C.createFromMilliseconds(u.valueInMilliseconds()+o.valueInMilliseconds());case"-":return C.createFromMilliseconds(u.valueInMilliseconds()-o.valueInMilliseconds());case"*":return u.valueInMilliseconds()*o.valueInMilliseconds();case"/":return u.valueInMilliseconds()/o.valueInMilliseconds()}else u=u.valueInMilliseconds();else if(o instanceof C)if(u instanceof Date)switch(l){case"+":return new Date(o.valueInMilliseconds()+u.getTime());case"-":return new Date(u.getTime()-o.valueInMilliseconds());case"*":return u.getTime()*o.valueInMilliseconds();case"/":return u.getTime()/o.valueInMilliseconds()}else o=o.valueInMilliseconds();else if(u instanceof Date&&"number"==typeof o)switch(o=24*o*60*60*1e3,u=u.getTime(),l){case"+":return new Date(u+o);case"-":return new Date(u-o);case"*":return new Date(u*o);case"/":return new Date(u/o)}else if(o instanceof Date&&"number"==typeof u)switch(u=24*u*60*60*1e3,o=o.getTime(),l){case"+":return new Date(u+o);case"-":return new Date(u-o);case"*":return new Date(u*o);case"/":return new Date(u/o)}switch(l){case"+":return u+o;case"-":return u-o;case"*":return u*o;case"/":return u/o}}function Ge(l,u,o,p){const i=p.getAttribute(l,u);return null!=i&&1===o[u]?new Date(i):i}(l=H||(H={}))[l.Normal=0]="Normal",l[l.Escaped=1]="Escaped";const U={getAttribute:(l,u)=>(function zt(l){return l&&"object"==typeof l.attributes}(l)?l.attributes:l)[u]}}}]);