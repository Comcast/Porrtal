"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[4281],{14259:(b,N,c)=>{c.d(N,{q:()=>O});var T,D,y={exports:{}};T=y,void 0!==(D=function(){function A(r,t,s,e,a){for(;e>s;){if(e-s>600){var _=e-s+1,o=t-s+1,i=Math.log(_),n=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*n*(_-n)/_)*(o-_/2<0?-1:1);A(r,t,Math.max(s,Math.floor(t-o*n/_+u)),Math.min(e,Math.floor(t+(_-o)*n/_+u)),a)}var E=r[t],g=s,d=e;for(m(r,s,t),a(r[e],E)>0&&m(r,s,e);g<d;){for(m(r,g,d),g++,d--;a(r[g],E)<0;)g++;for(;a(r[d],E)>0;)d--}0===a(r[s],E)?m(r,s,d):m(r,++d,e),d<=t&&(s=d+1),t<=d&&(e=d-1)}}function m(r,t,s){var e=r[t];r[t]=r[s],r[s]=e}function R(r,t){return r<t?-1:r>t?1:0}return function U(r,t,s,e,a){A(r,t,s||0,e||r.length-1,a||R)}}())&&(T.exports=D);const O=y.exports},77044:(b,N,c)=>{c.d(N,{Y:()=>D});var T=c(62208);function v(r,t){return r?t?4:3:t?3:2}function D(r,t,s,e,a){if((0,T.Wi)(t)||!t.lengths.length)return null;const _="upperLeft"===a?.originPosition?-1:1;r.lengths.length&&(r.lengths.length=0),r.coords.length&&(r.coords.length=0);const o=r.coords,i=[],n=s?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:u,coords:E}=t,g=v(s,e);let d=0;for(const l of u){const h=y(n,E,d,l,s,e,_);h&&i.push(h),d+=l*g}if(i.sort((l,h)=>{let f=_*l[2]-_*h[2];return 0===f&&s&&(f=l[4]-h[4]),f}),i.length){let l=6*i[0][2];o[0]=i[0][0]/l,o[1]=i[0][1]/l,s&&(l=6*i[0][4],o[2]=0!==l?i[0][3]/l:0),(o[0]<n[0]||o[0]>n[1]||o[1]<n[2]||o[1]>n[3]||s&&(o[2]<n[4]||o[2]>n[5]))&&(o.length=0)}if(!o.length){const l=t.lengths[0]?function O(r,t,s,e,a){const _=v(e,a);let o=t,i=t+_,n=0,u=0,E=0,g=0;for(let d=0,l=s-1;d<l;d++,o+=_,i+=_){const h=r[o],f=r[o+1],W=r[o+2],C=r[i],M=r[i+1],p=r[i+2],I=e?A(h,f,W,C,M,p):U(h,f,C,M);if(I)if(n+=I,e){const P=R(h,f,W,C,M,p);u+=I*P[0],E+=I*P[1],g+=I*P[2]}else{const P=m(h,f,C,M);u+=I*P[0],E+=I*P[1]}}return n>0?e?[u/n,E/n,g/n]:[u/n,E/n]:s>0?e?[r[t],r[t+1],r[t+2]]:[r[t],r[t+1]]:null}(E,0,u[0],s,e):null;if(!l)return null;o[0]=l[0],o[1]=l[1],s&&l.length>2&&(o[2]=l[2])}return r}function y(r,t,s,e,a,_,o=1){const i=v(a,_);let n=s,u=s+i,E=0,g=0,d=0,l=0,h=0;for(let W=0,C=e-1;W<C;W++,n+=i,u+=i){const M=t[n],p=t[n+1],I=t[n+2],P=t[u],j=t[u+1],F=t[u+2];let L=M*j-P*p;l+=L,E+=(M+P)*L,g+=(p+j)*L,a&&(L=M*F-P*I,d+=(I+F)*L,h+=L),M<r[0]&&(r[0]=M),M>r[1]&&(r[1]=M),p<r[2]&&(r[2]=p),p>r[3]&&(r[3]=p),a&&(I<r[4]&&(r[4]=I),I>r[5]&&(r[5]=I))}if(l*o>0&&(l*=-1),h*o>0&&(h*=-1),!l)return null;const f=[E,g,.5*l];return a&&(f[3]=d,f[4]=.5*h),f}function U(r,t,s,e){const a=s-r,_=e-t;return Math.sqrt(a*a+_*_)}function A(r,t,s,e,a,_){const o=e-r,i=a-t,n=_-s;return Math.sqrt(o*o+i*i+n*n)}function m(r,t,s,e){return[r+.5*(s-r),t+.5*(e-t)]}function R(r,t,s,e,a,_){return[r+.5*(e-r),t+.5*(a-t),s+.5*(_-s)]}},4186:(b,N,c)=>{c.r(N),c.d(N,{default:()=>i});var T=c(17626),v=c(88879),D=c(62208),y=c(32917),O=c(77712),R=(c(85931),c(8314),c(90912),c(76898)),r=c(14341),t=c(62600),s=c(19702),e=c(41632),a=c(45611);let o=class extends((0,r.N)((0,s.A)(a.Z))){constructor(){super(...arguments),this.type="integrated-mesh-3d",this.lodFactor=1,this._elevationContext="im",this._isIntegratedMesh=!0,this._supportsLabeling=!1,this.drapeTargetType=t.a.WithoutRasterImage}get progressiveLoadFactor(){return this.lodFactor>=1?.2:1}initialize(){this.updatingHandles.add(()=>this.layer.modifications,()=>this._loadModifications(),y.nn),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){const n=new v.Z;return n.layer=this.layer,n.sourceLayer=this.layer,n}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.handles.remove("modifications"),(0,D.Wi)(this.layer.modifications))return void(this._modifications=[]);const n=this.layer.modifications;this.handles.add(this.updatingHandles.addOnCollectionChange(()=>n,()=>this._modifications=n.toArray(),y.nn),"modifications")}};(0,T._)([(0,O.Cb)()],o.prototype,"layer",void 0),(0,T._)([(0,O.Cb)({aliasOf:"layer"})],o.prototype,"i3slayer",void 0),(0,T._)([(0,O.Cb)(e.q)],o.prototype,"updatingProgress",void 0),(0,T._)([(0,O.Cb)({readOnly:!0,aliasOf:"_controller.updatingProgress"})],o.prototype,"updatingProgressValue",void 0),(0,T._)([(0,O.Cb)({readOnly:!0,aliasOf:"view.qualitySettings.sceneService.integratedMesh.lodFactor"})],o.prototype,"lodFactor",void 0),(0,T._)([(0,O.Cb)({readOnly:!0})],o.prototype,"progressiveLoadFactor",null),o=(0,T._)([(0,R.j)("esri.views.3d.layers.SceneLayerView3D")],o);const i=o}}]);