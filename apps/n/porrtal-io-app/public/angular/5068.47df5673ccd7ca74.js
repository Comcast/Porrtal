/*
Copyright 2022 Comcast Cable Communications Management, LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[5068],{37780:(Re,Fe,ee)=>{ee.d(Fe,{Z:()=>me});var G=ee(6729);class me extends G.Z{constructor(E){super(),this.immutable=!1,this.setField("url",E),this.immutable=!0}}},22386:(Re,Fe,ee)=>{ee.d(Fe,{Z:()=>me});var G=ee(6729);class me extends G.Z{constructor(E,he,oe,le,T,D){super(),this.attachmentUrl=T,this.immutable=!1,this.setField("id",E),this.setField("name",he),this.setField("contenttype",oe),this.setField("size",le),this.setField("exifinfo",D),this.immutable=!0}}},6729:(Re,Fe,ee)=>{ee.d(Fe,{Z:()=>oe});var G=ee(15861),me=ee(98362),W=ee(47562),E=ee(21674);function he(le,T=!1){if(null==le)return null;if((0,W.a)(le))return(0,W.f)(le);if((0,W.i)(le))return(0,W.g)(le);if((0,W.b)(le))return(0,W.h)(le);if((0,W.j)(le))return(0,W.k)(le);if((0,W.l)(le)){const S=[];for(const Y of le)S.push(he(Y,T));return S}const D=new oe;D.immutable=!1;for(const S of Object.keys(le)){const Y=le[S];void 0!==Y&&D.setField(S,he(Y,T))}return D.immutable=T,D}class oe{constructor(T){this.declaredClass="esri.arcade.Dictionary",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=T instanceof oe?T.attributes:T??{}}field(T){const D=T.toLowerCase(),S=this.attributes[T];if(void 0!==S)return S;for(const Y in this.attributes)if(Y.toLowerCase()===D)return this.attributes[Y];throw new Error("Field not Found : "+T)}setField(T,D){if(this.immutable)throw new Error("Dictionary is Immutable");const S=T.toLowerCase();if(void 0===this.attributes[T]){for(const Y in this.attributes)if(Y.toLowerCase()===S)return void(this.attributes[Y]=D);this.attributes[T]=D}else this.attributes[T]=D}hasField(T){const D=T.toLowerCase();if(void 0!==this.attributes[T])return!0;for(const S in this.attributes)if(S.toLowerCase()===D)return!0;return!1}keys(){let T=[];for(const D in this.attributes)T.push(D);return T=T.sort(),T}castToText(){let T="";for(const D in this.attributes){""!==T&&(T+=",");const S=this.attributes[D];null==S?T+=JSON.stringify(D)+":null":(0,W.i)(S)||(0,W.a)(S)||(0,W.b)(S)?T+=JSON.stringify(D)+":"+JSON.stringify(S):S instanceof E.Z||S instanceof me.Z||S instanceof Array?T+=JSON.stringify(D)+":"+(0,W.t)(S):S instanceof Date?T+=JSON.stringify(D)+":"+JSON.stringify(S):null!==S&&"object"==typeof S&&void 0!==S.castToText&&(T+=JSON.stringify(D)+":"+S.castToText())}return"{"+T+"}"}static convertObjectToArcadeDictionary(T,D=!0){const S=new oe;S.immutable=!1;for(const Y in T){const C=T[Y];void 0!==C&&S.setField(Y.toString(),he(C))}return S.immutable=D,S}static convertJsonToArcade(T,D=!1){return he(T,D)}castAsJson(T=null){const D={};for(let S in this.attributes){const Y=this.attributes[S];void 0!==Y&&(T?.keyTranslate&&(S=T.keyTranslate(S)),D[S]=(0,W.c)(Y,T))}return D}castDictionaryValueAsJsonAsync(T,D,S,Y=null,C){return(0,G.Z)(function*(){const x=yield(0,W.d)(S,Y,C);return T[D]=x,x})()}castAsJsonAsync(T=null,D=null){var S=this;return(0,G.Z)(function*(){const Y={},C=[];for(let x in S.attributes){const Q=S.attributes[x];D?.keyTranslate&&(x=D.keyTranslate(x)),void 0!==Q&&((0,W.e)(Q)||Q instanceof E.Z||Q instanceof Date?Y[x]=(0,W.c)(Q,D):C.push(S.castDictionaryValueAsJsonAsync(Y,x,Q,T,D)))}return C.length>0&&(yield Promise.all(C)),Y})()}}},42275:(Re,Fe,ee)=>{ee.d(Fe,{Z:()=>S});var G=ee(15861),me=ee(6729),W=ee(98362),E=ee(47562),he=ee(21674),oe=ee(49672),le=ee(91179),T=ee(82054),D=ee(62208);class S{constructor(){this.arcadeDeclaredClass="esri.arcade.Feature",this._optimizedGeomDefinition=null,this._geometry=null,this.attributes=null,this._layer=null,this._datesfixed=!0,this.immutable=!0,this._datefields=null,this.immutable=!0}static createFromGraphic(C){const x=new S;return x._geometry=(0,D.pC)(C.geometry)?C.geometry:null,x.attributes=C.attributes??{},C._sourceLayer?(x._layer=C._sourceLayer,x._datesfixed=!1):C._layer?(x._layer=C._layer,x._datesfixed=!1):C.layer&&"fields"in C.layer?(x._layer=C.layer,x._datesfixed=!1):C.sourceLayer&&"fields"in C.sourceLayer&&(x._layer=C.sourceLayer,x._datesfixed=!1),x}static createFromArcadeFeature(C){const x=new S;return x._datesfixed=C._datesfixed,x.attributes=C.attributes,x._geometry=C._geometry,x._optimizedGeomDefinition=C._optimizedGeomDefinition,C._layer&&(x._layer=C._layer),x}static createFromOptimisedFeature(C,x,Q){const N=new S;return N._geometry=C.geometry?{geometry:C.geometry}:null,N._optimizedGeomDefinition=Q,N.attributes=C.attributes||{},N._layer=x,N._datesfixed=!1,N}static createFromArcadeDictionary(C){const x=new S;return x.attributes=C.field("attributes"),null!==x.attributes&&x.attributes instanceof me.Z?(x.attributes=x.attributes.attributes,null===x.attributes&&(x.attributes={})):x.attributes={},x._geometry=C.field("geometry"),null!==x._geometry&&(x._geometry instanceof me.Z?x._geometry=S.parseGeometryFromDictionary(x._geometry):x._geometry instanceof he.Z||(x._geometry=null)),x}static createFromGraphicLikeObject(C,x,Q=null){const N=new S;return null===x&&(x={}),N.attributes=x,N._geometry=(0,D.pC)(C)?C:null,N._layer=Q,N._layer&&(N._datesfixed=!1),N}repurposeFromGraphicLikeObject(C,x,Q=null){null===x&&(x={}),this.attributes=x,this._geometry=C||null,this._layer=Q,this._datesfixed=!this._layer}castToText(){let C="";!1===this._datesfixed&&this._fixDates();for(const x in this.attributes){""!==C&&(C+=",");const Q=this.attributes[x];null==Q?C+=JSON.stringify(x)+":null":(0,E.i)(Q)||(0,E.a)(Q)||(0,E.b)(Q)?C+=JSON.stringify(x)+":"+JSON.stringify(Q):Q instanceof he.Z||Q instanceof W.Z||Q instanceof Array?C+=JSON.stringify(x)+":"+(0,E.t)(Q):Q instanceof Date?C+=JSON.stringify(x)+":"+JSON.stringify(Q):null!==Q&&"object"==typeof Q&&void 0!==Q.castToText&&(C+=JSON.stringify(x)+":"+Q.castToText())}return'{"geometry":'+(null===this.geometry()?"null":(0,E.t)(this.geometry()))+',"attributes":{'+C+"}}"}_fixDates(){if(null!==this._datefields)return this._datefields.length>0&&this._fixDateFields(this._datefields),void(this._datesfixed=!0);const C=[];for(let x=0;x<this._layer.fields.length;x++){const Q=this._layer.fields[x];"date"!==Q.type&&"esriFieldTypeDate"!==Q.type||C.push(Q.name)}this._datefields=C,C.length>0&&this._fixDateFields(C),this._datesfixed=!0}_fixDateFields(C){this.attributes={...this.attributes};for(let x=0;x<C.length;x++){let Q=this.attributes[C[x]];if(null!==Q)if(void 0===Q){for(const N in this.attributes)if(N.toLowerCase()===C[x].toLowerCase()){Q=this.attributes[N],null!==Q&&(Q instanceof Date||(this.attributes[N]=new Date(Q)));break}}else Q instanceof Date||(this.attributes[C[x]]=new Date(Q))}}geometry(){return null===this._geometry||this._geometry instanceof he.Z||(this._optimizedGeomDefinition?(this._geometry=(0,D.Wg)((0,le.im)((0,T.di)(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=(0,D.Wg)((0,le.im)(this._geometry))),this._geometry}field(C){!1===this._datesfixed&&this._fixDates();const x=this.attributes[C];if(void 0!==x)return x;const Q=C.toLowerCase();for(const N in this.attributes)if(N.toLowerCase()===Q)return this.attributes[N];if(this._hasFieldDefinition(Q))return null;throw new Error("Field not Found : "+C)}_hasFieldDefinition(C){if(null===this._layer)return!1;for(let x=0;x<this._layer.fields.length;x++)if(this._layer.fields[x].name.toLowerCase()===C)return!0;return!1}setField(C,x){if(this.immutable)throw new Error("Feature is Immutable");if(!1===(0,E.e)(x))throw new Error("Illegal Value Assignment to Feature");const Q=C.toLowerCase();if(void 0===this.attributes[C]){for(const N in this.attributes)if(N.toLowerCase()===Q)return void(this.attributes[N]=x);this.attributes[C]=x}else this.attributes[C]=x}hasField(C){const x=C.toLowerCase();if(void 0!==this.attributes[C])return!0;for(const Q in this.attributes)if(Q.toLowerCase()===x)return!0;return!!this._hasFieldDefinition(x)}keys(){let C=[];const x={};for(const Q in this.attributes)C.push(Q),x[Q.toLowerCase()]=1;if(null!==this._layer)for(let Q=0;Q<this._layer.fields.length;Q++){const N=this._layer.fields[Q];1!==x[N.name.toLowerCase()]&&C.push(N.name)}return C=C.sort(),C}static parseGeometryFromDictionary(C){const x=S._convertDictionaryToJson(C,!0);return void 0!==x.hasm&&(x.hasM=x.hasm,delete x.hasm),void 0!==x.hasz&&(x.hasZ=x.hasz,delete x.hasz),void 0!==x.spatialreference&&(x.spatialReference=x.spatialreference,delete x.spatialreference),void 0!==x.rings&&(x.rings=this._fixPathArrays(x.rings,!0===x.hasZ,!0===x.hasZ)),void 0!==x.paths&&(x.paths=this._fixPathArrays(x.paths,!0===x.hasZ,!0===x.hasM)),void 0!==x.points&&(x.points=this._fixPointArrays(x.points,!0===x.hasZ,!0===x.hasM)),(0,le.im)(x)}static _fixPathArrays(C,x,Q){const N=[];if(C instanceof Array)for(let z=0;z<C.length;z++)N.push(this._fixPointArrays(C[z],x,Q));else if(C instanceof W.Z)for(let z=0;z<C.length();z++)N.push(this._fixPointArrays(C.get(z),x,Q));return N}static _fixPointArrays(C,x,Q){const N=[];if(C instanceof Array)for(let z=0;z<C.length;z++){const ie=C[z];N.push(ie instanceof oe.Z?x&&Q?[ie.x,ie.y,ie.z,ie.m]:x?[ie.x,ie.y,ie.z]:Q?[ie.x,ie.y,ie.m]:[ie.x,ie.y]:ie instanceof W.Z?ie.toArray():ie)}else if(C instanceof W.Z)for(let z=0;z<C.length();z++){const ie=C.get(z);N.push(ie instanceof oe.Z?x&&Q?[ie.x,ie.y,ie.z,ie.m]:x?[ie.x,ie.y,ie.z]:Q?[ie.x,ie.y,ie.m]:[ie.x,ie.y]:ie instanceof W.Z?ie.toArray():ie)}return N}static _convertDictionaryToJson(C,x=!1){const Q={};for(const N in C.attributes){let z=C.attributes[N];z instanceof me.Z&&(z=S._convertDictionaryToJson(z)),x?Q[N.toLowerCase()]=z:Q[N]=z}return Q}static parseAttributesFromDictionary(C){const x={};for(const Q in C.attributes){const N=C.attributes[Q];if(!(0,E.e)(N))throw new Error("Illegal Argument");x[Q]=N}return x}static fromJson(C){let x=null;null!=C.geometry&&(x=(0,le.im)(C.geometry));const Q={};if(null!=C.attributes)for(const N in C.attributes){const z=C.attributes[N];if(null===z)Q[N]=z;else{if(!((0,E.b)(z)||(0,E.a)(z)||(0,E.i)(z)||(0,E.j)(z)))throw new Error("Illegal Argument");Q[N]=z}}return S.createFromGraphicLikeObject(x,Q,null)}fullSchema(){return this._layer}gdbVersion(){if(null===this._layer)return"";const C=this._layer.gdbVersion;return void 0===C?"":""===C&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":C}castAsJson(C){const x={attributes:{},geometry:!0===C?.keepGeometryType?this.geometry():this.geometry().toJSON()};for(const Q in this.attributes){const N=this.attributes[Q];void 0!==N&&(x.attributes[Q]=(0,E.c)(N,C))}return x}castAsJsonAsync(C=null,x){var Q=this;return(0,G.Z)(function*(){return Q.castAsJson(x)})()}}},85692:(Re,Fe,ee)=>{ee.d(Fe,{AW:()=>W,Ay:()=>x,B9:()=>L,Es:()=>w,RI:()=>Z,_R:()=>oe,nB:()=>se,s9:()=>C,ws:()=>R});var G=ee(49672),me=ee(11519);function W(p,V,ne){return Math.sqrt((p[0]-V[0])**2+(p[1]-V[1])**2+(void 0!==p[2]&&void 0!==V[2]?(p[2]*ne-V[2]*ne)**2:0))}const E=[];for(const p of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const V=p[0];for(let ne=1;ne<p.length;ne++)E[p[ne]]=V}const he=[];function oe(p){return p.vcsWkid&&void 0!==E[p.vcsWkid]?he[E[p.vcsWkid]]:p.latestVcsWkid&&void 0!==E[p.latestVcsWkid]?he[E[p.latestVcsWkid]]:1}function le(p,V,ne){const te={x:0,y:0};V&&(te.z=0),ne&&(te.m=0);let ye=0,d=p[0];for(let I=0;I<p.length;I++){const g=p[I];if(!1===Y(g,d)){const _=S(d,g,V),J=T(d,g,V,ne);J.x*=_,J.y*=_,te.x+=J.x,te.y+=J.y,V&&(J.z*=_,te.z+=J.z),ne&&(J.m*=_,te.m+=J.m),ye+=_,d=g}}return ye>0?(te.x/=ye,te.y/=ye,V&&(te.z/=ye),ne&&(te.m/=ye)):(te.x=p[0][0],te.y=p[0][1],V&&(te.z=p[0][2]),ne&&V?te.m=p[0][3]:ne&&(te.m=p[0][2])),te}function T(p,V,ne,te){const ye={x:(p[0]+V[0])/2,y:(p[1]+V[1])/2};return ne&&(ye.z=(p[2]+V[2])/2),ne&&te?ye.m=(p[3]+V[3])/2:te&&(ye.m=(p[2]+V[2])/2),ye}function D(p,V){if(p.length<=1)return 0;let ne=0;for(let te=1;te<p.length;te++)ne+=S(p[te-1],p[te],V);return ne}function S(p,V,ne){const te=V[0]-p[0],ye=V[1]-p[1];if(ne){const d=V[2]-V[2];return Math.sqrt(te*te+ye*ye+d*d)}return Math.sqrt(te*te+ye*ye)}function Y(p,V){if(p.length!==V.length)return!1;for(let ne=0;ne<p.length;ne++)if(p[ne]!==V[ne])return!1;return!0}function C(p){const V={x:0,y:0,spatialReference:p.spatialReference.toJSON()},ne={x:0,y:0,spatialReference:p.spatialReference.toJSON()};let te=0,ye=0;for(let d=0;d<p.paths.length;d++){if(0===p.paths[d].length)continue;const I=D(p.paths[d],!0===p.hasZ);if(0===I){const g=le(p.paths[d],!0===p.hasZ,!0===p.hasM);V.x+=g.x,V.y+=g.y,!0===p.hasZ&&(V.z+=g.z),!0===p.hasM&&(V.m+=g.m),++te}else{const g=le(p.paths[d],!0===p.hasZ,!0===p.hasM);ne.x+=g.x*I,ne.y+=g.y*I,!0===p.hasZ&&(ne.z+=g.z*I),!0===p.hasM&&(ne.m+=g.m*I),ye+=I}}return ye>0?(ne.x/=ye,ne.y/=ye,!0===p.hasZ&&(ne.z/=ye),!0===p.hasM&&(ne.m/=ye),new G.Z(ne)):te>0?(V.x/=te,V.y/=te,!0===p.hasZ&&(ne.z/=te),!0===p.hasM&&(V.m/=te),new G.Z(V)):null}function x(p){if(0===p.points.length)return null;let V=0,ne=0,te=0,ye=0;for(let I=0;I<p.points.length;I++){const g=p.getPoint(I);!0===g.hasZ&&(te+=g.z),!0===g.hasM&&(ye+=g.m),V+=g.x,ne+=g.y,ye+=g.m}const d={x:V/p.points.length,y:ne/p.points.length,spatialReference:null};return d.spatialReference=p.spatialReference.toJSON(),!0===p.hasZ&&(d.z=te/p.points.length),!0===p.hasM&&(d.m=ye/p.points.length),new G.Z(d)}function z(p,V,ne=0){for(;p<ne;)p+=V;const te=ne+V;for(;p>=te;)p-=V;return p}function ie(p,V){return Math.atan2(V.y-p.y,V.x-p.x)}function Z(p,V){return z(ie(p,V),2*Math.PI)*(180/Math.PI)}function L(p,V){return z(Math.PI/2-ie(p,V),2*Math.PI)*(180/Math.PI)}function $(p,V,ne){const te={x:p.x-V.x,y:p.y-V.y},ye={x:ne.x-V.x,y:ne.y-V.y};return Math.atan2(function N(p,V){return p.x*V.y-V.x*p.y}(te,ye),function Q(p,V){return p.x*V.x+p.y*V.y}(te,ye))}function R(p,V,ne){return z($(p,V,ne),2*Math.PI)*(180/Math.PI)}function w(p,V,ne){return z(-1*$(p,V,ne),2*Math.PI)*(180/Math.PI)}he[9002]=.3048,he[9003]=.3048006096012192,he[9095]=.3048007491;const X=[0,0];function se(p){for(let V=0;V<p.length;V++){const ne=p[V];for(let ye=0;ye<ne.length-1;ye++){const d=ne[ye],I=ne[ye+1];for(let g=V+1;g<p.length;g++)for(let _=0;_<p[g].length-1;_++){const J=p[g][_],ue=p[g][_+1];if((0,me.UT)(d,I,J,ue,X)&&!(X[0]===d[0]&&X[1]===d[1]||X[0]===J[0]&&X[1]===J[1]||X[0]===I[0]&&X[1]===I[1]||X[0]===ue[0]&&X[1]===ue[1]))return!0}}const te=ne.length;if(!(te<3))for(let ye=0;ye<=te-2;ye++){const d=ne[ye],I=ne[ye+1];for(let g=ye+2;g<=te-2;g++){const _=ne[g],J=ne[g+1];if((0,me.UT)(d,I,_,J,X)&&!(X[0]===d[0]&&X[1]===d[1]||X[0]===_[0]&&X[1]===_[1]||X[0]===I[0]&&X[1]===I[1]||X[0]===J[0]&&X[1]===J[1]))return!0}}}return!1}},84228:(Re,Fe,ee)=>{ee.d(Fe,{r:()=>C});var G=ee(47562),me=ee(56683),W=ee(27122);function E(x){const Q=new Date(x.getTime()),N=Q.getFullYear(),z=new Date(0);z.setFullYear(N+1,0,4),z.setHours(0,0,0,0);const ie=he(z),Z=new Date(0);Z.setFullYear(N,0,4),Z.setHours(0,0,0,0);const L=he(Z);return Q.getTime()>=ie.getTime()?N+1:Q.getTime()>=L.getTime()?N:N-1}function he(x){const N=new Date(x.getTime()),z=N.getDay(),ie=(z<1?7:0)+z-1;return N.setDate(N.getDate()-ie),N.setHours(0,0,0,0),N}const D=[0,31,59,90,120,151,181,212,243,273,304,334],S=[0,31,60,91,121,152,182,213,244,274,305,335];function Y(x){return null===x?x:isNaN(x.getTime())?null:x}function C(x,Q){x.today=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,0,0);const $=new Date;return $.setHours(0,0,0,0),$})},x.now=function(N,z){return Q(N,z,function(ie,Z,L){return(0,G.p)(L,0,0),new Date})},x.timestamp=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,0,0);let $=new Date;return $=new Date($.getUTCFullYear(),$.getUTCMonth(),$.getUTCDate(),$.getUTCHours(),$.getUTCMinutes(),$.getUTCSeconds(),$.getUTCMilliseconds()),$})},x.toutc=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?null:new Date($.getUTCFullYear(),$.getUTCMonth(),$.getUTCDate(),$.getUTCHours(),$.getUTCMinutes(),$.getUTCSeconds(),$.getUTCMilliseconds())})},x.tolocal=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?null:W.ou.utc($.getFullYear(),$.getMonth()+1,$.getDate(),$.getHours(),$.getMinutes(),$.getSeconds(),$.getMilliseconds()).toJSDate()})},x.day=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getDate()})},x.month=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getMonth()})},x.year=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getFullYear()})},x.hour=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getHours()})},x.second=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getSeconds()})},x.millisecond=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getMilliseconds()})},x.minute=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getMinutes()})},x.week=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,2);const $=(0,G.k)(L[0]);if(null===$)return NaN;const R=(0,G.f)((0,G.C)(L[1],0));if(R<0||R>6)throw new Error("Invalid Parameter");const w=$.getDate(),X=$.getMonth(),se=$.getFullYear(),p=$.getDay(),V=function le(x,Q,N){return x+(function T(x){return x%4==0&&(x%100!=0||x%400==0)}(N)?S:D)[Q]}(w,X,se)-1,ne=Math.floor(V/7);return p-R+(p-R<0?7:0)<V-7*ne?ne+1:ne})},x.weekday=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getDay()})},x.isoweekday=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);if(null===$)return NaN;let R=$.getDay();return 0===R&&(R=7),R})},x.isomonth=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:$.getMonth()+1})},x.isoweek=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);if(null===$)return NaN;const R=he($).getTime()-function oe(x){const Q=E(x),N=new Date(0);return N.setFullYear(Q,0,4),N.setHours(0,0,0,0),he(N)}($).getTime();return Math.round(R/6048e5)+1})},x.isoyear=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,1,1);const $=(0,G.k)(L[0]);return null===$?NaN:E($)})},x.date=function(N,z){return Q(N,z,function(ie,Z,L){if((0,G.p)(L,0,7),3===L.length)return Y(new Date((0,G.f)(L[0]),(0,G.f)(L[1]),(0,G.f)(L[2]),0,0,0,0));if(4===L.length)return Y(new Date((0,G.f)(L[0]),(0,G.f)(L[1]),(0,G.f)(L[2]),(0,G.f)(L[3]),0,0,0));if(5===L.length)return Y(new Date((0,G.f)(L[0]),(0,G.f)(L[1]),(0,G.f)(L[2]),(0,G.f)(L[3]),(0,G.f)(L[4]),0,0));if(6===L.length)return Y(new Date((0,G.f)(L[0]),(0,G.f)(L[1]),(0,G.f)(L[2]),(0,G.f)(L[3]),(0,G.f)(L[4]),(0,G.f)(L[5]),0));if(7===L.length)return Y(new Date((0,G.f)(L[0]),(0,G.f)(L[1]),(0,G.f)(L[2]),(0,G.f)(L[3]),(0,G.f)(L[4]),(0,G.f)(L[5]),(0,G.f)(L[6])));if(2===L.length){let $,R=(0,G.h)(L[1]);return""===R?null:(R=(0,G.D)(R),$="X"===R?W.ou.fromSeconds((0,G.f)(L[0])):"x"===R?W.ou.fromMillis((0,G.f)(L[0])):W.ou.fromFormat((0,G.h)(L[0]),R,{locale:(0,me.Kd)(),numberingSystem:"latn"}),$.isValid?$.toJSDate():null)}if(1===L.length){if((0,G.b)(L[0])){if(""===L[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(L[0]))return(0,G.k)(L[0]+"-01-01")}const $=(0,G.f)(L[0]);return!1===isNaN($)?Y(new Date($)):(0,G.k)(L[0])}return 0===L.length?new Date:void 0})},x.datediff=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,2,3);const $=(0,G.E)(L[0]),R=(0,G.E)(L[1]);if(null===$||null===R)return NaN;switch((0,G.h)(L[2]).toLowerCase()){case"days":case"day":case"d":return $.diff(R,"days").days;case"months":case"month":return $.diff(R,"months").months;case"minutes":case"minute":case"m":return"M"===L[2]?$.diff(R,"months").months:$.diff(R,"minutes").minutes;case"seconds":case"second":case"s":return $.diff(R,"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return $.diff(R).milliseconds;case"hours":case"hour":case"h":return $.diff(R,"hours").hours;case"years":case"year":case"y":return $.diff(R,"years").years}})},x.dateadd=function(N,z){return Q(N,z,function(ie,Z,L){(0,G.p)(L,2,3);const $=(0,G.E)(L[0]);if(null===$)return null;let R=(0,G.f)(L[1]);if(isNaN(R))return $.toJSDate();let w="milliseconds";switch((0,G.h)(L[2]).toLowerCase()){case"days":case"day":case"d":w="days",R=(0,G.F)(R);break;case"months":case"month":w="months",R=(0,G.F)(R);break;case"minutes":case"minute":case"m":w="M"===L[2]?"months":"minutes";break;case"seconds":case"second":case"s":w="seconds";break;case"milliseconds":case"millisecond":case"ms":w="milliseconds";break;case"hours":case"hour":case"h":w="hours";break;case"years":case"year":case"y":w="years"}return $.plus({[w]:R}).toJSDate()})}}},50818:(Re,Fe,ee)=>{ee.d(Fe,{t:()=>le});var G=ee(47562);function me(T){let D=0;for(let S=0;S<T.length;S++)D+=T[S];return D/T.length}function W(T){const D=me(T);let S=0;for(let Y=0;Y<T.length;Y++)S+=(D-T[Y])**2;return S/T.length}function le(T,D,S=1e3){switch(T.toLowerCase()){case"distinct":return function he(T,D){const S=[],Y={},C=[];for(let x=0;x<T.length;x++){if(null!=T[x]&&T[x]!==G.v){const Q=T[x];if((0,G.a)(Q)||(0,G.b)(Q))void 0===Y[Q]&&(S.push(Q),Y[Q]=1);else{let N=!1;for(let z=0;z<C.length;z++)!0===(0,G.m)(C[z],Q)&&(N=!0);!1===N&&(C.push(Q),S.push(Q))}}if(S.length>=D&&-1!==D)return S}return S}(D,S);case"avg":case"mean":return me((0,G.W)(D));case"min":return Math.min.apply(Math,(0,G.W)(D));case"sum":return function E(T){let D=0;for(let S=0;S<T.length;S++)D+=T[S];return D}((0,G.W)(D));case"max":return Math.max.apply(Math,(0,G.W)(D));case"stdev":case"stddev":return Math.sqrt(W((0,G.W)(D)));case"var":case"variance":return W((0,G.W)(D));case"count":return D.length}return 0}},24499:(Re,Fe,ee)=>{ee.d(Fe,{r:()=>N});var G=ee(6729),me=ee(42275),W=ee(26685),E=ee(47562),he=ee(2004),oe=ee(21674),le=ee(72854),T=ee(49672),D=ee(37118),S=ee(55214),Y=ee(85692),C=ee(91179),x=ee(25748);function Q(z){return z&&"esri.arcade.Feature"===z.arcadeDeclaredClass}function N(z,ie){z.ringisclockwise=function(Z,L){return ie(Z,L,function($,R,w){(0,E.p)(w,1,1);let X=[],se=!1,p=!1;if(null===w[0])return!1;if((0,E.l)(w[0])){for(const V of w[0]){if(!(V instanceof T.Z))throw new Error("Invalid Argument");X.push(V.hasZ?V.hasM?[V.x,V.y,V.z,V.m]:[V.x,V.y,V.z]:[V.x,V.y])}X.length>0&&(se=w[0][0].hasZ,p=w[0][0].hasM)}else if(w[0]instanceof W.Z)X=w[0]._elements,X.length>0&&(se=w[0]._hasZ,p=w[0]._hasM);else{if(!(0,E.n)(w[0]))throw new Error("Invalid Argument");for(const V of w[0].toArray()){if(!(V instanceof T.Z))throw new Error("Invalid Argument");X.push(V.hasZ?V.hasM?[V.x,V.y,V.z,V.m]:[V.x,V.y,V.z]:[V.x,V.y])}X.length>0&&(se=w[0].get(0).hasZ,p=w[0].get(0).hasM)}return!(X.length<3)&&(0,x.bu)(X,p,se)})},z.polygon=function(Z,L){return ie(Z,L,function($,R,w){(0,E.p)(w,1,1);let X=null;if(w[0]instanceof G.Z){if(X=(0,E.A)(me.Z.parseGeometryFromDictionary(w[0]),Z.spatialReference),!(X instanceof D.Z))throw new Error("Illegal Parameter")}else X=w[0]instanceof D.Z?(0,C.im)(w[0].toJSON()):(0,E.A)(new D.Z(JSON.parse(w[0])),Z.spatialReference);if(null!==X&&!1===X.spatialReference.equals(Z.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,E.G)(X)})},z.polyline=function(Z,L){return ie(Z,L,function($,R,w){(0,E.p)(w,1,1);let X=null;if(w[0]instanceof G.Z){if(X=(0,E.A)(me.Z.parseGeometryFromDictionary(w[0]),Z.spatialReference),!(X instanceof S.Z))throw new Error("Illegal Parameter")}else X=w[0]instanceof S.Z?(0,C.im)(w[0].toJSON()):(0,E.A)(new S.Z(JSON.parse(w[0])),Z.spatialReference);if(null!==X&&!1===X.spatialReference.equals(Z.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,E.G)(X)})},z.point=function(Z,L){return ie(Z,L,function($,R,w){(0,E.p)(w,1,1);let X=null;if(w[0]instanceof G.Z){if(X=(0,E.A)(me.Z.parseGeometryFromDictionary(w[0]),Z.spatialReference),!(X instanceof T.Z))throw new Error("Illegal Parameter")}else X=w[0]instanceof T.Z?(0,C.im)(w[0].toJSON()):(0,E.A)(new T.Z(JSON.parse(w[0])),Z.spatialReference);if(null!==X&&!1===X.spatialReference.equals(Z.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,E.G)(X)})},z.multipoint=function(Z,L){return ie(Z,L,function($,R,w){(0,E.p)(w,1,1);let X=null;if(w[0]instanceof G.Z){if(X=(0,E.A)(me.Z.parseGeometryFromDictionary(w[0]),Z.spatialReference),!(X instanceof le.Z))throw new Error("Illegal Parameter")}else X=w[0]instanceof le.Z?(0,C.im)(w[0].toJSON()):(0,E.A)(new le.Z(JSON.parse(w[0])),Z.spatialReference);if(null!==X&&!1===X.spatialReference.equals(Z.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,E.G)(X)})},z.extent=function(Z,L){return ie(Z,L,function($,R,w){w=(0,E.H)(w),(0,E.p)(w,1,1);let X=null;if(w[0]instanceof G.Z)X=(0,E.A)(me.Z.parseGeometryFromDictionary(w[0]),Z.spatialReference);else if(w[0]instanceof T.Z){const se={xmin:w[0].x,ymin:w[0].y,xmax:w[0].x,ymax:w[0].y,spatialReference:w[0].spatialReference.toJSON()},p=w[0];p.hasZ?(se.zmin=p.z,se.zmax=p.z):p.hasM&&(se.mmin=p.m,se.mmax=p.m),X=(0,C.im)(se)}else X=w[0]instanceof D.Z||w[0]instanceof S.Z||w[0]instanceof le.Z?(0,C.im)(w[0].extent.toJSON()):w[0]instanceof he.Z?(0,C.im)(w[0].toJSON()):(0,E.A)(new he.Z(JSON.parse(w[0])),Z.spatialReference);if(null!==X&&!1===X.spatialReference.equals(Z.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,E.G)(X)})},z.geometry=function(Z,L){return ie(Z,L,function($,R,w){(0,E.p)(w,1,1);let X=null;if(null===w[0])return null;if(X=Q(w[0])?(0,E.A)(w[0].geometry(),Z.spatialReference):(0,E.A)(w[0]instanceof G.Z?me.Z.parseGeometryFromDictionary(w[0]):(0,C.im)(JSON.parse(w[0])),Z.spatialReference),null!==X&&!1===X.spatialReference.equals(Z.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,E.G)(X)})},z.setgeometry=function(Z,L){return ie(Z,L,function($,R,w){if((0,E.p)(w,2,2),!Q(w[0]))throw new Error("Illegal Argument");if(!0===w[0].immutable)throw new Error("Feature is Immutable");if(!(w[1]instanceof oe.Z||null===w[1]))throw new Error("Illegal Argument");return w[0]._geometry=w[1],E.v})},z.feature=function(Z,L){return ie(Z,L,function($,R,w){if(0===w.length)throw new Error("Missing Parameters");let X=null;if(1===w.length)if((0,E.b)(w[0]))X=me.Z.fromJson(JSON.parse(w[0]));else if(Q(w[0]))X=me.Z.createFromArcadeFeature(w[0]);else if(w[0]instanceof oe.Z)X=me.Z.createFromGraphicLikeObject(w[0],null,null);else{if(!(w[0]instanceof G.Z))throw new Error("Illegal Argument");{let se=w[0].hasField("geometry")?w[0].field("geometry"):null,p=w[0].hasField("attributes")?w[0].field("attributes"):null;null!==se&&se instanceof G.Z&&(se=me.Z.parseGeometryFromDictionary(se)),null!==p&&(p=me.Z.parseAttributesFromDictionary(p)),X=me.Z.createFromGraphicLikeObject(se,p,null)}}else if(2===w.length){let se=null,p=null;if(null!==w[0])if(w[0]instanceof oe.Z)se=w[0];else{if(!(se instanceof G.Z))throw new Error("Illegal Argument");se=me.Z.parseGeometryFromDictionary(w[0])}if(null!==w[1]){if(!(w[1]instanceof G.Z))throw new Error("Illegal Argument");p=me.Z.parseAttributesFromDictionary(w[1])}X=me.Z.createFromGraphicLikeObject(se,p,null)}else{let se=null;const p={};if(null!==w[0])if(w[0]instanceof oe.Z)se=w[0];else{if(!(se instanceof G.Z))throw new Error("Illegal Argument");se=me.Z.parseGeometryFromDictionary(w[0])}for(let V=1;V<w.length;V+=2){const ne=(0,E.h)(w[V]),te=w[V+1];if(!(null==te||(0,E.b)(te)||isNaN(te)||(0,E.j)(te)||(0,E.a)(te)||(0,E.i)(te)))throw new Error("Illegal Argument");if((0,E.o)(te)||!1===(0,E.e)(te))throw new Error("Illegal Argument");p[ne]=te===E.v?null:te}X=me.Z.createFromGraphicLikeObject(se,p,null)}return X._geometry=(0,E.A)(X.geometry(),Z.spatialReference),X.immutable=!1,X})},z.dictionary=function(Z,L){return ie(Z,L,function($,R,w){if(0===w.length){const p=new G.Z;return p.immutable=!1,p}if(1===w.length&&(0,E.b)(w[0]))try{const p=JSON.parse(w[0]),V=G.Z.convertObjectToArcadeDictionary(p,!1);return V.immutable=!1,V}catch{throw new Error("Missing Parameters or Illegal Json")}if(w.length%2!=0)throw new Error("Missing Parameters");const X={};for(let p=0;p<w.length;p+=2){const V=(0,E.h)(w[p]),ne=w[p+1];if(!(null==ne||(0,E.b)(ne)||isNaN(ne)||(0,E.j)(ne)||(0,E.a)(ne)||(0,E.i)(ne)||(0,E.l)(ne)||(0,E.n)(ne)))throw new Error("Illegal Argument");if((0,E.o)(ne))throw new Error("Illegal Argument");X[V]=ne===E.v?null:ne}const se=new G.Z(X);return se.immutable=!1,se})},z.haskey=function(Z,L){return ie(Z,L,function($,R,w){(0,E.p)(w,2,2);const X=(0,E.h)(w[1]);if(Q(w[0])||w[0]instanceof G.Z)return w[0].hasField(X);throw new Error("Illegal Argument")})},z.indexof=function(Z,L){return ie(Z,L,function($,R,w){(0,E.p)(w,2,2);const X=w[1];if((0,E.l)(w[0])){for(let se=0;se<w[0].length;se++)if((0,E.m)(X,w[0][se]))return se;return-1}if((0,E.n)(w[0])){const se=w[0].length();for(let p=0;p<se;p++)if((0,E.m)(X,w[0].get(p)))return p;return-1}throw new Error("Illegal Argument")})},z.angle=function(Z,L){return ie(Z,L,function($,R,w){if(w=(0,E.H)(w),(0,E.p)(w,2,3),!(w[0]instanceof T.Z))throw new Error("Illegal Argument");if(!(w[1]instanceof T.Z))throw new Error("Illegal Argument");if(w.length>2&&!(w[2]instanceof T.Z))throw new Error("Illegal Argument");return 2===w.length?(0,Y.RI)(w[0],w[1]):(0,Y.ws)(w[0],w[1],w[2])})},z.bearing=function(Z,L){return ie(Z,L,function($,R,w){if(w=(0,E.H)(w),(0,E.p)(w,2,3),!(w[0]instanceof T.Z))throw new Error("Illegal Argument");if(!(w[1]instanceof T.Z))throw new Error("Illegal Argument");if(w.length>2&&!(w[2]instanceof T.Z))throw new Error("Illegal Argument");return 2===w.length?(0,Y.B9)(w[0],w[1]):(0,Y.Es)(w[0],w[1],w[2])})},z.isselfintersecting=function(Z,L){return ie(Z,L,function($,R,w){w=(0,E.H)(w),(0,E.p)(w,1,1);let X=w[0];if(X instanceof D.Z)return X.isSelfIntersecting;if(X instanceof S.Z)return X=X.paths,(0,Y.nB)(X);if(X instanceof le.Z){const se=X.points;for(let p=0;p<se.length;p++)for(let V=0;V<se.length;V++)if(V!==p){let ne=!0;for(let te=0;te<se[p].length;te++)if(se[p][te]!==se[V][te]){ne=!1;break}if(!0===ne)return!0}}return!(!(0,E.l)(X)&&!(0,E.n)(X))&&(X=(0,E.J)(X,Z.spatialReference),null!==X&&(X=X.paths),(0,Y.nB)(X))})}}},63461:(Re,Fe,ee)=>{ee.r(Fe),ee.d(Fe,{registerFunctions:()=>ie,setGeometryEngine:()=>N});var G=ee(24263),me=ee(27187),W=ee(47562),E=ee(85692),he=ee(2004),oe=ee(21674),le=ee(72854),T=ee(49672),D=ee(37118),S=ee(55214),Y=ee(91179),C=ee(16730);let x=null;function Q(Z){return 0===G.i8.indexOf("4.")?D.Z.fromExtent(Z):new D.Z({spatialReference:Z.spatialReference,rings:[[[Z.xmin,Z.ymin],[Z.xmin,Z.ymax],[Z.xmax,Z.ymax],[Z.xmax,Z.ymin],[Z.xmin,Z.ymin]]]})}function N(Z){x=Z}function z(Z,L){if("polygon"!==Z.type&&"polyline"!==Z.type&&"extent"!==Z.type)return 0;let $=1;(Z.spatialReference.vcsWkid||Z.spatialReference.latestVcsWkid)&&($=(0,E._R)(Z.spatialReference)/(0,C.c9)(Z.spatialReference));let R=0;if("polyline"===Z.type)for(const X of Z.paths)for(let se=1;se<X.length;se++)R+=(0,E.AW)(X[se],X[se-1],$);else if("polygon"===Z.type)for(const X of Z.rings){for(let se=1;se<X.length;se++)R+=(0,E.AW)(X[se],X[se-1],$);(X[0][0]!==X[X.length-1][0]||X[0][1]!==X[X.length-1][1]||void 0!==X[0][2]&&X[0][2]!==X[X.length-1][2])&&(R+=(0,E.AW)(X[0],X[X.length-1],$))}else"extent"===Z.type&&(R+=2*(0,E.AW)([Z.xmin,Z.ymin,0],[Z.xmax,Z.ymin,0],$),R+=2*(0,E.AW)([Z.xmin,Z.ymin,0],[Z.xmin,Z.ymax,0],$),R*=2,R+=4*Math.abs((0,W.C)(Z.zmax,0)*$-(0,W.C)(Z.zmin,0)*$));const w=new S.Z({hasZ:!1,hasM:!1,spatialReference:Z.spatialReference,paths:[[0,0],[0,R]]});return x.planarLength(w,L)}function ie(Z,L){function $(R){if((0,W.p)(R,2,2),!(R[0]instanceof oe.Z&&R[1]instanceof oe.Z||R[0]instanceof oe.Z&&null===R[1]||R[1]instanceof oe.Z&&null===R[0]||null===R[0]&&null===R[1]))throw new Error("Illegal Argument")}Z.disjoint=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null===p[0]||null===p[1]||x.disjoint(p[0],p[1])})},Z.intersects=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null!==p[0]&&null!==p[1]&&x.intersects(p[0],p[1])})},Z.touches=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null!==p[0]&&null!==p[1]&&x.touches(p[0],p[1])})},Z.crosses=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null!==p[0]&&null!==p[1]&&x.crosses(p[0],p[1])})},Z.within=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null!==p[0]&&null!==p[1]&&x.within(p[0],p[1])})},Z.contains=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null!==p[0]&&null!==p[1]&&x.contains(p[0],p[1])})},Z.overlaps=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null!==p[0]&&null!==p[1]&&x.overlaps(p[0],p[1])})},Z.equals=function(R,w){return L(R,w,function(X,se,p){return(0,W.p)(p,2,2),p[0]===p[1]||(p[0]instanceof oe.Z&&p[1]instanceof oe.Z?x.equals(p[0],p[1]):!(!(0,W.j)(p[0])||!(0,W.j)(p[1]))&&p[0].getTime()===p[1].getTime())})},Z.relate=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,3,3),p[0]instanceof oe.Z&&p[1]instanceof oe.Z)return x.relate(p[0],p[1],(0,W.h)(p[2]));if(p[0]instanceof oe.Z&&null===p[1]||p[1]instanceof oe.Z&&null===p[0]||null===p[0]&&null===p[1])return!1;throw new Error("Illegal Argument")})},Z.intersection=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null===p[0]||null===p[1]?null:x.intersect(p[0],p[1])})},Z.union=function(R,w){return L(R,w,function(X,se,p){const V=[];if(0===(p=(0,W.H)(p)).length)throw new Error("Function called with wrong number of Parameters");if(1===p.length)if((0,W.l)(p[0])){const ne=(0,W.H)(p[0]);for(let te=0;te<ne.length;te++)if(null!==ne[te]){if(!(ne[te]instanceof oe.Z))throw new Error("Illegal Argument");V.push(ne[te])}}else{if(!(0,W.n)(p[0])){if(p[0]instanceof oe.Z)return(0,W.A)((0,me.r1)(p[0]),R.spatialReference);if(null===p[0])return null;throw new Error("Illegal Argument")}{const ne=(0,W.H)(p[0].toArray());for(let te=0;te<ne.length;te++)if(null!==ne[te]){if(!(ne[te]instanceof oe.Z))throw new Error("Illegal Argument");V.push(ne[te])}}}else for(let ne=0;ne<p.length;ne++)if(null!==p[ne]){if(!(p[ne]instanceof oe.Z))throw new Error("Illegal Argument");V.push(p[ne])}return 0===V.length?null:x.union(V)})},Z.difference=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null!==p[0]&&null===p[1]?(0,me.r1)(p[0]):null===p[0]?null:x.difference(p[0],p[1])})},Z.symmetricdifference=function(R,w){return L(R,w,function(X,se,p){return $(p=(0,W.H)(p)),null===p[0]&&null===p[1]?null:null===p[0]?(0,me.r1)(p[1]):null===p[1]?(0,me.r1)(p[0]):x.symmetricDifference(p[0],p[1])})},Z.clip=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,2,2),!(p[1]instanceof he.Z)&&null!==p[1])throw new Error("Illegal Argument");if(null===p[0])return null;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return null===p[1]?null:x.clip(p[0],p[1])})},Z.cut=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,2,2),!(p[1]instanceof S.Z)&&null!==p[1])throw new Error("Illegal Argument");if(null===p[0])return[];if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return null===p[1]?[(0,me.r1)(p[0])]:x.cut(p[0],p[1])})},Z.area=function(R,w){return L(R,w,function(X,se,p){if((0,W.p)(p,1,2),null===(p=(0,W.H)(p))[0])return 0;if((0,W.l)(p[0])||(0,W.n)(p[0])){const V=(0,W.K)(p[0],R.spatialReference);return null===V?0:x.planarArea(V,(0,me.EI)((0,W.C)(p[1],-1)))}if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return x.planarArea(p[0],(0,me.EI)((0,W.C)(p[1],-1)))})},Z.areageodetic=function(R,w){return L(R,w,function(X,se,p){if((0,W.p)(p,1,2),null===(p=(0,W.H)(p))[0])return 0;if((0,W.l)(p[0])||(0,W.n)(p[0])){const V=(0,W.K)(p[0],R.spatialReference);return null===V?0:x.geodesicArea(V,(0,me.EI)((0,W.C)(p[1],-1)))}if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return x.geodesicArea(p[0],(0,me.EI)((0,W.C)(p[1],-1)))})},Z.length=function(R,w){return L(R,w,function(X,se,p){if((0,W.p)(p,1,2),null===(p=(0,W.H)(p))[0])return 0;if((0,W.l)(p[0])||(0,W.n)(p[0])){const V=(0,W.J)(p[0],R.spatialReference);return null===V?0:x.planarLength(V,(0,me.Lz)((0,W.C)(p[1],-1)))}if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return x.planarLength(p[0],(0,me.Lz)((0,W.C)(p[1],-1)))})},Z.length3d=function(R,w){return L(R,w,function(X,se,p){if((0,W.p)(p,1,2),null===(p=(0,W.H)(p))[0])return 0;if((0,W.l)(p[0])||(0,W.n)(p[0])){const V=(0,W.J)(p[0],R.spatialReference);return null===V?0:!0===V.hasZ?z(V,(0,me.Lz)((0,W.C)(p[1],-1))):x.planarLength(V,(0,me.Lz)((0,W.C)(p[1],-1)))}if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return!0===p[0].hasZ?z(p[0],(0,me.Lz)((0,W.C)(p[1],-1))):x.planarLength(p[0],(0,me.Lz)((0,W.C)(p[1],-1)))})},Z.lengthgeodetic=function(R,w){return L(R,w,function(X,se,p){if((0,W.p)(p,1,2),null===(p=(0,W.H)(p))[0])return 0;if((0,W.l)(p[0])||(0,W.n)(p[0])){const V=(0,W.J)(p[0],R.spatialReference);return null===V?0:x.geodesicLength(V,(0,me.Lz)((0,W.C)(p[1],-1)))}if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return x.geodesicLength(p[0],(0,me.Lz)((0,W.C)(p[1],-1)))})},Z.distance=function(R,w){return L(R,w,function(X,se,p){p=(0,W.H)(p),(0,W.p)(p,2,3);let V=p[0];((0,W.l)(p[0])||(0,W.n)(p[0]))&&(V=(0,W.L)(p[0],R.spatialReference));let ne=p[1];if(((0,W.l)(p[1])||(0,W.n)(p[1]))&&(ne=(0,W.L)(p[1],R.spatialReference)),!(V instanceof oe.Z))throw new Error("Illegal Argument");if(!(ne instanceof oe.Z))throw new Error("Illegal Argument");return x.distance(V,ne,(0,me.Lz)((0,W.C)(p[2],-1)))})},Z.distancegeodetic=function(R,w){return L(R,w,function(X,se,p){p=(0,W.H)(p),(0,W.p)(p,2,3);const V=p[0],ne=p[1];if(!(V instanceof T.Z))throw new Error("Illegal Argument");if(!(ne instanceof T.Z))throw new Error("Illegal Argument");const te=new S.Z({paths:[],spatialReference:V.spatialReference});return te.addPath([V,ne]),x.geodesicLength(te,(0,me.Lz)((0,W.C)(p[2],-1)))})},Z.densify=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,2,3),null===p[0])return null;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");const V=(0,W.f)(p[1]);if(isNaN(V))throw new Error("Illegal Argument");if(V<=0)throw new Error("Illegal Argument");return p[0]instanceof D.Z||p[0]instanceof S.Z?x.densify(p[0],V,(0,me.Lz)((0,W.C)(p[2],-1))):p[0]instanceof he.Z?x.densify(Q(p[0]),V,(0,me.Lz)((0,W.C)(p[2],-1))):p[0]})},Z.densifygeodetic=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,2,3),null===p[0])return null;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");const V=(0,W.f)(p[1]);if(isNaN(V))throw new Error("Illegal Argument");if(V<=0)throw new Error("Illegal Argument");return p[0]instanceof D.Z||p[0]instanceof S.Z?x.geodesicDensify(p[0],V,(0,me.Lz)((0,W.C)(p[2],-1))):p[0]instanceof he.Z?x.geodesicDensify(Q(p[0]),V,(0,me.Lz)((0,W.C)(p[2],-1))):p[0]})},Z.generalize=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,2,4),null===p[0])return null;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");const V=(0,W.f)(p[1]);if(isNaN(V))throw new Error("Illegal Argument");return x.generalize(p[0],V,(0,W.g)((0,W.C)(p[2],!0)),(0,me.Lz)((0,W.C)(p[3],-1)))})},Z.buffer=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,2,3),null===p[0])return null;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");const V=(0,W.f)(p[1]);if(isNaN(V))throw new Error("Illegal Argument");return 0===V?(0,me.r1)(p[0]):x.buffer(p[0],V,(0,me.Lz)((0,W.C)(p[2],-1)))})},Z.buffergeodetic=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,2,3),null===p[0])return null;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");const V=(0,W.f)(p[1]);if(isNaN(V))throw new Error("Illegal Argument");return 0===V?(0,me.r1)(p[0]):x.geodesicBuffer(p[0],V,(0,me.Lz)((0,W.C)(p[2],-1)))})},Z.offset=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,2,6),null===p[0])return null;if(!(p[0]instanceof D.Z||p[0]instanceof S.Z))throw new Error("Illegal Argument");const V=(0,W.f)(p[1]);if(isNaN(V))throw new Error("Illegal Argument");const ne=(0,W.f)((0,W.C)(p[4],10));if(isNaN(ne))throw new Error("Illegal Argument");const te=(0,W.f)((0,W.C)(p[5],0));if(isNaN(te))throw new Error("Illegal Argument");return x.offset(p[0],V,(0,me.Lz)((0,W.C)(p[2],-1)),(0,W.h)((0,W.C)(p[3],"round")).toLowerCase(),ne,te)})},Z.rotate=function(R,w){return L(R,w,function(X,se,p){p=(0,W.H)(p),(0,W.p)(p,2,3);let V=p[0];if(null===V)return null;if(!(V instanceof oe.Z))throw new Error("Illegal Argument");V instanceof he.Z&&(V=D.Z.fromExtent(V));const ne=(0,W.f)(p[1]);if(isNaN(ne))throw new Error("Illegal Argument");const te=(0,W.C)(p[2],null);if(null===te)return x.rotate(V,ne);if(te instanceof T.Z)return x.rotate(V,ne,te);throw new Error("Illegal Argument")})},Z.centroid=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,1,1),null===p[0])return null;let V=p[0];if(((0,W.l)(p[0])||(0,W.n)(p[0]))&&(V=(0,W.L)(p[0],R.spatialReference)),null===V)return null;if(!(V instanceof oe.Z))throw new Error("Illegal Argument");return V instanceof T.Z?(0,W.A)((0,me.r1)(p[0]),R.spatialReference):V instanceof D.Z?V.centroid:V instanceof S.Z?(0,E.s9)(V):V instanceof le.Z?(0,E.Ay)(V):V instanceof he.Z?V.center:null})},Z.multiparttosinglepart=function(R,w){return L(R,w,function(X,se,p){p=(0,W.H)(p),(0,W.p)(p,1,1);const V=[];if(null===p[0])return null;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");if(p[0]instanceof T.Z)return[(0,W.A)((0,me.r1)(p[0]),R.spatialReference)];if(p[0]instanceof he.Z)return[(0,W.A)((0,me.r1)(p[0]),R.spatialReference)];const ne=x.simplify(p[0]);if(ne instanceof D.Z){const te=[],ye=[];for(let d=0;d<ne.rings.length;d++)if(ne.isClockwise(ne.rings[d])){const I=(0,Y.im)({rings:[ne.rings[d]],hasZ:!0===ne.hasZ,hasM:!0===ne.hasM,spatialReference:ne.spatialReference.toJSON()});te.push(I)}else ye.push({ring:ne.rings[d],pt:ne.getPoint(d,0)});for(let d=0;d<ye.length;d++)for(let I=0;I<te.length;I++)if(te[I].contains(ye[d].pt)){te[I].addRing(ye[d].ring);break}return te}if(ne instanceof S.Z){const te=[];for(let ye=0;ye<ne.paths.length;ye++){const d=(0,Y.im)({paths:[ne.paths[ye]],hasZ:!0===ne.hasZ,hasM:!0===ne.hasM,spatialReference:ne.spatialReference.toJSON()});te.push(d)}return te}if(p[0]instanceof le.Z){const te=(0,W.A)((0,me.r1)(p[0]),R.spatialReference);for(let ye=0;ye<te.points.length;ye++)V.push(te.getPoint(ye));return V}return null})},Z.issimple=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,1,1),null===p[0])return!0;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return x.isSimple(p[0])})},Z.simplify=function(R,w){return L(R,w,function(X,se,p){if(p=(0,W.H)(p),(0,W.p)(p,1,1),null===p[0])return null;if(!(p[0]instanceof oe.Z))throw new Error("Illegal Argument");return x.simplify(p[0])})}}},53840:(Re,Fe,ee)=>{ee.d(Fe,{r:()=>E});var G=ee(47562),me=ee(75327);function W(he,oe,le){return void 0===le||0==+le?Math[he](oe):(oe=+oe,le=+le,isNaN(oe)||"number"!=typeof le||le%1!=0?NaN:(oe=oe.toString().split("e"),+((oe=(oe=Math[he](+(oe[0]+"e"+(oe[1]?+oe[1]-le:-le)))).toString().split("e"))[0]+"e"+(oe[1]?+oe[1]+le:le))))}function E(he,oe){function le(T,D,S){const Y=(0,G.f)(T);return isNaN(Y)?Y:isNaN(D)||isNaN(S)||D>S?NaN:Y<D?D:Y>S?S:Y}he.number=function(T,D){return oe(T,D,function(S,Y,C){(0,G.p)(C,1,2);const x=C[0];if((0,G.a)(x))return x;if(null===x)return 0;if((0,G.j)(x)||(0,G.i)(x))return Number(x);if((0,G.l)(x))return NaN;if(""===x||void 0===x)return Number(x);if((0,G.b)(x)){if(void 0!==C[1]){let Q=(0,G.M)(C[1],"\u2030","");return Q=(0,G.M)(Q,"\xa4",""),(0,me.Qc)(x,{pattern:Q})}return Number(x.trim())}return Number(x)})},he.abs=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.abs((0,G.f)(C[0]))})},he.acos=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.acos((0,G.f)(C[0]))})},he.asin=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.asin((0,G.f)(C[0]))})},he.atan=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.atan((0,G.f)(C[0]))})},he.atan2=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,2,2),Math.atan2((0,G.f)(C[0]),(0,G.f)(C[1]))})},he.ceil=function(T,D){return oe(T,D,function(S,Y,C){if((0,G.p)(C,1,2),2===C.length){let x=(0,G.f)(C[1]);return isNaN(x)&&(x=0),W("ceil",(0,G.f)(C[0]),-1*x)}return Math.ceil((0,G.f)(C[0]))})},he.round=function(T,D){return oe(T,D,function(S,Y,C){if((0,G.p)(C,1,2),2===C.length){let x=(0,G.f)(C[1]);return isNaN(x)&&(x=0),W("round",(0,G.f)(C[0]),-1*x)}return Math.round((0,G.f)(C[0]))})},he.floor=function(T,D){return oe(T,D,function(S,Y,C){if((0,G.p)(C,1,2),2===C.length){let x=(0,G.f)(C[1]);return isNaN(x)&&(x=0),W("floor",(0,G.f)(C[0]),-1*x)}return Math.floor((0,G.f)(C[0]))})},he.cos=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.cos((0,G.f)(C[0]))})},he.isnan=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),"number"==typeof C[0]&&isNaN(C[0])})},he.exp=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.exp((0,G.f)(C[0]))})},he.log=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.log((0,G.f)(C[0]))})},he.pow=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,2,2),(0,G.f)(C[0])**(0,G.f)(C[1])})},he.random=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,0,0),Math.random()})},he.sin=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.sin((0,G.f)(C[0]))})},he.sqrt=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.sqrt((0,G.f)(C[0]))})},he.tan=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),Math.tan((0,G.f)(C[0]))})},he.defaultvalue=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,2,2),null===C[0]||""===C[0]||void 0===C[0]?C[1]:C[0]})},he.isempty=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),null===C[0]||""===C[0]||void 0===C[0]})},he.boolean=function(T,D){return oe(T,D,function(S,Y,C){return(0,G.p)(C,1,1),(0,G.g)(C[0])})},he.constrain=function(T,D){return oe(T,D,function(S,Y,C){(0,G.p)(C,3,3);const x=(0,G.f)(C[1]),Q=(0,G.f)(C[2]);if((0,G.l)(C[0])){const N=[];for(const z of C[0])N.push(le(z,x,Q));return N}if((0,G.n)(C[0])){const N=[];for(let z=0;z<C[0].length();z++)N.push(le(C[0].get(z),x,Q));return N}return le(C[0],x,Q)})}}},97536:(Re,Fe,ee)=>{ee.d(Fe,{r:()=>E});var G=ee(47562),me=ee(50818);function W(he,oe,le,T){if(1===T.length){if((0,G.l)(T[0]))return(0,me.t)(he,T[0],-1);if((0,G.n)(T[0]))return(0,me.t)(he,T[0].toArray(),-1)}return(0,me.t)(he,T,-1)}function E(he,oe){he.stdev=function(le,T){return oe(le,T,function(D,S,Y){return W("stdev",0,0,Y)})},he.variance=function(le,T){return oe(le,T,function(D,S,Y){return W("variance",0,0,Y)})},he.average=function(le,T){return oe(le,T,function(D,S,Y){return W("mean",0,0,Y)})},he.mean=function(le,T){return oe(le,T,function(D,S,Y){return W("mean",0,0,Y)})},he.sum=function(le,T){return oe(le,T,function(D,S,Y){return W("sum",0,0,Y)})},he.min=function(le,T){return oe(le,T,function(D,S,Y){return W("min",0,0,Y)})},he.max=function(le,T){return oe(le,T,function(D,S,Y){return W("max",0,0,Y)})},he.distinct=function(le,T){return oe(le,T,function(D,S,Y){return W("distinct",0,0,Y)})},he.count=function(le,T){return oe(le,T,function(D,S,Y){if((0,G.p)(Y,1,1),(0,G.l)(Y[0])||(0,G.b)(Y[0]))return Y[0].length;if((0,G.n)(Y[0]))return Y[0].length();throw new Error("Invalid Parameters for Count")})}}},31975:(Re,Fe,ee)=>{ee.d(Fe,{r:()=>Ct});var G=ee(37780),me=ee(22386),W=ee(6729),E=ee(47562),he=ee(77132);const oe=b=>(y,O,B)=>(B=B||14,+b(y,O).toFixed(B)),le=(b,y)=>b+y,D=(b,y)=>b*y,S=(b,y)=>b/y,Y=(b,y,O)=>oe(le)(b,y,O),x=(b,y,O)=>oe(D)(b,y,O),Q=(b,y,O)=>oe(S)(b,y,O),N=360,ie=2*Math.PI,Z=3600,R=60,w=180*Z/Math.PI,X=60*N*R,se=90*Z,p=180*Z,ne=String.fromCharCode(7501);function ye(b){if(!1===(0,E.b)(b))throw new Error("Invalid Parameter");return b}function d(b,y){const O=10**y;return Math.round(b*O)/O}function g(b){const y=parseFloat(b.toString().replace(Math.trunc(b).toString(),"0"))*Math.sign(b);return b<0?{fraction:y,integer:Math.ceil(b)}:{fraction:y,integer:Math.floor(b)}}var _,J,ue,Ee,b;function Ue(b,y){switch(b){case _.north:return"SHORT"===y?"N":"North";case _.east:return"SHORT"===y?"E":"East";case _.south:return"SHORT"===y?"S":"South";case _.west:return"SHORT"===y?"W":"West"}}function Qe(b,y,O){for(;b.length<O;)b=y+b;return b}function ot(b,y){return b-Math.floor(b/y)*y}function ut(b){switch(b){case J.truncated_degrees:case J.decimal_degrees:return N;case J.radians:return ie;case J.gradians:return 400;case J.seconds:return X;case J.fractional_degree_minutes:return 60;case J.fractional_minute_seconds:return R;default:throw new Error("Unnexpected evaluations")}}function pt(b){switch(b.toUpperCase().trim()){case"NORTH":case"NORTHAZIMUTH":case"NORTH AZIMUTH":return ue.north_azimuth;case"POLAR":return ue.polar;case"QUADRANT":return ue.quadrant;case"SOUTH":case"SOUTHAZIMUTH":case"SOUTH AZIMUTH":return ue.south_azimuth}throw new Error("Unsupported direction type")}function Dt(b){switch(b.toUpperCase().trim()){case"D":case"DD":case"DECIMALDEGREE":case"DECIMAL DEGREE":case"DEGREE":case"DECIMALDEGREES":case"DECIMAL DEGREES":case"DEGREES":return J.decimal_degrees;case"DMS":case"DEGREESMINUTESSECONDS":case"DEGREES MINUTES SECONDS":return J.degrees_minutes_seconds;case"R":case"RAD":case"RADS":case"RADIAN":case"RADIANS":return J.radians;case"G":case"GON":case"GONS":case"GRAD":case"GRADS":case"GRADIAN":case"GRADIANS":return J.gradians}throw new Error("Unsupported units")}(b=_||(_={}))[b.north=0]="north",b[b.east=1]="east",b[b.south=2]="south",b[b.west=3]="west",function(b){b[b.decimal_degrees=1]="decimal_degrees",b[b.seconds=2]="seconds",b[b.degrees_minutes_seconds=3]="degrees_minutes_seconds",b[b.radians=4]="radians",b[b.gradians=5]="gradians",b[b.truncated_degrees=6]="truncated_degrees",b[b.fractional_degree_minutes=7]="fractional_degree_minutes",b[b.fractional_minute_seconds=8]="fractional_minute_seconds"}(J||(J={})),function(b){b[b.north_azimuth=1]="north_azimuth",b[b.polar=2]="polar",b[b.quadrant=3]="quadrant",b[b.south_azimuth=4]="south_azimuth"}(ue||(ue={})),function(b){b[b.meridian=0]="meridian",b[b.direction=1]="direction"}(Ee||(Ee={}));class Ie{constructor(y,O,B){this.m_degrees=y,this.m_minutes=O,this.m_seconds=B}getField(y){switch(y){case J.decimal_degrees:case J.truncated_degrees:return this.m_degrees;case J.fractional_degree_minutes:return this.m_minutes;case J.seconds:case J.fractional_minute_seconds:return this.m_seconds;default:throw new Error("Unnexpected evaluation")}}static secondsToDMS(y){const O=g(y).fraction;let B=g(y).integer;const q=Math.floor(B/Z);B-=q*Z;const ce=Math.floor(B/R);return B-=ce*R,new Ie(q,ce,B+O)}static numberToDms(y){const O=g(y).fraction,B=g(y).integer,q=x(g(100*O).fraction,100),ce=g(100*O).integer;return new Ie(B,ce,q)}format(y,O){let B=d(this.m_seconds,O),q=this.m_minutes,ce=this.m_degrees;if(y===J.seconds||y===J.fractional_minute_seconds)R<=B&&(B-=R,++q),60<=q&&(q=0,++ce),N<=ce&&(ce=0);else if(y===J.fractional_degree_minutes)B=0,q=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,ce=this.m_degrees,60<=q&&(q=0,++ce),N<=ce&&(ce=0);else if(y===J.decimal_degrees||y===J.truncated_degrees){const H=Q(this.m_seconds,Z),K=Q(this.m_minutes,60);ce=Math.round(this.m_degrees+K+H),q=0,B=0}return new Ie(ce,q,B)}static dmsToSeconds(y,O,B){return y*Z+O*R+B}}class Nt{constructor(y,O,B){this.meridian=y,this.angle=O,this.direction=B}fetchAzimuth(y){return y===Ee.meridian?this.meridian:this.direction}}class ve{constructor(y){this.m_angle=y}static createFromAngleAndDirection(y,O){return new ve(new ke(ve._convertDirectionFormat(y.extractAngularUnits(J.seconds),O,ue.north_azimuth)))}getAngle(y){const O=this.m_angle.extractAngularUnits(J.seconds);switch(y){case ue.north_azimuth:case ue.south_azimuth:case ue.polar:return new ke(ve._convertDirectionFormat(O,ue.north_azimuth,y));case ue.quadrant:{const B=ve.secondsNorthAzimuthToQuadrant(O);return new ke(B.angle)}}}getMeridian(y){const O=this.m_angle.extractAngularUnits(J.seconds);switch(y){case ue.north_azimuth:return _.north;case ue.south_azimuth:return _.south;case ue.polar:return _.east;case ue.quadrant:return ve.secondsNorthAzimuthToQuadrant(O).meridian}}getDirection(y){const O=this.m_angle.extractAngularUnits(J.seconds);switch(y){case ue.north_azimuth:return _.east;case ue.south_azimuth:return _.west;case ue.polar:return _.north;case ue.quadrant:return ve.secondsNorthAzimuthToQuadrant(O).direction}}static secondsNorthAzimuthToQuadrant(y){const O=y<=se||y>=972e3?_.north:_.south,B=O===_.north?Math.min(X-y,y):Math.abs(y-p);return new Nt(O,B,y>p?_.west:_.east)}static createFromAngleMeridianAndDirection(y,O,B){return new ve(new ke(ve.secondsQuadrantToNorthAzimuth(y.extractAngularUnits(J.seconds),O,B)))}static secondsQuadrantToNorthAzimuth(y,O,B){return O===_.north?B===_.east?y:X-y:B===_.east?p-y:p+y}static _convertDirectionFormat(y,O,B){let q=0;switch(O){case ue.north_azimuth:q=y;break;case ue.polar:q=se-y;break;case ue.quadrant:throw new Error("Unnexpected evaluation");case ue.south_azimuth:q=y+p}let ce=0;switch(B){case ue.north_azimuth:ce=q;break;case ue.polar:ce=se-q;break;case ue.quadrant:throw new Error("Unnexpected evaluation");case ue.south_azimuth:ce=q-p}return ce=function I(b,y){return b%y}(ce,X),ce<0?X+ce:ce}}function gt(b,y,O){let B=null;switch(y){case J.decimal_degrees:B=x(b,Z);break;case J.seconds:B=b;break;case J.gradians:B=x(b,3240);break;case J.radians:B=x(b,w);break;default:throw new Error("Unnexpected evaluation")}switch(O){case J.decimal_degrees:return Q(B,Z);case J.seconds:return B;case J.gradians:return Q(B,3240);case J.radians:return B/w;default:throw new Error("Unnexpected evaluation")}}class ke{constructor(y){this.m_seconds=y}static createFromAngleAndUnits(y,O){return new ke(gt(y,O,J.seconds))}extractAngularUnits(y){return gt(this.m_seconds,J.seconds,qe(y))}static createFromDegreesMinutesSeconds(y,O,B){return new ke(Y(Y(x(y,Z),x(O,R)),B))}}function qe(b){switch(b){case J.decimal_degrees:case J.truncated_degrees:case J.degrees_minutes_seconds:return J.decimal_degrees;case J.gradians:return J.gradians;case J.fractional_degree_minutes:return J.fractional_degree_minutes;case J.radians:return J.radians;case J.seconds:case J.fractional_minute_seconds:return J.seconds}}class lt{constructor(y,O,B,q){this.m_view=y,this.m_angle=O,this.m_merdian=B,this.m_direction=q,this.m_dms=null,this.m_formatted_dms=null}static createFromStringAndBearing(y,O,B){return new lt(y,O.getAngle(B),O.getMeridian(B),O.getDirection(B))}fetchAngle(){return this.m_angle}fetchMeridian(){return this.m_merdian}fetchDirection(){return this.m_direction}fetchView(){return this.m_view}fetchDms(){return null===this.m_dms&&this._calculateDms(),this.m_dms}fetchFormattedDms(){return null===this.m_formatted_dms&&this._calculateDms(),this.m_formatted_dms}_calculateDms(){let y=null,O=J.truncated_degrees,B=0;for(let q=0;q<this.m_view.length;q++){const ce=this.m_view[q];switch(ce){case"m":y=Je(this.m_view,q,ce),O=O===J.truncated_degrees?J.fractional_degree_minutes:O,q=y.newpos;continue;case"s":y=Je(this.m_view,q,ce),O=J.fractional_minute_seconds,B=B<y.rounding?y.rounding:B,q=y.newpos;continue;default:continue}}this.m_dms=Ie.secondsToDMS(this.m_angle.extractAngularUnits(J.seconds)),this.m_formatted_dms=Ie.secondsToDMS(this.m_angle.extractAngularUnits(J.seconds)).format(O,B)}}function It(b,y,O,B,q){let ce=null;switch(y){case J.decimal_degrees:case J.radians:case J.gradians:return ce=ot(d(b.extractAngularUnits(y),B),ut(y)),Qe(ce.toFixed(B),"0",O+B+(B>0?1:0));case J.truncated_degrees:case J.fractional_degree_minutes:return ce=ot(q.fetchFormattedDms().getField(y),ut(y)),Qe(ce.toFixed(B),"0",O+B+(B>0?1:0));case J.fractional_minute_seconds:return ce=ot(d(q.fetchDms().getField(y),B),ut(y)),Qe(ce.toFixed(B),"0",O+B+(B>0?1:0));default:throw new Error("Unnexepected evaluation")}}function Ne(b){switch(b.toUpperCase().trim()){case"N":case"NORTH":return _.north;case"E":case"EAST":return _.east;case"S":case"SOUTH":return _.south;case"W":case"WEST":return _.west}return null}function Ye(b){const y=parseFloat(b);if((0,E.a)(y)){if(isNaN(y))throw new Error("Invalid conversion");return y}throw new Error("Invalid conversion")}function rt(b,y,O){const B=O===ue.quadrant;let q=null,ce=null,H=0,K=0,fe=0;if(B){if(b.length<2)throw new Error("Conversion Error");fe=1;const xe=function Tt(b){switch((0,E.f)(b)){case 1:return{first:_.north,second:_.east};case 2:return{first:_.south,second:_.east};case 3:return{first:_.south,second:_.west};case 4:return{first:_.north,second:_.west}}return null}((0,E.h)(b[b.length-1]));if(xe?(q=xe.first,ce=xe.second):(H=1,q=Ne((0,E.h)(b[0])),ce=Ne((0,E.h)(b[b.length-1]))),null===q||null===ce)throw new Error("Invalid Conversion")}switch(y){case J.decimal_degrees:case J.radians:case J.gradians:if(0===b.length)throw new Error("Invalid Conversion");return B?ve.createFromAngleMeridianAndDirection(ke.createFromAngleAndUnits(Ye(b[H]),qe(y)),q,ce):ve.createFromAngleAndDirection(ke.createFromAngleAndUnits(Ye(b[H]),qe(y)),O);case J.degrees_minutes_seconds:if(K=b.length-fe-H,3===K){const xe=ke.createFromDegreesMinutesSeconds(Ye(b[H]),Ye(b[H+1]),Ye(b[H+2]));return B?ve.createFromAngleMeridianAndDirection(xe,q,ce):ve.createFromAngleAndDirection(xe,O)}if(1===K){const xe=Ye(b[H]),Oe=Ie.numberToDms(xe),Te=ke.createFromDegreesMinutesSeconds(Oe.m_degrees,Oe.m_minutes,Oe.m_seconds);return B?ve.createFromAngleMeridianAndDirection(Te,q,ce):ve.createFromAngleAndDirection(Te,O)}}throw new Error("Conversion Error")}function Je(b,y,O){const B={padding:0,rounding:0,newpos:y};let q=!1;for(;y<b.length;){const ce=b[y];if(ce===O)q?B.rounding++:B.padding++,y++;else{if("."!==ce)break;q=!0,y++}}return B.newpos=y-1,B}function ft(b,y,O){const B={escaped:"",newpos:y};for(y++;y<b.length;){const q=b[y];if(y++,"]"===q)break;B.escaped+=q}return B.newpos=y-1,B}function Xe(b,y,O){if(!(y instanceof W.Z))throw new Error("Invalid Parameter");if(!1===y.hasField("directionType"))throw new Error("Invalid Parameter - Missing directionType");if(!1===y.hasField("angleType"))throw new Error("Invalid Parameter - Missing directionType");const B=pt(ye(y.field("directiontype"))),q=function Ve(b,y,O){if((0,E.a)(b))return function vt(b,y,O){if(O===ue.quadrant)throw new Error("Conversion error");if(y===J.degrees_minutes_seconds){const B=Ie.numberToDms(b);return ve.createFromAngleAndDirection(ke.createFromDegreesMinutesSeconds(B.m_degrees,B.m_minutes,B.m_seconds),O)}return ve.createFromAngleAndDirection(ke.createFromAngleAndUnits(b,qe(y)),O)}((0,E.f)(b),y,O);if((0,E.b)(b))return rt(function Et(b){const y=[" ","-","/","'",'"',"\\","^","\xb0",ne,"\t","\r","\n","*"];let O="";for(let B=0;B<b.length;B++){const q=b.charAt(B);y.includes(q)?O+="RRSPLITRRSPLITRR":O+=q}return O.split("RRSPLITRRSPLITRR").filter(B=>""!==B)}(b),y,O);if((0,E.l)(b))return rt(b,y,O);if((0,E.n)(b))return rt(b.toArray(),y,O);throw new Error("Conversion Error")}(b,Dt(ye(y.field("angletype"))),B);if(!(O instanceof W.Z))throw new Error("Invalid Parameter");if(!1===O.hasField("directionType"))throw new Error("Invalid Parameter - Missing directionType");if(!1===O.hasField("outputType"))throw new Error("Invalid Parameter - Missing directionType");const ce=pt(ye(O.field("directiontype"))),H=O.hasField("angleType")?Dt(ye(O.field("angletype"))):null,K=ye(O.field("outputType")).toUpperCase().trim();if(!ce||!K)throw new Error("Conversion error");if(!(H||"TEXT"===K&&O.hasField("format")))throw new Error("Invalid unit");switch(K){case"VALUE":return ce===ue.quadrant||H===J.degrees_minutes_seconds?function ct(b,y,O){const B=b.getAngle(y);if(y===ue.quadrant&&O===J.degrees_minutes_seconds){const q=Ie.secondsToDMS(B.extractAngularUnits(J.seconds));return[Ue(b.getMeridian(y),"SHORT"),q.m_degrees,q.m_minutes,q.m_seconds,Ue(b.getDirection(y),"SHORT")]}if(O===J.degrees_minutes_seconds){const q=Ie.secondsToDMS(B.extractAngularUnits(J.seconds));return[q.m_degrees,q.m_minutes,q.m_seconds]}return y===ue.quadrant?[Ue(b.getMeridian(y),"SHORT"),B.extractAngularUnits(O),Ue(b.getDirection(y),"SHORT")]:[B.extractAngularUnits(O)]}(q,ce,H):function _t(b,y,O){const B=qe(O);if(B&&O!==J.degrees_minutes_seconds)return b.getAngle(y).extractAngularUnits(B);throw new Error("Conversion Error")}(q,ce,H);case"TEXT":{let fe="";return O.hasField("format")&&(fe=(0,E.h)(O.field("format"))),null!==fe&&""!==fe||(fe=function ht(b,y){let O="";switch(b){case J.decimal_degrees:O=y===ue.quadrant?"DD.DD\xb0":"DDD.DD\xb0";break;case J.degrees_minutes_seconds:O=y===ue.quadrant?"dd\xb0 mm' ss\"":"ddd\xb0 mm' ss.ss\"";break;case J.radians:O="R.RR";break;case J.gradians:O="GGG.GG"+ne;break;default:throw new Error("Conversion error")}return y===ue.quadrant&&(O="p "+O+" b"),O}(H,ce)),function it(b,y,O){let B="",q=null,ce=null;const H=lt.createFromStringAndBearing(y,b,O),K={D:J.decimal_degrees,d:J.truncated_degrees,m:J.fractional_degree_minutes,s:J.fractional_minute_seconds,R:J.radians,G:J.gradians};for(let fe=0;fe<y.length;fe++){const xe=y[fe];switch(xe){case"[":q=ft(y,fe),B+=q.escaped,fe=q.newpos;continue;case"D":case"d":case"m":case"s":case"R":case"G":q=Je(y,fe,xe),ce=b.getAngle(O),B+=It(ce,K[xe],q.padding,q.rounding,H),fe=q.newpos;continue;case"P":case"p":B+=Ue(H.fetchMeridian(),"p"===xe?"SHORT":"LONG");continue;case"B":case"b":B+=Ue(H.fetchDirection(),"b"===xe?"SHORT":"LONG");continue;default:B+=xe}}return B}(q,fe,ce)}default:throw new Error("Invalid Parameter")}}const Me=2654435761,He=2246822519,$e=3266489917,yt=668265263,At=374761393;function Ot(b){const y=[];for(let O=0,B=b.length;O<B;O++){let q=b.charCodeAt(O);q<128?y.push(q):q<2048?y.push(192|q>>6,128|63&q):q<55296||q>=57344?y.push(224|q>>12,128|q>>6&63,128|63&q):(O++,q=65536+((1023&q)<<10|1023&b.charCodeAt(O)),y.push(240|q>>18,128|q>>12&63,128|q>>6&63,128|63&q))}return new Uint8Array(y)}class We{constructor(y){this.seed=y,this.totallen=0,this.bufs=[],this.init()}init(){return this.bufs=[],this.totallen=0,this}updateFloatArray(y){const O=[];for(const B of y)isNaN(B)?O.push("NaN"):O.push(B===1/0?"Infinity":B===-1/0?"-Infinity":0===B?"0":B.toString(16));this.update(Ot(O.join("")))}updateIntArray(y){const O=Int32Array.from(y);this.update(new Uint8Array(O.buffer))}updateUint8Array(y){this.update(Uint8Array.from(y))}updateWithString(y){return this.update(Ot(y))}update(y){return this.bufs.push(y),this.totallen+=y.length,this}digest(){const y=new Uint8Array(this.totallen);let O=0;for(const B of this.bufs)y.set(B,O),O+=B.length;return this.init(),this._xxHash32(y,this.seed)}_xxHash32(y,O=0){const B=y;let q=O+At&4294967295,ce=0;if(B.length>=16){const K=[O+Me+He&4294967295,O+He&4294967295,O+0&4294967295,O-Me&4294967295],fe=y,xe=fe.length-16;let Oe=0;for(ce=0;(4294967280&ce)<=xe;ce+=4){let tt=K[Oe]+((fe[ce+0]+(fe[ce+1]<<8))*He+((fe[ce+2]+(fe[ce+3]<<8))*He<<16))&4294967295;tt=tt<<13|tt>>>19,K[Oe]=(65535&tt)*Me+((tt>>>16)*Me<<16)&4294967295,Oe=Oe+1&3}q=(K[0]<<1|K[0]>>>31)+(K[1]<<7|K[1]>>>25)+(K[2]<<12|K[2]>>>20)+(K[3]<<18|K[3]>>>14)&4294967295}q=q+y.length&4294967295;const H=y.length-4;for(;ce<=H;ce+=4)q=q+((B[ce+0]+(B[ce+1]<<8))*$e+((B[ce+2]+(B[ce+3]<<8))*$e<<16))&4294967295,q=q<<17|q>>>15,q=(65535&q)*yt+((q>>>16)*yt<<16)&4294967295;for(;ce<B.length;++ce)q+=B[ce]*At,q=q<<11|q>>>21,q=(65535&q)*Me+((q>>>16)*Me<<16)&4294967295;return q^=q>>>15,q=((65535&q)*He&4294967295)+((q>>>16)*He<<16),q^=q>>>13,q=((65535&q)*$e&4294967295)+((q>>>16)*$e<<16),q^=q>>>16,q<0?q+4294967296:q}}var Qt=ee(2004),qt=ee(72854),en=ee(49672),tn=ee(37118),nn=ee(55214),rn=ee(65234);function xt(b,y){if(b.x===y.x&&b.y===y.y){if(b.hasZ){if(b.z!==y.z)return!1}else if(y.hasZ)return!1;if(b.hasM){if(b.m!==y.m)return!1}else if(y.hasM)return!1;return!0}return!1}function Be(b,y,O){if(null!==b)if((0,E.l)(b)){if(y.updateUint8Array([61]),O.map.has(b)){const B=O.map.get(b);y.updateIntArray([61237541^B])}else{O.map.set(b,O.currentLength++);for(const B of b)Be(B,y,O);O.map.delete(b),O.currentLength--}y.updateUint8Array([199])}else if((0,E.n)(b)){if(y.updateUint8Array([61]),O.map.has(b)){const B=O.map.get(b);y.updateIntArray([61237541^B])}else{O.map.set(b,O.currentLength++);for(const B of b.toArray())Be(B,y,O);O.map.delete(b),O.currentLength--}y.updateUint8Array([199])}else{if((0,E.j)(b))return y.updateIntArray([b.getTime()]),void y.updateUint8Array([241]);if((0,E.b)(b))return y.updateIntArray([b.length]),y.updateWithString(b),void y.updateUint8Array([41]);if((0,E.i)(b))y.updateUint8Array([!0===b?1:0,113]);else{if((0,E.a)(b))return y.updateFloatArray([b]),void y.updateUint8Array([173]);if(b instanceof me.Z)throw new Error("Type not supported in Hash");if(b instanceof G.Z)throw new Error("Type not supported in Hash");if(!(b instanceof W.Z)){if((0,E.s)(b))throw new Error("Type not supported in Hash");if(b instanceof en.Z)return y.updateIntArray([3833836621]),y.updateIntArray([0]),y.updateFloatArray([b.x]),y.updateIntArray([1]),y.updateFloatArray([b.y]),b.hasZ&&(y.updateIntArray([2]),y.updateFloatArray([b.z])),b.hasM&&(y.updateIntArray([3]),y.updateFloatArray([b.m])),y.updateIntArray([3765347959]),void Be(b.spatialReference.wkid,y,O);if(b instanceof tn.Z){y.updateIntArray([1266616829]);for(let B=0;B<b.rings.length;B++){const q=b.rings[B],ce=[];let H=null,K=null;for(let fe=0;fe<q.length;fe++){const xe=b.getPoint(B,fe);if(0===fe)H=xe;else if(xt(K,xe))continue;K=xe,fe===q.length-1&&xt(H,xe)||ce.push(xe)}y.updateIntArray([1397116793,ce.length]);for(let fe=0;fe<ce.length;fe++){const xe=ce[fe];y.updateIntArray([3962308117,fe]),Be(xe,y,O),y.updateIntArray([2716288009])}y.updateIntArray([2278822459])}return y.updateIntArray([3878477243]),void Be(b.spatialReference.wkid,y,O)}if(b instanceof nn.Z){y.updateIntArray([4106883559]);for(let B=0;B<b.paths.length;B++){const q=b.paths[B];y.updateIntArray([1397116793,q.length]);for(let ce=0;ce<q.length;ce++)y.updateIntArray([3962308117,ce]),Be(b.getPoint(B,ce),y,O),y.updateIntArray([2716288009]);y.updateIntArray([2278822459])}return y.updateIntArray([2568784753]),void Be(b.spatialReference.wkid,y,O)}if(b instanceof qt.Z){y.updateIntArray([588535921,b.points.length]);for(let B=0;B<b.points.length;B++){const q=b.getPoint(B);y.updateIntArray([B]),Be(q,y,O)}return y.updateIntArray([1700171621]),void Be(b.spatialReference.wkid,y,O)}if(b instanceof Qt.Z)return y.updateIntArray([3483648373]),y.updateIntArray([0]),y.updateFloatArray([b.xmax]),y.updateIntArray([1]),y.updateFloatArray([b.xmin]),y.updateIntArray([2]),y.updateFloatArray([b.ymax]),y.updateIntArray([3]),y.updateFloatArray([b.ymin]),b.hasZ&&(y.updateIntArray([4]),y.updateFloatArray([b.zmax]),y.updateIntArray([5]),y.updateFloatArray([b.zmin])),b.hasM&&(y.updateIntArray([6]),y.updateFloatArray([b.mmax]),y.updateIntArray([7]),y.updateFloatArray([b.mmin])),y.updateIntArray([3622027469]),void Be(b.spatialReference.wkid,y,O);if(b instanceof rn.Z)return y.updateIntArray([14]),null!=b.wkid&&y.updateIntArray([b.wkid]),void(b.wkt&&y.updateWithString(b.wkt));throw(0,E.o)(b)||(0,E.y)(b)||(0,E.z)(b),new Error("Type not supported in Hash")}if(y.updateUint8Array([223]),O.map.has(b)){const B=O.map.get(b);y.updateIntArray([61237541^B])}else{O.map.set(b,O.currentLength++);for(const B of b.keys())y.updateIntArray([B.length]),y.updateWithString(B),y.updateUint8Array([251]),Be(b.field(B),y,O),y.updateUint8Array([239]);O.map.delete(b),O.currentLength--}y.updateUint8Array([73])}}else y.updateUint8Array([0,139])}function Ct(b,y){b.portal=function(O,B){return y(O,B,function(q,ce,H){return(0,E.p)(H,1,1),new G.Z((0,E.h)(H[0]))})},b.trim=function(O,B){return y(O,B,function(q,ce,H){return(0,E.p)(H,1,1),(0,E.h)(H[0]).trim()})},b.tohex=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,1,1);const K=(0,E.f)(H[0]);return isNaN(K)?K:K.toString(16)})},b.upper=function(O,B){return y(O,B,function(q,ce,H){return(0,E.p)(H,1,1),(0,E.h)(H[0]).toUpperCase()})},b.proper=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,1,2);let K=1;2===H.length&&"firstword"===(0,E.h)(H[1]).toLowerCase()&&(K=2);const fe=/\s/,xe=(0,E.h)(H[0]);let Oe="",Te=!0;for(let et=0;et<xe.length;et++){let Le=xe[et];fe.test(Le)?1===K&&(Te=!0):Le.toUpperCase()!==Le.toLowerCase()&&(Te?(Le=Le.toUpperCase(),Te=!1):Le=Le.toLowerCase()),Oe+=Le}return Oe})},b.lower=function(O,B){return y(O,B,function(q,ce,H){return(0,E.p)(H,1,1),(0,E.h)(H[0]).toLowerCase()})},b.guid=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,0,1),H.length>0)switch((0,E.h)(H[0]).toLowerCase()){case"digits":return(0,E.O)().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return(0,E.O)();case"digits-hyphen-braces":return"{"+(0,E.O)()+"}";case"digits-hyphen-parentheses":return"("+(0,E.O)()+")"}return"{"+(0,E.O)()+"}"})},b.console=function(O,B){return y(O,B,function(q,ce,H){return 0===H.length||O.console((0,E.h)(1===H.length?H[0]:H)),E.v})},b.mid=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,2,3);let K=(0,E.f)(H[1]);if(isNaN(K))return"";if(K<0&&(K=0),2===H.length)return(0,E.h)(H[0]).substr(K);let fe=(0,E.f)(H[2]);return isNaN(fe)?"":(fe<0&&(fe=0),(0,E.h)(H[0]).substr(K,fe))})},b.find=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,2,3);let K=0;if(H.length>2){if(K=(0,E.f)((0,E.C)(H[2],0)),isNaN(K))return-1;K<0&&(K=0)}return(0,E.h)(H[1]).indexOf((0,E.h)(H[0]),K)})},b.left=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,2,2);let K=(0,E.f)(H[1]);return isNaN(K)?"":(K<0&&(K=0),(0,E.h)(H[0]).substr(0,K))})},b.right=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,2,2);let K=(0,E.f)(H[1]);return isNaN(K)?"":(K<0&&(K=0),(0,E.h)(H[0]).substr(-1*K,K))})},b.split=function(O,B){return y(O,B,function(q,ce,H){let K;(0,E.p)(H,2,4);let fe=(0,E.f)((0,E.C)(H[2],-1));const xe=(0,E.g)((0,E.C)(H[3],!1));if(-1===fe||null===fe||!0===xe?K=(0,E.h)(H[0]).split((0,E.h)(H[1])):(isNaN(fe)&&(fe=-1),fe<-1&&(fe=-1),K=(0,E.h)(H[0]).split((0,E.h)(H[1]),fe)),!1===xe)return K;const Oe=[];for(let Te=0;Te<K.length&&!(-1!==fe&&Oe.length>=fe);Te++)""!==K[Te]&&void 0!==K[Te]&&Oe.push(K[Te]);return Oe})},b.text=function(O,B){return y(O,B,function(q,ce,H){return(0,E.p)(H,1,2),(0,E.t)(H[0],H[1])})},b.concatenate=function(O,B){return y(O,B,function(q,ce,H){const K=[];if(H.length<1)return"";if((0,E.l)(H[0])){const fe=(0,E.C)(H[2],"");for(let xe=0;xe<H[0].length;xe++)K[xe]=(0,E.t)(H[0][xe],fe);return K.join(H.length>1?H[1]:"")}if((0,E.n)(H[0])){const fe=(0,E.C)(H[2],"");for(let xe=0;xe<H[0].length();xe++)K[xe]=(0,E.t)(H[0].get(xe),fe);return K.join(H.length>1?H[1]:"")}for(let fe=0;fe<H.length;fe++)K[fe]=(0,E.t)(H[fe]);return K.join("")})},b.reverse=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,1,1),(0,E.l)(H[0])){const K=H[0].slice(0);return K.reverse(),K}if((0,E.n)(H[0])){const K=H[0].toArray().slice(0);return K.reverse(),K}throw new Error("Invalid Parameter")})},b.replace=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,3,4);const K=(0,E.h)(H[0]),fe=(0,E.h)(H[1]),xe=(0,E.h)(H[2]);return 4!==H.length||(0,E.g)(H[3])?(0,E.M)(K,fe,xe):K.replace(fe,xe)})},b.schema=function(O,B){return y(O,B,function(q,ce,H){if((0,E.s)(H[0])){const K=(0,E.P)(H[0]);return K?W.Z.convertObjectToArcadeDictionary(K):null}throw new Error("Invalid Parameter")})},b.subtypes=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,1,1),(0,E.s)(H[0])){const K=(0,E.Q)(H[0]);return K?W.Z.convertObjectToArcadeDictionary(K):null}throw new Error("Invalid Parameter")})},b.subtypecode=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,1,1),(0,E.s)(H[0])){const K=(0,E.Q)(H[0]);if(!K)return null;if(K.subtypeField&&H[0].hasField(K.subtypeField)){const fe=H[0].field(K.subtypeField);for(const xe of K.subtypes)if(xe.code===fe)return xe.code;return null}return null}throw new Error("Invalid Parameter")})},b.subtypename=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,1,1),(0,E.s)(H[0])){const K=(0,E.Q)(H[0]);if(!K)return"";if(K.subtypeField&&H[0].hasField(K.subtypeField)){const fe=H[0].field(K.subtypeField);for(const xe of K.subtypes)if(xe.code===fe)return xe.name;return""}return""}throw new Error("Invalid Parameter")})},b.gdbversion=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,1,1),(0,E.s)(H[0]))return H[0].gdbVersion();throw new Error("Invalid Parameter")})},b.domain=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,2,3),(0,E.s)(H[0])){const K=(0,E.T)(H[0],(0,E.h)(H[1]),void 0===H[2]?void 0:(0,E.f)(H[2]));return K&&K.domain?W.Z.convertObjectToArcadeDictionary("coded-value"===K.domain.type||"codedValue"===K.domain.type?{type:"codedValue",name:K.domain.name,dataType:he.yE[K.field.type],codedValues:K.domain.codedValues.map(fe=>({name:fe.name,code:fe.code}))}:{type:"range",name:K.domain.name,dataType:he.yE[K.field.type],min:K.domain.min,max:K.domain.max}):null}throw new Error("Invalid Parameter")})},b.domainname=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,2,4),(0,E.s)(H[0]))return(0,E.U)(H[0],(0,E.h)(H[1]),H[2],void 0===H[3]?void 0:(0,E.f)(H[3]));throw new Error("Invalid Parameter")})},b.domaincode=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,2,4),(0,E.s)(H[0]))return(0,E.V)(H[0],(0,E.h)(H[1]),H[2],void 0===H[3]?void 0:(0,E.f)(H[3]));throw new Error("Invalid Parameter")})},b.urlencode=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,1,1),null===H[0])return"";if(H[0]instanceof W.Z){let K="";for(const fe of H[0].keys()){const xe=H[0].field(fe);""!==K&&(K+="&"),K+=null===xe?encodeURIComponent(fe)+"=":encodeURIComponent(fe)+"="+encodeURIComponent(xe)}return K}return encodeURIComponent((0,E.h)(H[0]))})},b.hash=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,1,1);const K=new We(0);return Be(H[0],K,{map:new Map,currentLength:0}),K.digest()})},b.convertdirection=function(O,B){return y(O,B,function(q,ce,H){return(0,E.p)(H,3,3),Xe(H[0],H[1],H[2])})},b.fromjson=function(O,B){return y(O,B,function(q,ce,H){if((0,E.p)(H,1,1),!1===(0,E.b)(H[0]))throw new Error("Invalid Parameter");return W.Z.convertJsonToArcade(JSON.parse((0,E.h)(H[0])))})},b.expects=function(O,B){return y(O,B,function(q,ce,H){if(H.length<1)throw new Error("Function called with wrong number of Parameters");return E.v})},b.tocharcode=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,1,2);const K=(0,E.f)((0,E.C)(H[1],0)),fe=(0,E.h)(H[0]);if(0===fe.length&&1===H.length)return null;if(fe.length<=K||K<0)throw new Error("Illegal argument");return fe.charCodeAt(K)})},b.tocodepoint=function(O,B){return y(O,B,function(q,ce,H){(0,E.p)(H,1,2);const K=(0,E.f)((0,E.C)(H[1],0)),fe=(0,E.h)(H[0]);if(0===fe.length&&1===H.length)return null;if(fe.length<=K||K<0)throw new Error("Illegal argument");return fe.codePointAt(K)})},b.fromcharcode=function(O,B){return y(O,B,function(q,ce,H){if(H.length<1)throw new Error("Function called with wrong number of Parameters");const K=H.map(fe=>Math.trunc((0,E.f)(fe))).filter(fe=>fe>=0&&fe<=65535);return 0===K.length?null:String.fromCharCode.apply(null,K)})},b.fromcodepoint=function(O,B){return y(O,B,function(q,ce,H){if(H.length<1)throw new Error("Function called with wrong number of Parameters");let K;try{K=H.map(fe=>Math.trunc((0,E.f)(fe))).filter(fe=>fe<=1114111&&fe>>>0===fe)}catch{return null}return 0===K.length?null:String.fromCodePoint.apply(null,K)})}}},27187:(Re,Fe,ee)=>{ee.d(Fe,{EI:()=>me,Lz:()=>E,SV:()=>W,r1:()=>oe});var G=ee(2004);function me(le){if(void 0===le)return null;if("number"==typeof le)return le;let T=le.toLowerCase();switch(T=T.replace(/\s/g,""),T=T.replace(/-/g,""),T){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109413;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nm":case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function W(le){if(null===le)return null;switch(le.type){case"polygon":case"multipoint":case"polyline":return le.extent;case"point":return new G.Z({xmin:le.x,ymin:le.y,xmax:le.x,ymax:le.y,spatialReference:le.spatialReference});case"extent":return le}return null}function E(le){if(void 0===le)return null;if("number"==typeof le)return le;let T=le.toLowerCase();switch(T=T.replace(/\s/g,""),T=T.replace(/-/g,""),T){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9035;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nm":case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function oe(le){if(null===le)return null;const T=le.clone();return void 0!==le.cache._geVersion&&(T.cache._geVersion=le.cache._geVersion),T}},19927:(Re,Fe,ee)=>{ee.d(Fe,{AA:()=>p,FS:()=>L,H5:()=>R,Kq:()=>N,UA:()=>$,Vf:()=>V,bV:()=>C,dN:()=>ne,gW:()=>he,mb:()=>Q,w8:()=>x});const G={all:{min:"2",max:"2"},none:{min:"2",max:"2"},any:{min:"2",max:"2"},reduce:{min:"2",max:"3"},map:{min:"2",max:"2"},filter:{min:"2",max:"2"},fromcodepoint:{min:"1",max:"*"},fromcharcode:{min:"1",max:"*"},tocodepoint:{min:"1",max:"2"},tocharcode:{min:"1",max:"2"},concatenate:{min:"0",max:"*"},expects:{min:"1",max:"*"},getfeatureset:{min:"1",max:"2"},week:{min:"1",max:"2"},fromjson:{min:"1",max:"1"},length3d:{min:"1",max:"2"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(const d in G)G[d].fmin=G[d].min,G[d].fmax=G[d].max;const me=["featureset","getuser","featuresetbyid","featuresetbyname","featuresetbyassociation","featuresetbyrelationshipname","featuresetbyurl","getfeatureset","attachments","featuresetbyportalitem"],W=["disjoint","intersects","touches","crosses","within","contains","overlaps","equals","relate","intersection","union","difference","symmetricdifference","clip","cut","area","areageodetic","length","length3d","lengthgeodetic","distance","distancegeodetic","densify","densifygeodetic","generalize","buffer","buffergeodetic","offset","rotate","issimple","simplify","multiparttosinglepart"];function E(d){return"string"==typeof d||d instanceof String}function he(d,I){const g=G[d.name.toLowerCase()];void 0===g?G[d.name.toLowerCase()]="sync"===I?{min:d.min,max:d.max}:{fmin:d.min,fmax:d.max}:"sync"===I?(g.min=d.min,g.max=d.max):(g.fmin=d.min,g.fmax=d.max)}function oe(d,I){return"0"!==d.min&&I.length<Number(d.min)||"*"!==d.max&&I.length>Number(d.max)?-2:1}function le(d,I,g){if(null!==g.localScope&&void 0!==g.localScope[d.toLowerCase()]){const _=g.localScope[d.toLowerCase()];if("FormulaFunction"===_.type)return void 0===_.signature&&(_.signature={min:"0",max:"*"}),oe(_.signature,I);if("any"===_.type)return void 0===_.signature&&(_.signature={min:"0",max:"*"}),oe(_.signature,I)}if(void 0!==g.globalScope[d.toLowerCase()]){const _=g.globalScope[d.toLowerCase()];if("FormulaFunction"===_.type)return void 0===_.signature&&(_.signature={min:"0",max:"*"}),oe(_.signature,I);if("any"===_.type)return void 0===_.signature&&(_.signature={min:"0",max:"*"}),oe(_.signature,I)}return-1}function T(d,I){if(d)for(const g of d)D(g,I)}function D(d,I){if(d&&!1!==I(d))switch(d.type){case"ArrayExpression":T(d.elements,I);break;case"AssignmentExpression":case"BinaryExpression":case"LogicalExpression":D(d.left,I),D(d.right,I);break;case"BlockStatement":case"Program":T(d.body,I);break;case"BreakStatement":case"ContinueStatement":case"EmptyStatement":case"Identifier":case"Literal":break;case"CallExpression":D(d.callee,I),T(d.arguments,I);break;case"ExpressionStatement":D(d.expression,I);break;case"ForInStatement":D(d.left,I),D(d.right,I),D(d.body,I);break;case"ForStatement":D(d.init,I),D(d.test,I),D(d.update,I),D(d.body,I);break;case"FunctionDeclaration":D(d.id,I),T(d.params,I),D(d.body,I);break;case"IfStatement":D(d.test,I),D(d.consequent,I),D(d.alternate,I);break;case"MemberExpression":D(d.object,I),D(d.property,I);break;case"ObjectExpression":T(d.properties,I);break;case"Property":D(d.key,I),D(d.value,I);break;case"ReturnStatement":case"UnaryExpression":case"UpdateExpression":D(d.argument,I);break;case"VariableDeclaration":T(d.declarations,I);break;case"VariableDeclarator":D(d.id,I),D(d.init,I);break;case"TemplateLiteral":T(d.expressions,I),T(d.quasis,I)}}function S(d,I=!0){let g=R(d,"SYNTAX","UNREOGNISED");try{switch(d.type){case"VariableDeclarator":return"Identifier"!==d.id.type?R(d,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==d.init?S(d.init,!1):"";case"VariableDeclaration":for(let _=0;_<d.declarations.length;_++)if(g=S(d.declarations[_],I),""!==g)return g;return"";case"ForInStatement":if(g=S(d.left,I),""!==g)return g;if("VariableDeclaration"===d.left.type){if(d.left.declarations.length>1)return R(d,"SYNTAX","ONLY1VAR");if(null!==d.left.declarations[0].init)return R(d,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==d.left.type)return R(d,"SYNTAX","LEFTNOTVAR");return g=S(d.right,I),""!==g?g:(g=S(d.body,I),""!==g?g:"");case"ForStatement":return null!==d.test&&(g=S(d.test,I),""!==g)||null!==d.init&&(g=S(d.init,I),""!==g)||null!==d.update&&(g=S(d.update,I),""!==g)||null!==d.body&&(g=S(d.body,I),""!==g)?g:"";case"ContinueStatement":case"EmptyStatement":case"BreakStatement":case"Literal":case"TemplateElement":return"";case"IfStatement":return g=S(d.test,I),""!==g||null!==d.consequent&&(g=S(d.consequent,!1),""!==g)||null!==d.alternate&&(g=S(d.alternate,!1),""!==g)?g:"";case"BlockStatement":{const _=[];for(let J=0;J<d.body.length;J++)"EmptyStatement"!==d.body[J].type&&_.push(d.body[J]);d.body=_;for(let J=0;J<d.body.length;J++)if(g=S(d.body[J],I),""!==g)return g;return""}case"FunctionDeclaration":return!1===I?R(d,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==d.id.type?R(d,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):S(d.body,!1);case"ReturnStatement":return null!==d.argument?S(d.argument,I):"";case"UpdateExpression":return"Identifier"!==d.argument.type&&"MemberExpression"!==d.argument.type?R(d,"SYNTAX","ASSIGNMENTTOVARSONLY"):S(d.argument,I);case"AssignmentExpression":if("Identifier"!==d.left.type&&"MemberExpression"!==d.left.type)return R(d,"SYNTAX","ASSIGNMENTTOVARSONLY");if(g=S(d.left,I),""!==g)return g;switch(d.operator){case"=":case"/=":case"*=":case"%=":case"+=":case"-=":break;default:return R(d,"SYNTAX","OPERATORNOTRECOGNISED")}return S(d.right,!1);case"ExpressionStatement":return S(d.expression,!1);case"Identifier":g="";break;case"MemberExpression":return g=S(d.object,I),""!==g?g:!0===d.computed?S(d.property,I):"";case"CallExpression":if("Identifier"!==d.callee.type)return R(d,"SYNTAX","ONLYNODESSUPPORTED");g="";for(let _=0;_<d.arguments.length;_++)if(g=S(d.arguments[_],I),""!==g)return g;return"";case"UnaryExpression":g=S(d.argument,I);break;case"BinaryExpression":if(g=S(d.left,I),""!==g||(g=S(d.right,I),""!==g))return g;switch(d.operator){case"|":case"&":case">>":case"<<":case">>>":case"^":case"==":case"!=":case"<":case"<=":case">":case">=":case"+":case"-":case"*":case"/":case"%":break;default:return R(d,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case"LogicalExpression":if(g=S(d.left,I),""!==g||(g=S(d.right),""!==g))return g;switch(d.operator){case"&&":case"||":break;default:return R(d,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case"ArrayExpression":g="";for(let _=0;_<d.elements.length;_++)if(g=S(d.elements[_],I),""!==g)return g;return g;case"TemplateLiteral":g="";for(let _=0;_<d.quasis.length;_++)if(g=S(d.quasis[_],I),""!==g)return g;for(let _=0;_<d.expressions.length;_++)if(g=S(d.expressions[_],I),""!==g)return g;return g;case"ObjectExpression":g="";for(let _=0;_<d.properties.length;_++){if(g="",null!==d.properties[_].key&&("Literal"!==d.properties[_].key.type&&"Identifier"!==d.properties[_].key.type&&(g=R(d,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===d.properties[_].key.type)){const J=d.properties[_].key,ue="value"in J?J.value:null;"string"==typeof ue||ue instanceof String||(g=R(d,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===g&&(g=S(d.properties[_],I)),""!==g)return g}return g;case"Property":return"Literal"!==d.key.type&&"Identifier"!==d.key.type?R(d,"SYNTAX","ONLYLITERAL"):("Identifier"!==d.key.type&&(g=S(d.key,I),""!==g)||(g=S(d.value,I)),g);default:return g}return g}catch(_){throw _}}function Y(d,I){let g=R(d,"SYNTAX","UNREOGNISED"),_=null,J="";try{switch(d.type){case"VariableDeclarator":{const ue=null===d.init?"":Y(d.init,I);return""!==ue?ue:("Identifier"===d.id.type&&(null===I.localScope?I.globalScope[d.id.name.toLowerCase()]={type:"any"}:I.localScope[d.id.name.toLowerCase()]={type:"any"}),"")}case"FunctionDeclaration":return _=z(d.id.name.toLowerCase(),d),J=function ie(d,I){const g={globalScope:I.globalScope,localScope:{}};for(let _=0;_<d.params.length;_++)g.localScope[d.params[_].name.toLowerCase()]={type:"any"};return Y(d.body,g)}(d,I),""!==J?J:null!==I.localScope?R(d,"SYNTAX","GLOBALFUNCTIONSONLY"):(_.isnative=!1,I.globalScope[d.id.name.toLowerCase()]={type:"FormulaFunction",signature:[_]},"");case"VariableDeclaration":g="";for(let ue=0;ue<d.declarations.length;ue++)if(g=Y(d.declarations[ue],I),""!==g)return g;return g;case"IfStatement":return g=Y(d.test,I),""!==g?g:"AssignmentExpression"===d.test.type||"UpdateExpression"===d.test.type?R(d.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):null!==d.consequent&&(g=Y(d.consequent,I),""!==g)||null!==d.alternate&&(g=Y(d.alternate,I),""!==g)?g:"";case"EmptyStatement":case"BreakStatement":case"ContinueStatement":case"Literal":case"TemplateElement":return"";case"BlockStatement":for(let ue=0;ue<d.body.length;ue++)if(g=Y(d.body[ue],I),""!==g)return g;return"";case"ReturnStatement":return null!==d.argument?Y(d.argument,I):"";case"ForInStatement":if("VariableDeclaration"===d.left.type){if(d.left.declarations.length>1)return R(d,"SYNTAX","ONLY1VAR");if(null!==d.left.declarations[0].init)return R(d,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==d.left.type)return R(d,"SYNTAX","LEFTNOTVAR");return g=Y(d.left,I),""!==g?g:(g=Y(d.right,I),""!==g?g:(g=Y(d.body,I),""!==g?g:""));case"ForStatement":return null!==d.init&&(g=Y(d.init,I),""!==g)||null!==d.test&&(g=Y(d.test,I),""!==g)||null!==d.body&&(g=Y(d.body,I),""!==g)||null!==d.update&&(g=Y(d.update,I),""!==g)?g:"";case"UpdateExpression":{if("Identifier"!==d.argument.type&&"MemberExpression"!==d.argument.type)return R(d,"SYNTAX","ASSIGNMENTTOVARSONLY");let ue=!1;return"MemberExpression"===d.argument.type?Y(d.argument,I):(null!==I.localScope&&void 0!==I.localScope[d.argument.name.toLowerCase()]&&(ue=!0),void 0!==I.globalScope[d.argument.name.toLowerCase()]&&(ue=!0),!1===ue?"Identifier "+d.argument.name+" has not been declared.":"")}case"AssignmentExpression":{if("Identifier"!==d.left.type&&"MemberExpression"!==d.left.type)return R(d,"SYNTAX","ASSIGNMENTTOVARSONLY");let ue=Y(d.right,I);if(""!==ue)return ue;let Ee=!1;return"MemberExpression"===d.left.type?(ue=Y(d.left,I),""!==ue?ue:""):(null!==I.localScope&&void 0!==I.localScope[d.left.name.toLowerCase()]&&(Ee=!0),void 0!==I.globalScope[d.left.name.toLowerCase()]&&(Ee=!0),!1===Ee?"Identifier "+d.left.name+" has not been declared.":"")}case"ExpressionStatement":return Y(d.expression,I);case"Identifier":{const ue=d.name.toLowerCase();if(null!==I.localScope&&void 0!==I.localScope[ue])return"";g=void 0!==I.globalScope[ue]?"":R(d,"SYNTAX","VARIABLENOTFOUND");break}case"MemberExpression":return g=Y(d.object,I),""!==g?g:!0===d.computed?Y(d.property,I):"";case"CallExpression":{if("Identifier"!==d.callee.type)return R(d,"SYNTAX","ONLYNODESSUPPORTED");g="";for(let Ee=0;Ee<d.arguments.length;Ee++)if(g=Y(d.arguments[Ee],I),""!==g)return g;const ue=le(d.callee.name,d.arguments,I);-1===ue&&(g=R(d,"SYNTAX","NOTFOUND")),-2===ue&&(g=R(d,"SYNTAX","WRONGSIGNATURE"));break}case"UnaryExpression":g=Y(d.argument,I);break;case"BinaryExpression":return g=Y(d.left,I),""!==g?g:(g=Y(d.right,I),""!==g?g:"");case"LogicalExpression":return g=Y(d.left,I),""!==g?g:"AssignmentExpression"===d.left.type||"UpdateExpression"===d.left.type?R(d.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):(g=Y(d.right,I),""!==g?g:"AssignmentExpression"===d.right.type||"UpdateExpression"===d.right.type?R(d.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"");case"ArrayExpression":g="";for(let ue=0;ue<d.elements.length;ue++)if(g=Y(d.elements[ue],I),""!==g)return g;return g;case"TemplateLiteral":g="";for(let ue=0;ue<d.quasis.length;ue++)if(g=Y(d.quasis[ue],I),""!==g)return g;for(let ue=0;ue<d.expressions.length;ue++)if(g=Y(d.expressions[ue],I),""!==g)return g;return g;case"ObjectExpression":g="";for(let ue=0;ue<d.properties.length;ue++){if(g="",null!==d.properties[ue].key&&("Literal"!==d.properties[ue].key.type&&"Identifier"!==d.properties[ue].key.type&&(g=R(d,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===d.properties[ue].key.type)){const Ee=d.properties[ue].key,Ue="value"in Ee?Ee.value:null;"string"==typeof Ue||Ue instanceof String||(g=R(d,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===g&&(g=Y(d.properties[ue],I)),""!==g)return g}return g;case"Property":return"Literal"!==d.key.type&&"Identifier"!==d.key.type?R(d,"SYNTAX","ONLYLITERAL"):("Identifier"!==d.key.type&&(g=Y(d.key,I),""!==g)||(g=Y(d.value,I)),g);default:return g}return g}catch(ue){throw ue}}function C(d,I){let g=!1;const _=I.toLowerCase();return D(d,J=>!g&&("Identifier"===J.type&&J.name&&J.name.toLowerCase()===_&&(g=!0),!0)),g}function x(d,I){let g=!1;const _=I.toLowerCase();return D(d,J=>!(g||"CallExpression"===J.type&&"Identifier"===J.callee.type&&J.callee.name&&J.callee.name.toLowerCase()===_&&(g=!0,1))),g}function Q(d){const I=[];return D(d,g=>"MemberExpression"!==g.type||"Identifier"!==g.object.type||(!1===g.computed&&g.object&&g.object.name&&g.property&&"Identifier"===g.property.type&&g.property.name?I.push(g.object.name.toLowerCase()+"."+g.property.name.toLowerCase()):g.object&&g.object.name&&g.property&&"Literal"===g.property.type&&"string"==typeof g.property.value&&I.push(g.object.name.toLowerCase()+"."+g.property.value.toString().toLowerCase()),!1)),I}function N(d){const I=[];return D(d,g=>{if("CallExpression"===g.type){if("Identifier"===g.callee.type&&"expects"===g.callee.name.toLowerCase()){let _="";for(let J=0;J<(g.arguments||[]).length;J++)0===J?"Identifier"===g.arguments[J].type&&(_=g.arguments[J].name.toLowerCase()):_&&"Literal"===g.arguments[J].type&&E(g.arguments[J].value)&&I.push(_+"."+g.arguments[J].value.toLowerCase());return!1}if("Identifier"===g.callee.type&&["domainname","domaincode","domain","haskey"].includes(g.callee.name.toLowerCase())&&g.arguments.length>=2){let _="";return"Identifier"===g.arguments[0].type&&(_=g.arguments[0].name.toLowerCase()),_&&"Literal"===g.arguments[1].type&&E(g.arguments[1].value)&&I.push(_+"."+g.arguments[1].value.toLowerCase()),!1}}return"MemberExpression"!==g.type||"Identifier"!==g.object.type||(!1===g.computed&&g.object&&g.object.name&&g.property&&"Identifier"===g.property.type&&g.property.name?I.push(g.object.name.toLowerCase()+"."+g.property.name.toLowerCase()):g.object&&g.object.name&&g.property&&"Literal"===g.property.type&&"string"==typeof g.property.value&&I.push(g.object.name.toLowerCase()+"."+g.property.value.toString().toLowerCase()),!1)}),I}function z(d,I){const g=[];if(null!=I.params)for(let _=0;_<I.params.length;_++)g.push("any");return{name:d,return:"any",params:g}}function Z(d,I,g,_){const J={};null==d&&(d={}),null==g&&(g={}),J.infinity={type:"any"},J.textformatting={type:"any"},J.pi={type:"any"};for(const ue in I)"sync"===_&&void 0!==I[ue].min?J[ue]={type:"FormulaFunction",signature:{min:I[ue].min,max:I[ue].max}}:"sync"!==_&&void 0!==I[ue].fmin&&(J[ue]={type:"FormulaFunction",signature:{min:I[ue].fmin,max:I[ue].fmax}});for(let ue=0;ue<g.length;ue++){const Ee=g[ue];J[Ee.name]={type:"FormulaFunction",signature:Ee}}for(const ue in d)J[ue]=d[ue],J[ue].type="any";return J}function L(d,I,g="async",_=G){const J={globalScope:Z(I.vars,_,I.customFunctions,g),localScope:null};return Y(d.body[0].body,J)}function $(d){return"BlockStatement"!==d.body[0].body.type?"Invalid formula content.":S(d.body[0].body)}function R(d,I,g){let _="";switch(I){case"SYNTAX":default:_="Syntax Error: ";break;case"RUNTIME":_="Runtime Error: "}try{switch(d.type){case"IfStatement":switch(g){case"CANNOT_USE_ASSIGNMENT_IN_CONDITION":_+=" Assignments not be made in logical tests";break;case"CANNOT_USE_NONBOOLEAN_IN_CONDITION":_+=" Non Boolean used as Condition"}break;case"UpdateExpression":case"AssignmentExpression":switch(g){case"CANNOT_USE_ASSIGNMENT_IN_CONDITION":_+=" Assignments not be made in logical tests";break;case"ASSIGNMENTTOVARSONLY":_+=" Assignments can only be made to identifiers"}break;case"ExpressionStatement":_+=" Assignments can only be made to identifiers";break;case"FunctionDeclaration":switch(g){case"GLOBALFUNCTIONSONLY":_+=" Functions cannot be declared as variables";break;case"FUNCTIONMUSTHAVEIDENTIFIER":_+=" Function Definition must have an identifier"}break;case"VariableDeclaration":_+=" Only 1 variable can be declared at a time";break;case"VariableDeclarator":switch(g){case"FUNCTIONVARIABLEDECLARATOR":_+=" Functions cannot be declared as variables";break;case"VARIABLEMUSTHAVEIDENTIFIER":_+=" Variable Definition must have an identifier"}break;case"Identifier":_+=" Identifier Not Found. ",_+=d.name;break;case"ObjectExpression":"OBJECTPROPERTYMUSTBESTRING"===g&&(_+=" Property name must be a string");break;case"ForStatement":"CANNOT_USE_NONBOOLEAN_IN_CONDITION"===g&&(_+=" Non Boolean used as Condition");break;case"ForInStatement":switch(g){case"ONLY1VAR":_+=" Can only declare 1 var for use with IN";break;case"CANNOTDECLAREVAL":_+=" Can only declare value for use with IN";break;case"LEFTNOVAR":_+="Must provide a variable to iterate with.";break;case"VARIABLENOTDECLARED":_+="Variable must be declared before it is used..";break;case"CANNOTITERATETHISTYPE":_+="This type cannot be used in an IN loop"}break;case"MemberExpression":switch(g){case"PROPERTYNOTFOUND":_+="Cannot find member property. ",_+=!1===d.computed&&"Identifier"===d.property.type?d.property.name:"";break;case"OUTOFBOUNDS":_+="Out of Bounds. ",_+=!1===d.computed&&"Identifier"===d.property.type?d.property.name:"";break;case"NOTFOUND":_+="Cannot call member method on null. ",_+=!1===d.computed&&"Identifier"===d.property.type?d.property.name:"";break;case"INVALIDTYPE":_+="Cannot call member property on object of this type. ",_+=!1===d.computed&&"Identifier"===d.property.type?d.property.name:""}break;case"Property":"ONLYLITERAL"===g&&(_+="Property names must be literals or identifiers");break;case"Literal":break;case"CallExpression":switch(g){case"WRONGSIGNATURE":_+="Function signature does not match: ",_+="Identifier"===d.callee.type?d.callee.name:"";break;case"ONLYNODESUPPORTED":_+="Functions must be declared.",_+="Identifier"===d.callee.type?d.callee.name:"";break;case"NOTAFUNCTION":_+="Not a Function: ",_+="Identifier"===d.callee.type?d.callee.name:"";break;case"NOTFOUND":_+="Function Not Found: "+("Identifier"===d.callee.type?d.callee.name:"")}break;case"UnaryExpression":switch(g){case"NOTSUPPORTEDUNARYOPERATOR":_+="Operator "+d.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case"NOTSUPPORTEDTYPE":_+="Unary operator "+d.operator+" cannot be used with this argument."}case"BinaryExpression":"OPERATORNOTRECOGNISED"===g&&(_+="Binary Operator not recognised "+d.operator);break;case"LogicalExpression":switch(g){case"ONLYBOOLEAN":_+="Operator "+d.operator+" cannot be used. Only || or && are allowed values";break;case"ONLYORORAND":_+="Logical Expression "+d.operator+" being applied to parameters that are not boolean."}break;case"ArrayExpression":"FUNCTIONCONTEXTILLEGAL"===g&&(_+=" Cannot Put Function inside Array.");break;default:_+="Expression contains unrecognised code structures."}}catch(J){throw J}return _}function w(d,I,g){return{line:d.loc.start.line,character:d.loc.start.column,reason:R(d,I,g)}}function se(d,I,g,_,J=!0){if(null===d)throw new Error("Unnexpexted Expression Syntax");let ue=null;try{switch(d.type){case"VariableDeclarator":return"Identifier"!==d.id.type?_.push(w(d,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(d.id.name.toLowerCase(),null===I.localScope?I.globalScope[d.id.name.toLowerCase()]={type:"any"}:I.localScope[d.id.name.toLowerCase()]={type:"any"}),void(null!==d.init&&se(d.init,I,g,_,J));case"FunctionDeclaration":return!1===J&&_.push(w(d,"SYNTAX","GLOBALFUNCTIONSONLY")),"Identifier"!==d.id.type&&_.push(w(d,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER")),ue=z("",d),function X(d,I,g,_){const J={globalScope:I.globalScope,localScope:{}};for(let ue=0;ue<d.params.length;ue++)J.localScope[d.params[ue].name.toLowerCase()]={type:"any"};se(d.body,J,g,_,!1)}(d,I,g,_),null!==I.localScope&&_.push(w(d,"SYNTAX","GLOBALFUNCTIONSONLY")),ue.isnative=!1,void("Identifier"===d.id.type&&(I.globalScope[d.id.name.toLowerCase()]={type:"FormulaFunction",signature:[ue]}));case"VariableDeclaration":for(let Ee=0;Ee<d.declarations.length;Ee++)se(d.declarations[Ee],I,g,_,J);return;case"IfStatement":return null!==d.test&&(se(d.test,I,g,_,J),"AssignmentExpression"!==d.test.type&&"UpdateExpression"!==d.test.type||_.push(w(d.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"))),null!==d.consequent&&se(d.consequent,I,g,_,J),void(null!==d.alternate&&se(d.alternate,I,g,_,J));case"EmptyStatement":case"BreakStatement":case"ContinueStatement":case"Literal":case"TemplateElement":return;case"BlockStatement":if(null!==d.body)for(let Ee=0;Ee<d.body.length;Ee++)se(d.body[Ee],I,g,_,J);return;case"ReturnStatement":return void(null!==d.argument&&se(d.argument,I,g,_,J));case"ForInStatement":return"VariableDeclaration"===d.left.type?(d.left.declarations.length>1&&_.push(w(d,"SYNTAX","ONLY1VAR")),null!==d.left.declarations[0].init&&_.push(w(d,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==d.left.type&&_.push(w(d,"SYNTAX","LEFTNOTVAR")),se(d.left,I,g,_,J),se(d.right,I,g,_,J),void se(d.body,I,g,_,J);case"ForStatement":return null!==d.init&&se(d.init,I,g,_,J),null!==d.test&&se(d.test,I,g,_,J),null!==d.body&&se(d.body,I,g,_,J),void(null!==d.update&&se(d.update,I,g,_,J));case"UpdateExpression":if("Identifier"!==d.argument.type&&"MemberExpression"!==d.argument.type)_.push(w(d,"SYNTAX","ASSIGNMENTTOVARSONLY"));else{if("Identifier"===d.argument.type){let Ee=!1;!1===g&&(null!==I.localScope&&void 0!==I.localScope[d.argument.name.toLowerCase()]&&(Ee=!0),void 0!==I.globalScope[d.argument.name.toLowerCase()]&&(Ee=!0),!1===Ee&&_.push({line:null===d?0:d.loc.start.line,character:null===d?0:d.loc.start.column,reason:"Identifier "+d.argument.name+" has not been declared."}))}"MemberExpression"===d.argument.type&&se(d.argument,I,g,_,J)}return;case"AssignmentExpression":{switch("Identifier"!==d.left.type&&"MemberExpression"!==d.left.type&&_.push(w(d,"SYNTAX","ASSIGNMENTTOVARSONLY")),d.operator){case"=":case"/=":case"*=":case"%=":case"+=":case"-=":break;default:_.push(w(d,"SYNTAX","OPERATORNOTRECOGNISED"))}se(d.right,I,g,_,J);let Ee=!1;return"Identifier"===d.left.type&&(null!==I.localScope&&void 0!==I.localScope[d.left.name.toLowerCase()]&&(Ee=!0),void 0!==I.globalScope[d.left.name.toLowerCase()]&&(Ee=!0),!1===g&&!1===Ee&&_.push({line:null===d?0:d.loc.start.line,character:null===d?0:d.loc.start.column,reason:"Identifier "+d.left.name+" has not been declared."})),void("MemberExpression"===d.left.type&&se(d.left,I,g,_,J))}case"ExpressionStatement":return void se(d.expression,I,g,_,J);case"Identifier":{const Ee=d.name.toLowerCase();if(null!==I.localScope&&void 0!==I.localScope[Ee]||void 0!==I.globalScope[Ee])return;!1===g&&_.push(w(d,"SYNTAX","VARIABLENOTFOUND"));break}case"MemberExpression":return se(d.object,I,g,_,J),void(!0===d.computed&&se(d.property,I,g,_,J));case"CallExpression":"Identifier"!==d.callee.type&&_.push(w(d,"SYNTAX","ONLYNODESSUPPORTED"));for(let Ee=0;Ee<d.arguments.length;Ee++)se(d.arguments[Ee],I,g,_,J);if("Identifier"===d.callee.type){const Ee=le(d.callee.name,d.arguments,I);!1===g&&-1===Ee&&_.push(w(d,"SYNTAX","NOTFOUND")),-2===Ee&&_.push(w(d,"SYNTAX","WRONGSIGNATURE"))}return;case"UnaryExpression":return void se(d.argument,I,g,_,J);case"BinaryExpression":switch(se(d.left,I,g,_,J),se(d.right,I,g,_,J),d.operator){case"==":case"!=":case"<":case"<=":case">":case">=":case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"<<":case">>":case">>>":break;default:_.push(w(d,"SYNTAX","OPERATORNOTRECOGNISED"))}return;case"LogicalExpression":switch(d.operator){case"&&":case"||":break;default:_.push(w(d,"SYNTAX","OPERATORNOTRECOGNISED"))}return se(d.left,I,g,_,J),"AssignmentExpression"!==d.left.type&&"UpdateExpression"!==d.left.type||_.push(w(d,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")),se(d.right,I,g,_,J),void("AssignmentExpression"!==d.right.type&&"UpdateExpression"!==d.right.type||_.push(w(d,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));case"ArrayExpression":for(let Ee=0;Ee<d.elements.length;Ee++)se(d.elements[Ee],I,g,_,J);return;case"TemplateLiteral":for(let Ee=0;Ee<d.quasis.length;Ee++)se(d.quasis[Ee],I,g,_,J);for(let Ee=0;Ee<d.expressions.length;Ee++)se(d.expressions[Ee],I,g,_,J);return;case"ObjectExpression":for(let Ee=0;Ee<d.properties.length;Ee++)se(d.properties[Ee],I,g,_,J);return;case"Property":return"Literal"!==d.key.type&&"Identifier"!==d.key.type&&_.push(w(d,"SYNTAX","ONLYLITERAL")),"Literal"===d.key.type&&se(d.key,I,g,_,J),void se(d.value,I,g,_,J);default:_.push(w(d,"SYNTAX","UNRECOGNISED"))}return}catch{_.push({line:null===d?0:d.loc.start.line,character:null===d?0:d.loc.start.column,reason:"Unnexpected Syntax"})}}function p(d,I,g,_="async",J=G){const ue=[];if("BlockStatement"!==d.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];null==I&&(I={vars:{},customFunctions:[]});const Ee={globalScope:Z(I.vars,J,I.customFunctions,_),localScope:null};try{se(d.body[0].body,Ee,g,ue)}catch{}return ue}function V(d){const I=[];return D(d,g=>("CallExpression"===g.type&&"Identifier"===g.callee.type&&I.push(g.callee.name.toLowerCase()),!0)),I}function ne(d,I=[]){let g=null;if(void 0===d.usesFeatureSet){null===g&&(g=V(d)),d.usesFeatureSet=!1;for(let _=0;_<g.length;_++)me.includes(g[_])&&(d.usesFeatureSet=!0,d.isAsync=!0);if(!1===d.usesFeatureSet&&I&&I.length>0)for(const _ of I)if(C(d,_)){d.usesFeatureSet=!0,d.isAsync=!0;break}}if(void 0===d.usesGeometry){d.usesGeometry=!1,null===g&&(g=V(d));for(let _=0;_<g.length;_++)W.includes(g[_])&&(d.usesGeometry=!0)}}},67525:(Re,Fe,ee)=>{ee.d(Fe,{A:()=>le});var G=ee(15861),me=ee(7652),W=ee(98362),E=ee(47562),he=ee(10699);const le=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:function oe(T){function D(Y,C){if(C instanceof me.Z)return T.arcadeCustomFunctionHandler(C);if(C instanceof E.N)return(...x)=>C.fn(Y,{preparsed:!0,arguments:x});if(C instanceof E.S)return(...x)=>{if(x.length!==C.paramCount)throw new Error("Invalid parameters");return C.fn(...x)};throw new Error("Invalid Parameter")}function S(Y){if(Y instanceof W.Z)return Y.toArray();if((0,E.l)(Y))return Y;throw new Error("Invalid Parameter")}T.functions.array=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){(0,E.p)(N,1,2);const z=(0,E.f)(N[0]);if(isNaN(z)||!1===(0,E.B)(z))throw new Error("Invalid Parameter");const ie=(0,E.C)(N[1],null),Z=new Array(z);return Z.fill(ie),Z})},T.functions.front=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,1,1),(0,E.n)(N[0])){if(N[0].length()<=0)throw new Error("Array is empty");return N[0].get(0)}if((0,E.l)(N[0])){if(N[0].length<=0)throw new Error("Array is empty");return N[0][0]}throw new Error("Invalid Parameter")})},T.functions.back=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,1,1),(0,E.n)(N[0])){if(N[0].length()<=0)throw new Error("Array is empty");return N[0].get(N[0].length()-1)}if((0,E.l)(N[0])){if(N[0].length<=0)throw new Error("Array is empty");return N[0][N[0].length-1]}throw new Error("Invalid Parameter")})},T.functions.push=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,1,2),(0,E.l)(N[0]))return N[0][N[0].length]=N[1],N[0].length;throw new Error("Invalid Parameter")})},T.functions.pop=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,1,1),(0,E.l)(N[0])){if(N[0].length<=0)throw new Error("Array is empty");const z=N[0][N[0].length-1];return N[0].length=N[0].length-1,z}throw new Error("Invalid Parameter")})},T.functions.erase=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,2,2),(0,E.l)(N[0])){let z=(0,E.f)(N[1]);if(isNaN(z)||!1===(0,E.B)(z))throw new Error("Invalid Parameter");const ie=N[0];if(ie.length<=0)throw new Error("Array is empty");if(z<0&&(z=ie.length+z),z<0)throw new Error("Element not found");if(z>=ie.length)throw new Error("Index is greater than array");return ie.splice(z,1),E.v}throw new Error("Invalid Parameter")})},T.functions.insert=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,3,3),(0,E.l)(N[0])){const z=(0,E.f)(N[1]);if(isNaN(z)||!1===(0,E.B)(z))throw new Error("Invalid Parameter");const ie=N[2],Z=N[0];if(z>Z.length)throw new Error("Index is greater than array");if(z<0&&z<-1*Z.length)throw new Error("Index is greater than array");return z===Z.length?(Z[z]=ie,E.v):(Z.splice(z,0,ie),E.v)}throw new Error("Invalid Parameter")})},T.functions.resize=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,2,3),(0,E.l)(N[0])){const z=(0,E.f)(N[1]);if(isNaN(z)||!1===(0,E.B)(z))throw new Error("Invalid Parameter");if(z<0)throw new Error("Size cannot be negative");const ie=(0,E.C)(N[2],null),Z=N[0];if(Z.length>=z)return Z.length=z,E.v;const L=Z.length;Z.length=z;for(let $=L;$<Z.length;$++)Z[$]=ie;return E.v}throw new Error("Invalid Parameter")})},T.functions.includes=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,2,2),(0,E.l)(N[0])){const z=N[1];return N[0].findIndex(ie=>(0,E.m)(ie,z))>-1}if((0,E.n)(N[0])){const z=N[1];return N[0].toArray().findIndex(ie=>(0,E.m)(ie,z))>-1}throw new Error("Invalid Parameter")})},T.functions.slice=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){if((0,E.p)(N,1,3),(0,E.l)(N[0])){const z=(0,E.f)((0,E.C)(N[1],0)),ie=(0,E.f)((0,E.C)(N[2],N[0].length));if(isNaN(z)||!1===(0,E.B)(z))throw new Error("Invalid Parameter");if(isNaN(ie)||!1===(0,E.B)(ie))throw new Error("Invalid Parameter");return N[0].slice(z,ie)}if((0,E.n)(N[0])){const z=N[0],ie=(0,E.f)((0,E.C)(N[1],0)),Z=(0,E.f)((0,E.C)(N[2],z.length()));if(isNaN(ie)||!1===(0,E.B)(ie))throw new Error("Invalid Parameter");if(isNaN(Z)||!1===(0,E.B)(Z))throw new Error("Invalid Parameter");return z.toArray().slice(ie,Z)}throw new Error("Invalid Parameter")})},T.functions.splice=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){const z=[];for(let ie=0;ie<N.length;ie++)(0,E.l)(N[ie])?z.push(...N[ie]):(0,E.n)(N[ie])?z.push(...N[ie].toArray()):z.push(N[ie]);return z})},"sync"===T.mode&&(T.functions.any=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){(0,E.p)(N,2,2);const z=D(Y,N[1]),ie=S(N[0]);for(const Z of ie){const L=z(Z);if((0,E.i)(L)&&!0===L)return!0}return!1})},T.functions.all=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){(0,E.p)(N,2,2);const z=D(Y,N[1]),ie=S(N[0]);for(const Z of ie)if(!0!==z(Z))return!1;return!0})},T.functions.none=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){(0,E.p)(N,2,2);const z=D(Y,N[1]),ie=S(N[0]);for(const Z of ie)if(!0===z(Z))return!1;return!0})},T.functions.reduce=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){(0,E.p)(N,2,3);const z=D(Y,N[1]),ie=S(N[0]);return 2===N.length?0===ie.length?null:ie.reduce((Z,L)=>{const $=z(Z,L);return void 0!==$&&$!==E.v?$:null}):ie.reduce((Z,L)=>{const $=z(Z,L);return void 0!==$&&$!==E.v?$:null},N[2])})},T.functions.map=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){(0,E.p)(N,2,2);const z=D(Y,N[1]),ie=S(N[0]),Z=[];for(const L of ie){const $=z(L);Z.push(void 0!==$&&$!==E.v?$:null)}return Z})},T.functions.filter=function(Y,C){return T.standardFunction(Y,C,function(x,Q,N){(0,E.p)(N,2,2);const z=D(Y,N[1]),ie=S(N[0]),Z=[];for(const L of ie)!0===z(L)&&Z.push(L);return Z})}),"async"===T.mode&&(T.functions.any=function(Y,C){return T.standardFunctionAsync(Y,C,function(){var x=(0,G.Z)(function*(Q,N,z){(0,E.p)(z,2,2);const ie=D(Y,z[1]),Z=S(z[0]);for(const L of Z){const $=yield ie(L);let R=null;if(R=(0,he.y8)(R)?yield $:$,(0,E.i)(R)&&!0===R)return!0}return!1});return function(Q,N,z){return x.apply(this,arguments)}}())},T.functions.all=function(Y,C){return T.standardFunctionAsync(Y,C,function(){var x=(0,G.Z)(function*(Q,N,z){(0,E.p)(z,2,2);const ie=D(Y,z[1]),Z=S(z[0]);for(const L of Z){const $=yield ie(L);let R=null;if(R=(0,he.y8)(R)?yield $:$,!0!==R)return!1}return!0});return function(Q,N,z){return x.apply(this,arguments)}}())},T.functions.none=function(Y,C){return T.standardFunctionAsync(Y,C,function(){var x=(0,G.Z)(function*(Q,N,z){(0,E.p)(z,2,2);const ie=D(Y,z[1]),Z=S(z[0]);for(const L of Z){const $=yield ie(L);let R=null;if(R=(0,he.y8)(R)?yield $:$,!0===R)return!1}return!0});return function(Q,N,z){return x.apply(this,arguments)}}())},T.functions.filter=function(Y,C){return T.standardFunctionAsync(Y,C,function(){var x=(0,G.Z)(function*(Q,N,z){(0,E.p)(z,2,2);const ie=D(Y,z[1]),Z=S(z[0]),L=[];for(const $ of Z){const R=yield ie($);let w=null;w=(0,he.y8)(w)?yield R:R,!0===w&&L.push($)}return L});return function(Q,N,z){return x.apply(this,arguments)}}())},T.functions.reduce=function(Y,C){return T.standardFunctionAsync(Y,C,function(x,Q,N){(0,E.p)(N,2,3);const z=D(Y,N[1]),ie=S(N[0]);let Z=null;if(N.length>2){const L=(0,E.C)(N[2],null);Z=ie.reduce(function(){var $=(0,G.Z)(function*(R,w){let X=yield R;return void 0!==X&&X!==E.v||(X=null),z(X,w)});return function(R,w){return $.apply(this,arguments)}}(),Promise.resolve(L))}else{if(0===ie.length)return null;Z=ie.reduce(function(){var L=(0,G.Z)(function*($,R,w){if(w<=1)return z($,R);let X=yield $;return void 0!==X&&X!==E.v||(X=null),z(X,R)});return function($,R,w){return L.apply(this,arguments)}}())}return Z.then(L=>void 0!==L&&L!==E.v?L:null)})},T.functions.map=function(Y,C){return T.standardFunctionAsync(Y,C,function(){var x=(0,G.Z)(function*(Q,N,z){(0,E.p)(z,2,2);const ie=D(Y,z[1]),Z=S(z[0]),L=[];for(const $ of Z){const R=yield ie($);let w=null;w=(0,he.y8)(w)?yield R:R,L.push(void 0!==w&&w!==E.v?w:null)}return L});return function(Q,N,z){return x.apply(this,arguments)}}())})}},Symbol.toStringTag,{value:"Module"}))},75068:(Re,Fe,ee)=>{ee.r(Fe),ee.d(Fe,{Dictionary:()=>he.Z,arcade:()=>Kr,arcadeFeature:()=>oe.Z,convertFeatureLayerToFeatureSet:()=>hi,convertMapToFeatureSetCollection:()=>fi,convertServiceUrlToWorkspace:()=>ci,createExecContext:()=>ei,createFeature:()=>ti,createFunction:()=>qr,createSyntaxTree:()=>dt,dependsOnView:()=>oi,enableFeatureSetOperations:()=>pi,enableGeometryOperations:()=>di,evalSyntaxTree:()=>ri,executeAsyncFunction:()=>si,executeFunction:()=>ii,extractFieldNames:()=>ai,getArcadeType:()=>Qr,getViewInfo:()=>li,hasGeometryFunctions:()=>Ai,hasGeometryOperations:()=>Ci,hasVariable:()=>ui,loadScriptDependencies:()=>mi,updateExecContext:()=>ni}),ee(29132);var me=ee(15861),W=ee(37780),E=ee(22386),he=ee(6729),oe=ee(42275),le=ee(5371),T=ee(26685),D=ee(47562),S=ee(19927),Y=ee(67525),C=ee(84228),x=ee(24499),Q=ee(63461),N=ee(53840),z=ee(97536),ie=ee(31975),Z=ee(10699),L=ee(2004),$=ee(21674),R=ee(72854),w=ee(49672),X=ee(37118),se=ee(55214),p=ee(65234);function ne(u,o,h){try{return h(u,null,o.arguments)}catch(f){throw f}}function te(u,o){try{switch(o.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclarator":return function Dt(u,o){let h=null===o.init?null:te(u,o.init);h===D.v&&(h=null);const f=o.id.name.toLowerCase();if(null!==u.localScope){if(void 0!==u.localScope[f])return"lscope['"+f+"']="+h+"; ";if(void 0!==u.localScope._SymbolsMap[f])return"lscope['"+u.localScope._SymbolsMap[f]+"']="+h+"; ";{const m=it(u);return u.localScope._SymbolsMap[f]=m,u.mangleMap[f]=m,"lscope['"+m+"']="+h+"; "}}if(void 0!==u.globalScope[f])return"gscope['"+f+"']="+h+"; ";if(void 0!==u.globalScope._SymbolsMap[f])return"gscope['"+u.globalScope._SymbolsMap[f]+"']="+h+"; ";{const m=it(u);return u.globalScope._SymbolsMap[f]=m,u.mangleMap[f]=m,"gscope['"+m+"']="+h+"; "}}(u,o);case"VariableDeclaration":return function pt(u,o){const h=[];for(let f=0;f<o.declarations.length;f++)h.push(te(u,o.declarations[f]));return h.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(u,o);case"BlockStatement":return Qe(u,o);case"FunctionDeclaration":return function ut(u,o){const h=o.id.name.toLowerCase(),f={isAsync:u.isAsync,spatialReference:u.spatialReference,console:u.console,lrucache:u.lrucache,interceptor:u.interceptor,services:u.services,symbols:u.symbols,mangleMap:u.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:u.depthCounter+1,globalScope:u.globalScope};if(f.depthCounter>64)throw new Error("Exceeded maximum function depth");let m="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";for(let v=0;v<o.params.length;v++){const re=o.params[v].name.toLowerCase(),ae=it(u);f.localScope._SymbolsMap[re]=ae,f.mangleMap[re]=ae,m+="lscope['"+ae+"']=arguments["+v.toString()+"];\n"}if(!0===u.isAsync?(m+="return lang.__awaiter(this, void 0, void 0, function* () {\n",m+=Qe(f,o.body)+"\n return lastStatement; ",m+="});  }",m+=", runtimeCtx),"+o.params.length+")",m+="\n lastStatement = lc.voidOperation; \n"):(m+=Qe(f,o.body)+"\n return lastStatement; }, runtimeCtx),"+o.params.length+")",m+="\n lastStatement = lc.voidOperation; \n"),void 0!==u.globalScope[h])return"gscope['"+h+"']="+m;if(void 0!==u.globalScope._SymbolsMap[h])return"gscope['"+u.globalScope._SymbolsMap[h]+"']="+m;{const v=it(u);return u.globalScope._SymbolsMap[h]=v,u.mangleMap[h]=v,"gscope['"+v+"']="+m}}(u,o);case"ReturnStatement":return function ot(u,o){return null===o.argument?"return lc.voidOperation":"return "+te(u,o.argument)}(u,o);case"IfStatement":return function Ue(u,o){if("AssignmentExpression"===o.test.type||"UpdateExpression"===o.test.type)throw new Error((0,S.H5)(o.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const h=te(u,o.test),f=Xe(u);let m="var "+f+" = "+h+";\n if ("+f+" === true) {\n"+Ee(u,o.consequent)+"\n }\n";return m+=null!==o.alternate?"else if ("+f+"===false)   { \n"+Ee(u,o.alternate)+"}\n":"else if ("+f+"===false) { \n lastStatement = lc.voidOperation;\n }\n",m+="else { lang.error({type: '"+o.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n",m}(u,o);case"ExpressionStatement":return function ue(u,o){return"AssignmentExpression"===o.expression.type?"lastStatement = lc.voidOperation; "+te(u,o.expression)+"; \n ":"lastStatement = "+te(u,o.expression)+"; "}(u,o);case"AssignmentExpression":return function J(u,o){const h=te(u,o.right);let f=null,m="";if("MemberExpression"===o.left.type)return f=te(u,o.left.object),m=!0===o.left.computed?te(u,o.left.property):"'"+o.left.property.name+"'","lang.assignmember("+f+","+m+",'"+o.operator+"',"+h+")";if(f=o.left.name.toLowerCase(),null!==u.localScope){if(void 0!==u.localScope[f])return"lscope['"+f+"']=lang.assign("+h+",'"+o.operator+"', lscope['"+f+"'])";if(void 0!==u.localScope._SymbolsMap[f])return"lscope['"+u.localScope._SymbolsMap[f]+"']=lang.assign("+h+",'"+o.operator+"', lscope['"+u.localScope._SymbolsMap[f]+"'])"}if(void 0!==u.globalScope[f])return"gscope['"+f+"']=lang.assign("+h+",'"+o.operator+"', gscope['"+f+"'])";if(void 0!==u.globalScope._SymbolsMap[f])return"gscope['"+u.globalScope._SymbolsMap[f]+"']=lang.assign("+h+",'"+o.operator+"', gscope['"+u.globalScope._SymbolsMap[f]+"'])";throw new Error("Variable not recognised")}(u,o);case"UpdateExpression":return function _(u,o){let h=null,f="";if("MemberExpression"===o.argument.type)return h=te(u,o.argument.object),f=!0===o.argument.computed?te(u,o.argument.property):"'"+o.argument.property.name+"'","lang.memberupdate("+h+","+f+",'"+o.operator+"',"+o.prefix+")";if(h=o.argument.name.toLowerCase(),null!==u.localScope){if(void 0!==u.localScope[h])return"lang.update(lscope, '"+h+"','"+o.operator+"',"+o.prefix+")";if(void 0!==u.localScope._SymbolsMap[h])return"lang.update(lscope, '"+u.localScope._SymbolsMap[h]+"','"+o.operator+"',"+o.prefix+")"}if(void 0!==u.globalScope[h])return"lang.update(gscope, '"+h+"','"+o.operator+"',"+o.prefix+")";if(void 0!==u.globalScope._SymbolsMap[h])return"lang.update(gscope, '"+u.globalScope._SymbolsMap[h]+"','"+o.operator+"',"+o.prefix+")";throw new Error("Variable not recognised")}(u,o);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"TemplateLiteral":return function qe(u,o){try{const h=[];let f=0;for(const m of o.quasis)h.push(m.value?JSON.stringify(m.value.cooked):JSON.stringify("")),!1===m.tail&&(h.push(o.expressions[f]?"lang.castString(lang.aCheck("+te(u,o.expressions[f])+", 'TemplateLiteral'))":""),f++);return"(["+h.join(",")+"]).join('')"}catch(h){throw h}}(u,o);case"TemplateElement":return JSON.stringify(o.value?o.value.cooked:"");case"ForStatement":return function g(u,o){let h="lastStatement = lc.voidOperation; \n";null!==o.init&&(h+=te(u,o.init)+"; ");const f=Xe(u),m=Xe(u);return h+="var "+f+" = true; ",h+="\n do { ",null!==o.update&&(h+=" if ("+f+"===false) {\n "+te(u,o.update)+"  \n}\n "+f+"=false; \n"),null!==o.test&&(h+="var "+m+" = "+te(u,o.test)+"; ",h+="if ("+m+"===false) { break; } else if ("+m+"!==true) { lang.error({type: '"+o.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n"),h+=te(u,o.body),null!==o.update&&(h+="\n "+te(u,o.update)),h+="\n"+f+" = true; \n} while(true);  lastStatement = lc.voidOperation; ",h}(u,o);case"ForInStatement":return function I(u,o){const h=Xe(u),f=Xe(u),m=Xe(u);let v="var "+h+" = "+te(u,o.right)+";\n";"VariableDeclaration"===o.left.type&&(v+=te(u,o.left));let re="VariableDeclaration"===o.left.type?o.left.declarations[0].id.name:o.left.name;re=re.toLowerCase();let ae="";return null!==u.localScope&&(void 0!==u.localScope[re]?ae="lscope['"+re+"']":void 0!==u.localScope._SymbolsMap[re]&&(ae="lscope['"+u.localScope._SymbolsMap[re]+"']")),""===ae&&(void 0!==u.globalScope[re]?ae="gscope['"+re+"']":void 0!==u.globalScope._SymbolsMap[re]&&(ae="gscope['"+u.globalScope._SymbolsMap[re]+"']")),v+="if ("+h+"===null) {  lastStatement = lc.voidOperation; }\n ",v+="else if (lc.isArray("+h+") || lc.isString("+h+")) {",v+="var "+f+"="+h+".length; \n",v+="for(var "+m+"=0; "+m+"<"+f+"; "+m+"++) {\n",v+=ae+"="+m+";\n",v+=te(u,o.body),v+="\n}\n",v+=" lastStatement = lc.voidOperation; \n",v+=" \n}\n",v+="else if (lc.isImmutableArray("+h+")) {",v+="var "+f+"="+h+".length(); \n",v+="for(var "+m+"=0; "+m+"<"+f+"; "+m+"++) {\n",v+=ae+"="+m+";\n",v+=te(u,o.body),v+="\n}\n",v+=" lastStatement = lc.voidOperation; \n",v+=" \n}\n",v+="else if (( "+h+" instanceof lang.Dictionary) || ( "+h+" instanceof lang.Feature)) {",v+="var "+f+"="+h+".keys(); \n",v+="for(var "+m+"=0; "+m+"<"+f+".length; "+m+"++) {\n",v+=ae+"="+f+"["+m+"];\n",v+=te(u,o.body),v+="\n}\n",v+=" lastStatement = lc.voidOperation; \n",v+=" \n}\n",u.isAsync&&(v+="else if (lc.isFeatureSet("+h+")) {",v+="var "+f+"="+h+".iterator(runtimeCtx.abortSignal); \n",v+="for(var "+m+"=lang. graphicToFeature( yield "+f+".next(),"+h+"); "+m+"!=null; "+m+"=lang. graphicToFeature( yield "+f+".next(),"+h+")) {\n",v+=ae+"="+m+";\n",v+=te(u,o.body),v+="\n}\n",v+=" lastStatement = lc.voidOperation; \n",v+=" \n}\n"),v+="else { lastStatement = lc.voidOperation; } \n",v}(u,o);case"Identifier":return function vt(u,o){try{const h=o.name.toLowerCase();if(null!==u.localScope){if(void 0!==u.localScope[h])return"lscope['"+h+"']";if(void 0!==u.localScope._SymbolsMap[h])return"lscope['"+u.localScope._SymbolsMap[h]+"']"}if(void 0!==u.globalScope[h])return"gscope['"+h+"']";if(void 0!==u.globalScope._SymbolsMap[h])return"gscope['"+u.globalScope._SymbolsMap[h]+"']";throw new Error((0,S.H5)(o,"RUNTIME","VARIABLENOTFOUND"))}catch(h){throw h}}(u,o);case"MemberExpression":return function ve(u,o){try{let h;return h=!0===o.computed?te(u,o.property):"'"+o.property.name+"'","lang.member("+te(u,o.object)+","+h+")"}catch(h){throw h}}(u,o);case"Literal":return null==o.value?"null":JSON.stringify(o.value);case"ThisExpression":case"ConditionalExpression":case"Array":throw new Error((0,S.H5)(o,"RUNTIME","NOTSUPPORTED"));case"CallExpression":return function Tt(u,o){try{if("Identifier"!==o.callee.type)throw new Error((0,S.H5)(o,"RUNTIME","ONLYNODESSUPPORTED"));const h=o.callee.name.toLowerCase();let f="";if(null!==u.localScope&&(void 0!==u.localScope[h]?f="lscope['"+h+"']":void 0!==u.localScope._SymbolsMap[h]&&(f="lscope['"+u.localScope._SymbolsMap[h]+"']")),""===f&&(void 0!==u.globalScope[h]?f="gscope['"+h+"']":void 0!==u.globalScope._SymbolsMap[h]&&(f="gscope['"+u.globalScope._SymbolsMap[h]+"']")),""!==f){let m="[";for(let v=0;v<o.arguments.length;v++)v>0&&(m+=", "),m+=te(u,o.arguments[v]);return m+="]",u.isAsync?"(yield lang.callfunc("+f+","+m+",runtimeCtx) )":"lang.callfunc("+f+","+m+",runtimeCtx)"}throw new Error((0,S.H5)(o,"RUNTIME","NOTFOUND"))}catch(h){throw h}}(u,o);case"UnaryExpression":return function gt(u,o){try{return"lang.unary("+te(u,o.argument)+",'"+o.operator+"')"}catch(h){throw h}}(u,o);case"BinaryExpression":return function lt(u,o){try{return"lang.binary("+te(u,o.left)+","+te(u,o.right)+",'"+o.operator+"')"}catch(h){throw h}}(u,o);case"LogicalExpression":return function It(u,o){try{if("AssignmentExpression"===o.left.type||"UpdateExpression"===o.left.type)throw new Error((0,S.H5)(o.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===o.right.type||"UpdateExpression"===o.right.type)throw new Error((0,S.H5)(o.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("&&"===o.operator||"||"===o.operator)return"(lang.logicalCheck("+te(u,o.left)+") "+o.operator+" lang.logicalCheck("+te(u,o.right)+"))";throw new Error((0,S.H5)(o,"RUNTIME","ONLYORORAND"))}catch(h){throw h}}(u,o);case"ArrayExpression":return function ke(u,o){try{const h=[];for(let f=0;f<o.elements.length;f++)h.push("Literal"===o.elements[f].type?te(u,o.elements[f]):"lang.aCheck("+te(u,o.elements[f])+",'ArrayExpression')");return"["+h.join(",")+"]"}catch(h){throw h}}(u,o);case"ObjectExpression":return function ye(u,o){let h="lang.dictionary([";for(let f=0;f<o.properties.length;f++){const m=o.properties[f];f>0&&(h+=","),h+="lang.strCheck("+("Identifier"===m.key.type?"'"+m.key.name+"'":te(u,m.key))+",'ObjectExpression'),lang.aCheck("+te(u,m.value)+", 'ObjectExpression')"}return h+="])",h}(u,o);case"Property":return function d(u,o){throw new Error("Should not get here")}();default:throw new Error((0,S.H5)(o,"RUNTIME","UNREOGNISED"))}}catch(h){throw h}}function Ee(u,o){return"BlockStatement"===o.type?te(u,o):"ReturnStatement"===o.type||"BreakStatement"===o.type||"ContinueStatement"===o.type?te(u,o)+"; ":"UpdateExpression"===o.type?"lastStatement = "+te(u,o)+"; ":"ExpressionStatement"===o.type?te(u,o):"ObjectExpression"===o.type?"lastStatement = "+te(u,o)+"; ":te(u,o)+"; "}function Qe(u,o){let h="";for(let f=0;f<o.body.length;f++)h+="ReturnStatement"===o.body[f].type||"BreakStatement"===o.body[f].type||"ContinueStatement"===o.body[f].type?te(u,o.body[f])+"; \n":"UpdateExpression"===o.body[f].type||"ObjectExpression"===o.body[f].type?"lastStatement = "+te(u,o.body[f])+"; \n":te(u,o.body[f])+" \n";return h}let Ie=0;const Ne={};function Ye(u){return null===u?"":(0,D.l)(u)||(0,D.n)(u)?"Array":(0,D.j)(u)?"Date":(0,D.b)(u)?"String":(0,D.i)(u)?"Boolean":(0,D.a)(u)?"Number":u instanceof E.Z?"Attachment":u instanceof W.Z?"Portal":u instanceof he.Z?"Dictionary":(0,D.s)(u)?"Feature":u instanceof w.Z?"Point":u instanceof X.Z?"Polygon":u instanceof se.Z?"Polyline":u instanceof R.Z?"Multipoint":u instanceof L.Z?"Extent":(0,D.o)(u)?"Function":(0,D.y)(u)?"FeatureSet":(0,D.z)(u)?"FeatureSetCollection":u===D.v?"":"number"==typeof u&&isNaN(u)?"Number":"Unrecognised Type"}function rt(u,o,h,f){try{if((0,D.m)(o[h],f))return o[h+1];{const v=o.length-h;return 1===v?o[h]:2===v?null:3===v?o[h+2]:rt(u,o,h+2,f)}}catch(m){throw m}}function Et(u,o,h,f){try{if(!0===f)return o[h+1];if(o.length-h==3)return o[h+2];{const m=o[h+2];if(!1===(0,D.i)(m))throw new Error("WHEN needs boolean test conditions");return Et(u,o,h+2,m)}}catch(m){throw m}}function Ve(u,o){const h=u.length,f=Math.floor(h/2);return 0===h?[]:1===h?[u[0]]:function _t(u,o,h){const f=[];for(;u.length>0||o.length>0;)if(u.length>0&&o.length>0){let m=h(u[0],o[0]);isNaN(m)&&(m=0),m<=0?(f.push(u[0]),u=u.slice(1)):(f.push(o[0]),o=o.slice(1))}else u.length>0?(f.push(u[0]),u=u.slice(1)):o.length>0&&(f.push(o[0]),o=o.slice(1));return f}(Ve(u.slice(0,f),o),Ve(u.slice(f,h),o),o)}function ct(u,o){return ht.apply(this,arguments)}function ht(){return(ht=(0,me.Z)(function*(u,o){const h=u.length,f=Math.floor(h/2);if(0===h)return[];if(1===h)return[u[0]];const m=[yield ct(u.slice(0,f),o),yield ct(u.slice(f,h),o)];return Je(m[0],m[1],o,[])})).apply(this,arguments)}function Je(u,o,h,f){return ft.apply(this,arguments)}function ft(){return(ft=(0,me.Z)(function*(u,o,h,f){const m=f;if(!(u.length>0||o.length>0))return f;if(u.length>0&&o.length>0){let v=yield h(u[0],o[0]);return isNaN(v)&&(v=1),v<=0?(m.push(u[0]),u=u.slice(1)):(m.push(o[0]),o=o.slice(1)),Je(u,o,h,f)}return u.length>0?(m.push(u[0]),Je(u=u.slice(1),o,h,f)):o.length>0?(m.push(o[0]),Je(u,o=o.slice(1),h,f)):void 0})).apply(this,arguments)}function it(u){return u.symbols.symbolCounter++,"_T"+u.symbols.symbolCounter.toString()}function Xe(u){return u.symbols.symbolCounter++,"_Tvar"+u.symbols.symbolCounter.toString()}(0,C.r)(Ne,ne),(0,ie.r)(Ne,ne),(0,N.r)(Ne,ne),(0,x.r)(Ne,ne),(0,z.r)(Ne,ne),Ne.typeof=function(u,o){return ne(u,o,function(h,f,m){(0,D.p)(m,1,1);const v=Ye(m[0]);if("Unrecognised Type"===v)throw new Error("Unrecognised Type");return v})},Ne.iif=function(u,o){try{return ne(u,o,function(h,f,m){if((0,D.p)(m,3,3),!1===(0,D.i)(m[0]))throw new Error("IF Function must have a boolean test condition");return m[0]?m[1]:m[2]})}catch(h){throw h}},Ne.decode=function(u,o){try{return ne(u,o,function(h,f,m){if(m.length<2)throw new Error("Missing Parameters");if(2===m.length)return m[1];if((m.length-1)%2==0)throw new Error("Must have a default value result.");return rt(u,m,1,m[0])})}catch(h){throw h}},Ne.when=function(u,o){try{return ne(u,o,function(h,f,m){if(m.length<3)throw new Error("Missing Parameters");if(m.length%2==0)throw new Error("Must have a default value result.");const v=m[0];if(!1===(0,D.i)(v))throw new Error("WHEN needs boolean test conditions");return Et(u,m,0,v)})}catch(h){throw h}},Ne.top=function(u,o){return ne(u,o,function(h,f,m){if((0,D.p)(m,2,2),(0,D.l)(m[0]))return(0,D.f)(m[1])>=m[0].length?m[0].slice(0):m[0].slice(0,(0,D.f)(m[1]));if((0,D.n)(m[0]))return(0,D.f)(m[1])>=m[0].length()?m[0].slice(0):m[0].slice(0,(0,D.f)(m[1]));throw new Error("Top cannot accept this parameter type")})},Ne.first=function(u,o){return ne(u,o,function(h,f,m){return(0,D.p)(m,1,1),(0,D.l)(m[0])?0===m[0].length?null:m[0][0]:(0,D.n)(m[0])?0===m[0].length()?null:m[0].get(0):null})},Ne.sort=function(u,o){return ne(u,o,function(h,f,m){(0,D.p)(m,1,2);let v=m[0];if((0,D.n)(v)&&(v=v.toArray()),!1===(0,D.l)(v))throw new Error("Illegal Argument");if(m.length>1){if(!1===(0,D.o)(m[1]))throw new Error("Illegal Argument");let re=v;const ae=function(pe,De){return Ct.callfunc(m[1],[pe,De],h)};return u.isAsync?ct(re,ae):(re=Ve(re,function(pe,De){return ae(pe,De)}),re)}{let re=v;if(0===re.length)return[];const ae={};for(let ge=0;ge<re.length;ge++){const Ae=Ye(re[ge]);""!==Ae&&(ae[Ae]=!0)}if(!0===ae.Array||!0===ae.Dictionary||!0===ae.Feature||!0===ae.Point||!0===ae.Polygon||!0===ae.Polyline||!0===ae.Multipoint||!0===ae.Extent||!0===ae.Function)return re.slice(0);let pe=0,De="";for(const ge in ae)pe++,De=ge;return re=pe>1||"String"===De?Ve(re,function(ge,Ae){if(null==ge||ge===D.v)return null==Ae||Ae===D.v?0:1;if(null==Ae||Ae===D.v)return-1;const Ze=(0,D.h)(ge),je=(0,D.h)(Ae);return Ze<je?-1:Ze===je?0:1}):"Number"===De?Ve(re,function(ge,Ae){return ge-Ae}):"Boolean"===De?Ve(re,function(ge,Ae){return ge===Ae?0:Ae?-1:1}):"Date"===De?Ve(re,function(ge,Ae){return Ae-ge}):re.slice(0),re}})};const Me={};for(const u in Ne)Me[u]=new D.N(Ne[u]);(0,Q.registerFunctions)(Ne,ne);for(const u in Ne)Ne[u]=new D.N(Ne[u]);const He=function(){};He.prototype=Ne;const $e=function(){};function yt(u,o,h){const f={};u||(u={}),h||(h={}),f._SymbolsMap={},f.textformatting=1,f.infinity=1,f.pi=1;for(const m in o)f[m]=1;for(const m in h)f[m]=1;for(const m in u)f[m]=1;return f}function We(u,o){const h={mode:o,compiled:!0,functions:{},signatures:[],standardFunction:ne,standardFunctionAsync:ne,evaluateIdentifier:xt};for(let f=0;f<u.length;f++)u[f].registerFunctions(h);if("sync"===o){for(const f in h.functions)Ne[f]=new D.N(h.functions[f]),He.prototype[f]=Ne[f];for(let f=0;f<h.signatures.length;f++)(0,S.gW)(h.signatures[f],"sync")}else{for(const f in h.functions)Me[f]=new D.N(h.functions[f]),$e.prototype[f]=Me[f];for(let f=0;f<h.signatures.length;f++)(0,S.gW)(h.signatures[f],"async")}}function xt(u,o){const h=o.name;if("_SymbolsMap"===h)throw new Error("Illegal");if(u.localStack.length>0){if("_t"!==h.substr(0,2).toLowerCase()&&void 0!==u.localStack[u.localStack.length-1][h])return u.localStack[u.localStack.length-1][h];const m=u.mangleMap[h];if(void 0!==m&&void 0!==u.localStack[u.localStack.length-1][m])return u.localStack[u.localStack.length-1][m]}if("_t"!==h.substr(0,2).toLowerCase()&&void 0!==u.globalScope[h]||1===u.globalScope._SymbolsMap[h])return u.globalScope[h];const f=u.mangleMap[h];return void 0!==f?u.globalScope[f]:void 0}$e.prototype=Me,We([Y.A],"sync"),We([Y.A],"async");let Be=0;const Ct={error(u,o,h){throw new Error((0,S.H5)(u,o,h))},__awaiter:(u,o,h,f)=>new Promise((m,v)=>{function re(De){try{pe(f.next(De))}catch(ge){v(ge)}}function ae(De){try{pe(f.throw(De))}catch(ge){v(ge)}}function pe(De){De.done?m(De.value):De.value&&De.value.then?De.value.then(re,ae):(Be++,Be%100==0?setTimeout(()=>{Be=0,re(De.value)},0):re(De.value))}pe((f=f.apply(u,o||[])).next())}),functionDepthchecker:(u,o)=>function(){if(o.depthCounter++,o.localStack.push([]),o.depthCounter>64)throw new Error("Exceeded maximum function depth");const h=u.apply(this,arguments);return(0,Z.y8)(h)?h.then(f=>(o.depthCounter--,o.localStack.length=o.localStack.length-1,f)):(o.depthCounter--,o.localStack.length=o.localStack.length-1,h)},castString:u=>(0,D.h)(u),aCheck(u,o){if((0,D.o)(u))throw new Error((0,S.H5)({type:o},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return u===D.v?null:u},Dictionary:he.Z,Feature:oe.Z,dictionary(u){const o={};for(let f=0;f<u.length;f+=2){if((0,D.o)(u[f+1]))throw new Error("Illegal Argument");if(!1===(0,D.b)(u[f]))throw new Error("Illegal Argument");o[u[f].toString()]=u[f+1]===D.v?null:u[f+1]}const h=new he.Z(o);return h.immutable=!1,h},strCheck(u){if(!1===(0,D.b)(u))throw new Error("Illegal Argument");return u},unary(u,o){if((0,D.i)(u)){if("!"===o)return!u;if("-"===o)return-1*(0,D.f)(u);if("+"===o)return 1*(0,D.f)(u);if("~"===o)return~(0,D.f)(u);throw new Error((0,S.H5)({type:"UnaryExpression",operator:o,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("-"===o)return-1*(0,D.f)(u);if("+"===o)return 1*(0,D.f)(u);if("~"===o)return~(0,D.f)(u);throw new Error((0,S.H5)({type:"UnaryExpression",operator:o,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))},logicalCheck(u){if(!1===(0,D.i)(u))throw new Error((0,S.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return u},logical(u,o,h){if((0,D.i)(u)&&(0,D.i)(o))switch(h){case"||":return u||o;case"&&":return u&&o;default:throw new Error((0,S.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))}throw new Error((0,S.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))},binary(u,o,h){switch(h){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,D.r)((0,D.f)(u),(0,D.f)(o),h);case"==":case"=":return(0,D.m)(u,o);case"!=":return!(0,D.m)(u,o);case"<":case">":case"<=":case">=":return(0,D.q)(u,o,h);case"+":return(0,D.b)(u)||(0,D.b)(o)?(0,D.h)(u)+(0,D.h)(o):(0,D.f)(u)+(0,D.f)(o);case"-":return(0,D.f)(u)-(0,D.f)(o);case"*":return(0,D.f)(u)*(0,D.f)(o);case"/":return(0,D.f)(u)/(0,D.f)(o);case"%":return(0,D.f)(u)%(0,D.f)(o);default:throw new Error((0,S.H5)({type:"BinaryExpression",operator:h,left:u,right:o},"RUNTIME","OPERATORNOTRECOGNISED"))}},assign(u,o,h){switch(o){case"=":return u===D.v?null:u;case"/=":return(0,D.f)(h)/(0,D.f)(u);case"*=":return(0,D.f)(h)*(0,D.f)(u);case"-=":return(0,D.f)(h)-(0,D.f)(u);case"+=":return(0,D.b)(h)||(0,D.b)(u)?(0,D.h)(h)+(0,D.h)(u):(0,D.f)(h)+(0,D.f)(u);case"%=":return(0,D.f)(h)%(0,D.f)(u);default:throw new Error((0,S.H5)({type:"AssignmentExpression",operator:o,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"))}},update(u,o,h,f){const m=(0,D.f)(u[o]);return u[o]="++"===h?m+1:m-1,!1===f?m:"++"===h?m+1:m-1},graphicToFeature:(u,o)=>null===u?null:oe.Z.createFromGraphicLikeObject(u.geometry,u.attributes,o),memberupdate(u,o,h,f){let m;if((0,D.l)(u)){if(!(0,D.a)(o))throw new Error("Invalid Parameter");if(o<0&&(o=u.length+o),o<0||o>=u.length)throw new Error("Assignment outside of array bounds");m=(0,D.f)(u[o]),u[o]="++"===h?m+1:m-1}else if(u instanceof he.Z){if(!1===(0,D.b)(o))throw new Error("Dictionary accessor must be a string");if(!0!==u.hasField(o))throw new Error("Invalid Parameter");m=(0,D.f)(u.field(o)),u.setField(o,"++"===h?m+1:m-1)}else{if(!(0,D.s)(u))throw(0,D.n)(u)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,D.b)(o))throw new Error("Feature accessor must be a string");if(!0!==u.hasField(o))throw new Error("Invalid Parameter");m=(0,D.f)(u.field(o)),u.setField(o,"++"===h?m+1:m-1)}return!1===f?m:"++"===h?m+1:m-1},assignmember(u,o,h,f){if((0,D.l)(u)){if(!(0,D.a)(o))throw new Error("Invalid Parameter");if(o<0&&(o=u.length+o),o<0||o>u.length)throw new Error("Assignment outside of array bounds");if(o===u.length){if("="!==h)throw new Error("Invalid Parameter");u[o]=this.assign(f,h,u[o])}else u[o]=this.assign(f,h,u[o])}else if(u instanceof he.Z){if(!1===(0,D.b)(o))throw new Error("Dictionary accessor must be a string");if(!0===u.hasField(o))u.setField(o,this.assign(f,h,u.field(o)));else{if("="!==h)throw new Error("Invalid Parameter");u.setField(o,this.assign(f,h,null))}}else{if(!(0,D.s)(u))throw(0,D.n)(u)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,D.b)(o))throw new Error("Feature accessor must be a string");if(!0===u.hasField(o))u.setField(o,this.assign(f,h,u.field(o)));else{if("="!==h)throw new Error("Invalid Parameter");u.setField(o,this.assign(f,h,null))}}},member(u,o){if(null===u)throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(u instanceof he.Z||(0,D.s)(u)){if((0,D.b)(o))return u.field(o);throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(u instanceof $.Z){if((0,D.b)(o))return function Nt(u,o,h){let f;switch(o=o.toLowerCase()){case"hasz":{const m=u.hasZ;return void 0!==m&&m}case"hasm":{const m=u.hasM;return void 0!==m&&m}case"spatialreference":{let m=u.spatialReference._arcadeCacheId;if(void 0===m){let re=!0;Object.freeze&&Object.isFrozen(u.spatialReference)&&(re=!1),re&&(Ie++,u.spatialReference._arcadeCacheId=Ie,m=Ie)}const v=new he.Z({wkt:u.spatialReference.wkt,wkid:u.spatialReference.wkid});return void 0!==m&&(v._arcadeCacheId="SPREF"+m.toString()),v}}switch(u.type){case"extent":switch(o){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const m=u[o];return void 0!==m?m:null}case"type":return"Extent"}break;case"polygon":switch(o){case"rings":return f=u.cache._arcadeCacheId,void 0===f&&(Ie++,f=Ie,u.cache._arcadeCacheId=f),new le.Z(u.rings,u.spatialReference,!0===u.hasZ,!0===u.hasM,f);case"type":return"Polygon"}break;case"point":switch(o){case"x":case"y":case"z":case"m":return void 0!==u[o]?u[o]:null;case"type":return"Point"}break;case"polyline":switch(o){case"paths":return f=u.cache._arcadeCacheId,void 0===f&&(Ie++,f=Ie,u.cache._arcadeCacheId=f),new le.Z(u.paths,u.spatialReference,!0===u.hasZ,!0===u.hasM,f);case"type":return"Polyline"}break;case"multipoint":switch(o){case"points":return f=u.cache._arcadeCacheId,void 0===f&&(Ie++,f=Ie,u.cache._arcadeCacheId=f),new T.Z(u.points,u.spatialReference,!0===u.hasZ,!0===u.hasM,f,1);case"type":return"Multipoint"}}throw new Error((0,S.H5)(h,"RUNTIME","PROPERTYNOTFOUND"))}(u,o,"MemberExpression");throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,D.l)(u)){if((0,D.a)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=u.length+o),o>=u.length||o<0)throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return u[o]}throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,D.b)(u)){if((0,D.a)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=u.length+o),o>=u.length||o<0)throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return u[o]}throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,D.n)(u)){if((0,D.a)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=u.length()+o),o>=u.length()||o<0)throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return u.get(o)}throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}throw new Error((0,S.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))},callfunc(u,o,h){return u instanceof D.N?u.fn(h,{arguments:o,preparsed:!0}):u instanceof D.S?u.fn.apply(this,o):u.apply(this,o)}};function b(u){console.log(u)}function y(u,o=null,h=!1){null===o&&(o={vars:{},customfunctions:{}});const f={isAsync:h,globalScope:yt(o.vars,h?Me:Ne,o.customfunctions),localScope:null,mangleMap:{},console:b,lrucache:o.lrucache,interceptor:o.interceptor,services:o.services,symbols:{symbolCounter:0}};let m=te(f,u.body[0].body);""===m&&(m="lc.voidOperation; ");let v="";v=h?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+m+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+m+"\n return lastStatement; } \n return this.postProcess(mainBody()); ";const re={lc:D.u,lang:Ct,mangles:f.mangleMap,postProcess(ae){if(ae instanceof D.R&&(ae=ae.value),ae instanceof D.I&&(ae=ae.value),ae===D.v&&(ae=null),ae===D.w)throw new Error("Cannot return BREAK");if(ae===D.x)throw new Error("Cannot return CONTINUE");if((0,D.o)(ae))throw new Error("Cannot return FUNCTION");return ae},prepare(ae,pe){let De=ae.spatialReference;null==De&&(De=new p.Z({wkid:102100}));const ge=function At(u,o,h){const f=h?new $e:new He;u||(u={}),o||(o={});const m=new he.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});m.immutable=!1,f._SymbolsMap={textformatting:1,infinity:1,pi:1},f.textformatting=m,f.infinity=Number.POSITIVE_INFINITY,f.pi=Math.PI;for(const v in o)f[v]=o[v],f._SymbolsMap[v]=1;for(const v in u)f._SymbolsMap[v]=1,f[v]=u[v]&&"esri.Graphic"===u[v].declaredClass?oe.Z.createFromGraphic(u[v]):u[v];return f}(ae.vars,ae.customfunctions,pe);return{localStack:[],isAsync:pe,mangleMap:this.mangles,spatialReference:De,globalScope:ge,abortSignal:ae.abortSignal??{aborted:!1},localScope:null,services:ae.services,console:ae.console?ae.console:b,lrucache:ae.lrucache,interceptor:ae.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return new Function("context","spatialReference",v).bind(re)}function O(){return B.apply(this,arguments)}function B(){return(B=(0,me.Z)(function*(){return We([yield ee.e(8302).then(ee.bind(ee,38302))],"async"),!0})).apply(this,arguments)}var q=ee(7652);function H(u,o,h){try{return!0===o.preparsed?h(u,null,o.arguments):h(u,o,function ce(u,o){const h=[];for(let f=0;f<o.arguments.length;f++)h.push(K(u,o.arguments[f]));return h}(u,o))}catch(f){throw f}}function K(u,o){try{switch(o.type){case"EmptyStatement":return D.v;case"VariableDeclarator":return function Kn(u,o){let h=null===o.init?null:K(u,o.init);if(h===D.v&&(h=null),"Identifier"!==o.id.type)throw new Error("Can only assign a regular variable");const f=o.id.name.toLowerCase();return null!==u.localScope?u.localScope[f]={value:h,valueset:!0,node:o.init}:u.globalScope[f]={value:h,valueset:!0,node:o.init},D.v}(u,o);case"VariableDeclaration":return function Wn(u,o){for(let h=0;h<o.declarations.length;h++)K(u,o.declarations[h]);return D.v}(u,o);case"BlockStatement":return function jn(u,o){let h=D.v;for(let f=0;f<o.body.length;f++)if(h=K(u,o.body[f]),h instanceof D.R||h===D.w||h===D.x)return h;return h}(u,o);case"FunctionDeclaration":return function Vn(u,o){const h=o.id.name.toLowerCase();return u.globalScope[h]={valueset:!0,node:null,value:new q.Z(o,u)},D.v}(u,o);case"ReturnStatement":return function Yn(u,o){if(null===o.argument)return new D.R(D.v);const h=K(u,o.argument);return new D.R(h)}(u,o);case"IfStatement":return function Rt(u,o){if("AssignmentExpression"===o.test.type||"UpdateExpression"===o.test.type)throw new Error((0,S.H5)(o.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const h=K(u,o.test);if(!0===h)return K(u,o.consequent);if(!1===h)return null!==o.alternate?K(u,o.alternate):D.v;throw new Error((0,S.H5)(o,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}(u,o);case"ExpressionStatement":return function Bt(u,o){if("AssignmentExpression"===o.expression.type||"UpdateExpression"===o.expression.type)return K(u,o.expression);if("CallExpression"===o.expression.type){const h=K(u,o.expression);return h===D.v?D.v:new D.I(h)}{const h=K(u,o.expression);return h===D.v?D.v:new D.I(h)}}(u,o);case"AssignmentExpression":return function tt(u,o){const h=K(u,o.right);let f=null,m="";if("MemberExpression"===o.left.type){if(f=K(u,o.left.object),!0===o.left.computed?m=K(u,o.left.property):"Identifier"===o.left.property.type&&(m=o.left.property.name),(0,D.l)(f)){if(!(0,D.a)(m))throw new Error("Invalid Parameter");if(m<0&&(m=f.length+m),m<0||m>f.length)throw new Error("Assignment outside of array bounds");if(m===f.length){if("="!==o.operator)throw new Error("Invalid Parameter");f[m]=Ge(h,o.operator,f[m],o)}else f[m]=Ge(h,o.operator,f[m],o)}else if(f instanceof he.Z){if(!1===(0,D.b)(m))throw new Error("Dictionary accessor must be a string");if(!0===f.hasField(m))f.setField(m,Ge(h,o.operator,f.field(m),o));else{if("="!==o.operator)throw new Error("Invalid Parameter");f.setField(m,Ge(h,o.operator,null,o))}}else{if(!(0,D.s)(f))throw(0,D.n)(f)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,D.b)(m))throw new Error("Feature accessor must be a string");if(!0===f.hasField(m))f.setField(m,Ge(h,o.operator,f.field(m),o));else{if("="!==o.operator)throw new Error("Invalid Parameter");f.setField(m,Ge(h,o.operator,null,o))}}return D.v}if(f=o.left.name.toLowerCase(),null!==u.localScope&&void 0!==u.localScope[f])return u.localScope[f]={value:Ge(h,o.operator,u.localScope[f].value,o),valueset:!0,node:o.right},D.v;if(void 0!==u.globalScope[f])return u.globalScope[f]={value:Ge(h,o.operator,u.globalScope[f].value,o),valueset:!0,node:o.right},D.v;throw new Error("Variable not recognised")}(u,o);case"UpdateExpression":return function Le(u,o){let h,f=null,m="";if("MemberExpression"===o.argument.type){if(f=K(u,o.argument.object),!0===o.argument.computed?m=K(u,o.argument.property):"Identifier"===o.argument.property.type&&(m=o.argument.property.name),(0,D.l)(f)){if(!(0,D.a)(m))throw new Error("Invalid Parameter");if(m<0&&(m=f.length+m),m<0||m>=f.length)throw new Error("Assignment outside of array bounds");h=(0,D.f)(f[m]),f[m]="++"===o.operator?h+1:h-1}else if(f instanceof he.Z){if(!1===(0,D.b)(m))throw new Error("Dictionary accessor must be a string");if(!0!==f.hasField(m))throw new Error("Invalid Parameter");h=(0,D.f)(f.field(m)),f.setField(m,"++"===o.operator?h+1:h-1)}else{if(!(0,D.s)(f))throw(0,D.n)(f)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,D.b)(m))throw new Error("Feature accessor must be a string");if(!0!==f.hasField(m))throw new Error("Invalid Parameter");h=(0,D.f)(f.field(m)),f.setField(m,"++"===o.operator?h+1:h-1)}return!1===o.prefix?h:"++"===o.operator?h+1:h-1}if(f="Identifier"===o.argument.type?o.argument.name.toLowerCase():"",!f)throw new Error("Invalid identifier");if(null!==u.localScope&&void 0!==u.localScope[f])return h=(0,D.f)(u.localScope[f].value),u.localScope[f]={value:"++"===o.operator?h+1:h-1,valueset:!0,node:o},!1===o.prefix?h:"++"===o.operator?h+1:h-1;if(void 0!==u.globalScope[f])return h=(0,D.f)(u.globalScope[f].value),u.globalScope[f]={value:"++"===o.operator?h+1:h-1,valueset:!0,node:o},!1===o.prefix?h:"++"===o.operator?h+1:h-1;throw new Error("Variable not recognised")}(u,o);case"BreakStatement":return D.w;case"ContinueStatement":return D.x;case"TemplateElement":return function er(u,o){return o.value?o.value.cooked:""}(0,o);case"TemplateLiteral":return function tr(u,o){let h="",f=0;for(const m of o.quasis)h+=m.value?m.value.cooked:"",!1===m.tail&&(h+=o.expressions[f]?(0,D.h)(K(u,o.expressions[f])):"",f++);return h}(u,o);case"ForStatement":return function Te(u,o){null!==o.init&&K(u,o.init);const h={testResult:!0,lastAction:D.v};do{et(u,o,h)}while(!0===h.testResult);return h.lastAction instanceof D.R?h.lastAction:D.v}(u,o);case"ForInStatement":return function Oe(u,o){const h=K(u,o.right);"VariableDeclaration"===o.left.type&&K(u,o.left);let f=null,m="";if("VariableDeclaration"===o.left.type){const v=o.left.declarations[0].id;"Identifier"===v.type&&(m=v.name)}else"Identifier"===o.left.type&&(m=o.left.name);if(!m)throw new Error((0,S.H5)(o,"RUNTIME","INVALIDVARIABLE"));if(m=m.toLowerCase(),null!==u.localScope&&void 0!==u.localScope[m]&&(f=u.localScope[m]),null===f&&void 0!==u.globalScope[m]&&(f=u.globalScope[m]),null===f)throw new Error((0,S.H5)(o,"RUNTIME","VARIABLENOTDECLARED"));if((0,D.l)(h)||(0,D.b)(h)){const v=h.length;for(let re=0;re<v;re++){f.value=re;const ae=K(u,o.body);if(ae===D.w)break;if(ae instanceof D.R)return ae}return D.v}if((0,D.n)(h)){for(let v=0;v<h.length();v++){f.value=v;const re=K(u,o.body);if(re===D.w)break;if(re instanceof D.R)return re}return D.v}if(!(h instanceof he.Z||(0,D.s)(h)))return D.v;{const v=h.keys();for(let re=0;re<v.length;re++){f.value=v[re];const ae=K(u,o.body);if(ae===D.w)break;if(ae instanceof D.R)return ae}}}(u,o);case"Identifier":return an(u,o);case"MemberExpression":return function Jn(u,o){try{const h=K(u,o.object);if(null===h)throw new Error((0,S.H5)(o,"RUNTIME","NOTFOUND"));if(!1===o.computed){if("Identifier"===o.property.type){if(h instanceof he.Z||(0,D.s)(h))return h.field(o.property.name);if(h instanceof $.Z)return sn(h,o.property.name,o)}throw new Error((0,S.H5)(o,"RUNTIME","INVALIDTYPE"))}{let f=K(u,o.property);if(h instanceof he.Z||(0,D.s)(h)){if((0,D.b)(f))return h.field(f);throw new Error((0,S.H5)(o,"RUNTIME","INVALIDTYPE"))}if(h instanceof $.Z){if((0,D.b)(f))return sn(h,f,o);throw new Error((0,S.H5)(o,"RUNTIME","INVALIDTYPE"))}if((0,D.l)(h)){if((0,D.a)(f)&&isFinite(f)&&Math.floor(f)===f){if(f<0&&(f=h.length+f),f>=h.length||f<0)throw new Error((0,S.H5)(o,"RUNTIME","OUTOFBOUNDS"));return h[f]}throw new Error((0,S.H5)(o,"RUNTIME","INVALIDTYPE"))}if((0,D.b)(h)){if((0,D.a)(f)&&isFinite(f)&&Math.floor(f)===f){if(f<0&&(f=h.length+f),f>=h.length||f<0)throw new Error((0,S.H5)(o,"RUNTIME","OUTOFBOUNDS"));return h[f]}throw new Error((0,S.H5)(o,"RUNTIME","INVALIDTYPE"))}if((0,D.n)(h)){if((0,D.a)(f)&&isFinite(f)&&Math.floor(f)===f){if(f<0&&(f=h.length()+f),f>=h.length()||f<0)throw new Error((0,S.H5)(o,"RUNTIME","OUTOFBOUNDS"));return h.get(f)}throw new Error((0,S.H5)(o,"RUNTIME","INVALIDTYPE"))}throw new Error((0,S.H5)(o,"RUNTIME","INVALIDTYPE"))}}catch(h){throw h}}(u,o);case"Literal":return o.value;case"CallExpression":return function nr(u,o){try{if("Identifier"!==o.callee.type)throw new Error((0,S.H5)(o,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==u.localScope&&void 0!==u.localScope[o.callee.name.toLowerCase()]){const h=u.localScope[o.callee.name.toLowerCase()];if(h.value instanceof D.N)return h.value.fn(u,o);if(h.value instanceof q.Z)return hn(u,o,h.value.definition);throw new Error((0,S.H5)(o,"RUNTIME","NOTAFUNCTION"))}if(void 0!==u.globalScope[o.callee.name.toLowerCase()]){const h=u.globalScope[o.callee.name.toLowerCase()];if(h.value instanceof D.N)return h.value.fn(u,o);if(h.value instanceof q.Z)return hn(u,o,h.value.definition);throw new Error((0,S.H5)(o,"RUNTIME","NOTAFUNCTION"))}throw new Error((0,S.H5)(o,"RUNTIME","NOTFOUND"))}catch(h){throw h}}(u,o);case"UnaryExpression":return function Xn(u,o){try{const h=K(u,o.argument);if((0,D.i)(h)){if("!"===o.operator)return!h;if("-"===o.operator)return-1*(0,D.f)(h);if("+"===o.operator)return 1*(0,D.f)(h);if("~"===o.operator)return~(0,D.f)(h);throw new Error((0,S.H5)(o,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("~"===o.operator)return~(0,D.f)(h);if("-"===o.operator)return-1*(0,D.f)(h);if("+"===o.operator)return 1*(0,D.f)(h);throw new Error((0,S.H5)(o,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}catch(h){throw h}}(u,o);case"BinaryExpression":return function Qn(u,o){try{const h=[K(u,o.left),K(u,o.right)],f=h[0],m=h[1];switch(o.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,D.r)((0,D.f)(f),(0,D.f)(m),o.operator);case"==":return(0,D.m)(f,m);case"!=":return!(0,D.m)(f,m);case"<":case">":case"<=":case">=":return(0,D.q)(f,m,o.operator);case"+":return(0,D.b)(f)||(0,D.b)(m)?(0,D.h)(f)+(0,D.h)(m):(0,D.f)(f)+(0,D.f)(m);case"-":return(0,D.f)(f)-(0,D.f)(m);case"*":return(0,D.f)(f)*(0,D.f)(m);case"/":return(0,D.f)(f)/(0,D.f)(m);case"%":return(0,D.f)(f)%(0,D.f)(m);default:throw new Error((0,S.H5)(o,"RUNTIME","OPERATORNOTRECOGNISED"))}}catch(h){throw h}}(u,o);case"LogicalExpression":return function qn(u,o){try{if("AssignmentExpression"===o.left.type||"UpdateExpression"===o.left.type)throw new Error((0,S.H5)(o.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===o.right.type||"UpdateExpression"===o.right.type)throw new Error((0,S.H5)(o.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const h=K(u,o.left);if((0,D.i)(h))switch(o.operator){case"||":if(!0===h)return h;{const f=K(u,o.right);if((0,D.i)(f))return f;throw new Error((0,S.H5)(o,"RUNTIME","ONLYORORAND"))}case"&&":if(!1===h)return h;{const f=K(u,o.right);if((0,D.i)(f))return f;throw new Error((0,S.H5)(o,"RUNTIME","ONLYORORAND"))}default:throw new Error((0,S.H5)(o,"RUNTIME","ONLYORORAND"))}throw new Error((0,S.H5)(o,"RUNTIME","ONLYBOOLEAN"))}catch(h){throw h}}(u,o);case"ArrayExpression":return function $n(u,o){try{const h=[];for(let f=0;f<o.elements.length;f++){const m=K(u,o.elements[f]);if((0,D.o)(m))throw new Error((0,S.H5)(o,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));h.push(m===D.v?null:m)}return h}catch(h){throw h}}(u,o);case"ObjectExpression":return function fe(u,o){const h={};for(let m=0;m<o.properties.length;m++){const v=K(u,o.properties[m]);if((0,D.o)(v.value))throw new Error("Illegal Argument");if(!1===(0,D.b)(v.key))throw new Error("Illegal Argument");h[v.key.toString()]=v.value===D.v?null:v.value}const f=new he.Z(h);return f.immutable=!1,f}(u,o);case"Property":return function xe(u,o){return{key:"Identifier"===o.key.type?o.key.name:K(u,o.key),value:K(u,o.value)}}(u,o);default:throw new Error((0,S.H5)(o,"RUNTIME","UNREOGNISED"))}}catch(h){throw h}}function et(u,o,h){if(null!==o.test){if(h.testResult=K(u,o.test),!1===h.testResult)return;if(!0!==h.testResult)throw new Error((0,S.H5)(o,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}h.lastAction=K(u,o.body),h.lastAction!==D.w?h.lastAction instanceof D.R?h.testResult=!1:null!==o.update&&K(u,o.update):h.testResult=!1}function Ge(u,o,h,f){switch(o){case"=":return u===D.v?null:u;case"/=":return(0,D.f)(h)/(0,D.f)(u);case"*=":return(0,D.f)(h)*(0,D.f)(u);case"-=":return(0,D.f)(h)-(0,D.f)(u);case"+=":return(0,D.b)(h)||(0,D.b)(u)?(0,D.h)(h)+(0,D.h)(u):(0,D.f)(h)+(0,D.f)(u);case"%=":return(0,D.f)(h)%(0,D.f)(u);default:throw new Error((0,S.H5)(f,"RUNTIME","OPERATORNOTRECOGNISED"))}}let Ke=0;function sn(u,o,h){let f;switch(o=o.toLowerCase()){case"hasz":{const m=u.hasZ;return void 0!==m&&m}case"hasm":{const m=u.hasM;return void 0!==m&&m}case"spatialreference":{let m=u.spatialReference._arcadeCacheId;if(void 0===m){let re=!0;Object.freeze&&Object.isFrozen(u.spatialReference)&&(re=!1),re&&(Ke++,u.spatialReference._arcadeCacheId=Ke,m=Ke)}const v=new he.Z({wkt:u.spatialReference.wkt,wkid:u.spatialReference.wkid});return void 0!==m&&(v._arcadeCacheId="SPREF"+m.toString()),v}}switch(u.type){case"extent":switch(o){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const m=u[o];return void 0!==m?m:null}case"type":return"Extent"}break;case"polygon":switch(o){case"rings":return f=u.cache._arcadeCacheId,void 0===f&&(Ke++,f=Ke,u.cache._arcadeCacheId=f),new le.Z(u.rings,u.spatialReference,!0===u.hasZ,!0===u.hasM,f);case"type":return"Polygon"}break;case"point":switch(o){case"x":case"y":case"z":case"m":return void 0!==u[o]?u[o]:null;case"type":return"Point"}break;case"polyline":switch(o){case"paths":return f=u.cache._arcadeCacheId,void 0===f&&(Ke++,f=Ke,u.cache._arcadeCacheId=f),new le.Z(u.paths,u.spatialReference,!0===u.hasZ,!0===u.hasM,f);case"type":return"Polyline"}break;case"multipoint":switch(o){case"points":return f=u.cache._arcadeCacheId,void 0===f&&(Ke++,f=Ke,u.cache._arcadeCacheId=f),new T.Z(u.points,u.spatialReference,!0===u.hasZ,!0===u.hasM,f,1);case"type":return"Multipoint"}}throw new Error((0,S.H5)(h,"RUNTIME","PROPERTYNOTFOUND"))}function an(u,o){let h;try{const f=o.name.toLowerCase();if(null!==u.localScope&&void 0!==u.localScope[f])return h=u.localScope[f],!0===h.valueset||(h.value=K(u,h.node),h.valueset=!0),h.value;if(void 0!==u.globalScope[f])return h=u.globalScope[f],!0===h.valueset||(h.value=K(u,h.node),h.valueset=!0),h.value;throw new Error((0,S.H5)(o,"RUNTIME","VARIABLENOTFOUND"))}catch(f){throw f}}const _e={};function on(u){return null==u?"":(0,D.l)(u)||(0,D.n)(u)?"Array":(0,D.j)(u)?"Date":(0,D.b)(u)?"String":(0,D.i)(u)?"Boolean":(0,D.a)(u)?"Number":u instanceof E.Z?"Attachment":u instanceof W.Z?"Portal":u instanceof he.Z?"Dictionary":(0,D.s)(u)?"Feature":u instanceof w.Z?"Point":u instanceof X.Z?"Polygon":u instanceof se.Z?"Polyline":u instanceof R.Z?"Multipoint":u instanceof L.Z?"Extent":(0,D.o)(u)?"Function":(0,D.y)(u)?"FeatureSet":(0,D.z)(u)?"FeatureSetCollection":u===D.v?"":"number"==typeof u&&isNaN(u)?"Number":"Unrecognised Type"}function un(u,o,h,f){try{const m=K(u,o.arguments[h]);if((0,D.m)(m,f))return K(u,o.arguments[h+1]);{const v=o.arguments.length-h;return 1===v?K(u,o.arguments[h]):2===v?null:3===v?K(u,o.arguments[h+2]):un(u,o,h+2,f)}}catch(m){throw m}}function ln(u,o,h,f){try{if(!0===f)return K(u,o.arguments[h+1]);if(o.arguments.length-h==3)return K(u,o.arguments[h+2]);{const m=K(u,o.arguments[h+2]);if(!1===(0,D.i)(m))throw new Error("WHEN needs boolean test conditions");return ln(u,o,h+2,m)}}catch(m){throw m}}function nt(u,o){const h=u.length,f=Math.floor(h/2);return 0===h?[]:1===h?[u[0]]:function rr(u,o,h){const f=[];for(;u.length>0||o.length>0;)if(u.length>0&&o.length>0){let m=h(u[0],o[0]);isNaN(m)&&(m=0),m<=0?(f.push(u[0]),u=u.slice(1)):(f.push(o[0]),o=o.slice(1))}else u.length>0?(f.push(u[0]),u=u.slice(1)):o.length>0&&(f.push(o[0]),o=o.slice(1));return f}(nt(u.slice(0,f),o),nt(u.slice(f,h),o),o)}function cn(u,o,h){try{const f=u.body;if(h.length!==u.params.length)throw new Error("Invalid Parameter calls to function.");for(let v=0;v<h.length;v++)o.localScope[u.params[v].name.toLowerCase()]={value:h[v],valueset:!0,node:null};const m=K(o,f);if(m instanceof D.R)return m.value;if(m===D.w)throw new Error("Cannot Break from a Function");if(m===D.x)throw new Error("Cannot Continue from a Function");return m instanceof D.I?m.value:m}catch(f){throw f}}function hn(u,o,h){return H(u,o,function(f,m,v){const re={spatialReference:u.spatialReference,globalScope:u.globalScope,depthCounter:u.depthCounter+1,console:u.console,lrucache:u.lrucache,interceptor:u.interceptor,localScope:{}};if(re.depthCounter>64)throw new Error("Exceeded maximum function depth");return cn(h,re,v)})}function fn(u){return function(){const h={spatialReference:u.context.spatialReference,console:u.context.console,lrucache:u.context.lrucache,interceptor:u.context.interceptor,localScope:{},depthCounter:u.context.depthCounter+1,globalScope:u.context.globalScope};if(h.depthCounter>64)throw new Error("Exceeded maximum function depth");return cn(u.definition,h,arguments)}}(0,C.r)(_e,H),(0,ie.r)(_e,H),(0,N.r)(_e,H),(0,x.r)(_e,H),(0,z.r)(_e,H),(0,Q.registerFunctions)(_e,H),_e.typeof=function(u,o){return H(u,o,function(h,f,m){(0,D.p)(m,1,1);const v=on(m[0]);if("Unrecognised Type"===v)throw new Error("Unrecognised Type");return v})},_e.iif=function(u,o){try{(0,D.p)(null===o.arguments?[]:o.arguments,3,3);const h=K(u,o.arguments[0]);if(!1===(0,D.i)(h))throw new Error("IF Function must have a boolean test condition");const f=K(u,o.arguments[1]),m=K(u,o.arguments[2]);return!0===h?f:m}catch(h){throw h}},_e.decode=function(u,o){try{if(o.arguments.length<2)throw new Error("Missing Parameters");if(2===o.arguments.length)return K(u,o.arguments[1]);if((o.arguments.length-1)%2==0)throw new Error("Must have a default value result.");return un(u,o,1,K(u,o.arguments[0]))}catch(h){throw h}},_e.when=function(u,o){try{if(o.arguments.length<3)throw new Error("Missing Parameters");if(o.arguments.length%2==0)throw new Error("Must have a default value result.");const h=K(u,o.arguments[0]);if(!1===(0,D.i)(h))throw new Error("WHEN needs boolean test conditions");return ln(u,o,0,h)}catch(h){throw h}},_e.top=function(u,o){return H(u,o,function(h,f,m){if((0,D.p)(m,2,2),(0,D.l)(m[0]))return(0,D.f)(m[1])>=m[0].length?m[0].slice(0):m[0].slice(0,(0,D.f)(m[1]));if((0,D.n)(m[0]))return(0,D.f)(m[1])>=m[0].length()?m[0].slice(0):m[0].slice(0,(0,D.f)(m[1]));throw new Error("Top cannot accept this parameter type")})},_e.first=function(u,o){return H(u,o,function(h,f,m){return(0,D.p)(m,1,1),(0,D.l)(m[0])?0===m[0].length?null:m[0][0]:(0,D.n)(m[0])?0===m[0].length()?null:m[0].get(0):null})},_e.sort=function(u,o){return H(u,o,function(h,f,m){(0,D.p)(m,1,2);let v=m[0];if((0,D.n)(v)&&(v=v.toArray()),!1===(0,D.l)(v))throw new Error("Illegal Argument");if(m.length>1){if(!1===(0,D.o)(m[1]))throw new Error("Illegal Argument");let re=v;const ae=fn(m[1]);return re=nt(re,function(pe,De){return ae(pe,De)}),re}{let re=v;if(0===re.length)return[];const ae={};for(let ge=0;ge<re.length;ge++){const Ae=on(re[ge]);""!==Ae&&(ae[Ae]=!0)}if(!0===ae.Array||!0===ae.Dictionary||!0===ae.Feature||!0===ae.Point||!0===ae.Polygon||!0===ae.Polyline||!0===ae.Multipoint||!0===ae.Extent||!0===ae.Function)return re.slice(0);let pe=0,De="";for(const ge in ae)pe++,De=ge;return re=pe>1||"String"===De?nt(re,function(ge,Ae){if(null==ge||ge===D.v)return null==Ae||Ae===D.v?0:1;if(null==Ae||Ae===D.v)return-1;const Ze=(0,D.h)(ge),je=(0,D.h)(Ae);return Ze<je?-1:Ze===je?0:1}):"Number"===De?nt(re,function(ge,Ae){return ge-Ae}):"Boolean"===De?nt(re,function(ge,Ae){return ge===Ae?0:Ae?-1:1}):"Date"===De?nt(re,function(ge,Ae){return Ae-ge}):re.slice(0),re}})};for(const u in _e)_e[u]={value:new D.N(_e[u]),valueset:!0,node:null};const mt=function(){};function ir(u,o){const h=new mt;u||(u={}),o||(o={});const f=new he.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});f.immutable=!1,h.textformatting={value:f,valueset:!0,node:null};for(const m in o)h[m]={value:new D.N(o[m]),native:!0,valueset:!0,node:null};for(const m in u)h[m]=u[m]&&"esri.Graphic"===u[m].declaredClass?{value:oe.Z.createFromGraphic(u[m]),valueset:!0,node:null}:{value:u[m],valueset:!0,node:null};return h}function sr(u){console.log(u)}function mn(u){const o={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:H,evaluateIdentifier:an,arcadeCustomFunctionHandler:fn};for(let h=0;h<u.length;h++)u[h].registerFunctions(o);for(const h in o.functions)_e[h]={value:new D.N(o.functions[h]),valueset:!0,node:null},mt.prototype[h]=_e[h];for(let h=0;h<o.signatures.length;h++)(0,S.gW)(o.signatures[h],"async")}function dn(u,o){let h=o.spatialReference;null==h&&(h=new p.Z({wkid:102100}));let f=K({spatialReference:h,globalScope:ir(o.vars,o.customfunctions),localScope:null,console:o.console?o.console:sr,lrucache:o.lrucache,interceptor:o.interceptor,depthCounter:1},u.body[0].body);if(f instanceof D.R&&(f=f.value),f instanceof D.I&&(f=f.value),f===D.v&&(f=null),f===D.w)throw new Error("Cannot return BREAK");if(f===D.x)throw new Error("Cannot return CONTINUE");if(f instanceof q.Z)throw new Error("Cannot return FUNCTION");if(f instanceof D.N)throw new Error("Cannot return FUNCTION");return f}(mt.prototype=_e).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},mt.prototype.pi={value:Math.PI,valueset:!0,node:null},mn([Y.A]);class ur{constructor(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}insertInnerComments(o,h){if("BlockStatement"===o.type&&0===o.body.length){const f=[];for(let m=this.leading.length-1;m>=0;--m){const v=this.leading[m];h.end.offset>=v.start&&(f.unshift(v.comment),this.leading.splice(m,1),this.trailing.splice(m,1))}f.length&&(o.innerComments=f)}}findTrailingComments(o){let h=[];if(this.trailing.length>0){for(let m=this.trailing.length-1;m>=0;--m){const v=this.trailing[m];v.start>=o.end.offset&&h.unshift(v.comment)}return this.trailing.length=0,h}const f=this.stack[this.stack.length-1];if(f&&f.node.trailingComments){const m=f.node.trailingComments[0];m&&m.range[0]>=o.end.offset&&(h=f.node.trailingComments,delete f.node.trailingComments)}return h}findLeadingComments(o){const h=[];let f;for(;this.stack.length>0;){const m=this.stack[this.stack.length-1];if(!(m&&m.start>=o.start.offset))break;f=m.node,this.stack.pop()}if(f){for(let m=(f.leadingComments?f.leadingComments.length:0)-1;m>=0;--m){const v=f.leadingComments[m];v.range[1]<=o.start.offset&&(h.unshift(v),f.leadingComments.splice(m,1))}return f.leadingComments&&0===f.leadingComments.length&&delete f.leadingComments,h}for(let m=this.leading.length-1;m>=0;--m){const v=this.leading[m];v.start<=o.start.offset&&(h.unshift(v.comment),this.leading.splice(m,1))}return h}visitNode(o,h){if("Program"===o.type&&o.body.length>0)return;this.insertInnerComments(o,h);const f=this.findTrailingComments(h),m=this.findLeadingComments(h);m.length>0&&(o.leadingComments=m),f.length>0&&(o.trailingComments=f),this.stack.push({node:o,start:h.start.offset})}visitComment(o,h){if(this.comments.push(o),this.attach){const f={comment:{type:o.type,value:o.value,range:[h.start.offset,h.end.offset]},start:h.start.offset};o.loc&&(f.comment.loc=o.loc),this.leading.push(f),this.trailing.push(f)}}visit(o,h){"Line"===o.type||"Block"===o.type?this.visitComment(o,h):this.attach&&this.visitNode(o,h)}}function st(u,o){if(!u)throw new Error("ASSERT: "+o)}class lr{constructor(){this.errors=[],this.tolerant=!1}recordError(o){this.errors.push(o)}tolerate(o){if(!this.tolerant)throw o;this.recordError(o)}constructError(o,h){let f=new Error(o);try{throw f}catch(m){Object.create&&Object.defineProperty&&(f=Object.create(m),Object.defineProperty(f,"column",{value:h}))}return f}createError(o,h,f,m){const re=this.constructError("Line "+h+": "+m,f);return re.index=o,re.lineNumber=h,re.description=m,re}throwError(o,h,f,m){throw this.createError(o,h,f,m)}tolerateError(o,h,f,m){const v=this.createError(o,h,f,m);if(!this.tolerant)throw v;this.recordError(v)}}class be{}class cr extends be{constructor(o,h){super(),this.type=o,this.value=h}}class hr extends be{constructor(o){super(),this.elements=o,this.type="ArrayExpression"}}const fr=["=","/=","*=","%=","+=","-="];class mr extends be{constructor(o,h,f){super(),this.operator=o,this.left=h,this.right=f,this.type="AssignmentExpression"}}const dr=["||","&&"];class pn extends be{constructor(o,h,f){super(),this.operator=o,this.left=h,this.right=f,this.type=dr.includes(o)?"LogicalExpression":"BinaryExpression"}}class Dn extends be{constructor(o){super(),this.body=o,this.type="BlockStatement"}}class pr extends be{constructor(){super(...arguments),this.type="BreakStatement"}}class Dr extends be{constructor(o,h){super(),this.callee=o,this.args=h,this.type="CallExpression",this.arguments=h}}class gn extends be{constructor(o,h){super(),this.object=o,this.property=h,this.type="MemberExpression",this.computed=!0}}class En extends be{constructor(o,h){super(),this.object=o,this.property=h,this.type="MemberExpression",this.computed=!1}}class gr extends be{constructor(){super(...arguments),this.type="ContinueStatement"}}class kt extends be{constructor(){super(...arguments),this.type="EmptyStatement"}}class yn extends be{constructor(o){super(),this.expression=o,this.type="ExpressionStatement"}}class Er extends be{constructor(o,h,f){super(),this.left=o,this.right=h,this.body=f,this.type="ForInStatement",this.each=!1}}class yr extends be{constructor(o,h,f,m){super(),this.init=o,this.test=h,this.update=f,this.body=m,this.type="ForStatement"}}class Ar extends be{constructor(o,h,f){super(),this.id=o,this.params=h,this.body=f,this.type="FunctionDeclaration",this.generator=!1,this.expression=!1,this.async=!1}}class at extends be{constructor(o){super(),this.name=o,this.type="Identifier"}}class xr extends be{constructor(o,h,f){super(),this.test=o,this.consequent=h,this.alternate=f,this.type="IfStatement"}}class Ft extends be{constructor(o,h){super(),this.value=o,this.raw=h,this.type="Literal"}}class Cr extends be{constructor(o){super(),this.properties=o,this.type="ObjectExpression"}}class Fr extends be{constructor(o,h,f,m,v,re){super(),this.kind=o,this.key=h,this.computed=f,this.value=m,this.method=v,this.shorthand=re,this.type="Property"}}class wr extends be{constructor(o){super(),this.argument=o,this.type="ReturnStatement"}}class br extends be{constructor(o){super(),this.body=o,this.type="Program"}}class An extends be{constructor(o,h){super(),this.value=o,this.tail=h,this.type="TemplateElement"}}class Sr extends be{constructor(o,h){super(),this.quasis=o,this.expressions=h,this.type="TemplateLiteral"}}class Nr extends be{constructor(o,h){super(),this.operator=o,this.argument=h,this.type="UnaryExpression",this.prefix=!0}}class xn extends be{constructor(o,h,f){super(),this.operator=o,this.argument=h,this.prefix=f,this.type="UpdateExpression"}}class Ut extends be{constructor(o,h){super(),this.declarations=o,this.kind=h,this.type="VariableDeclaration"}}class Ir extends be{constructor(o,h){super(),this.id=o,this.init=h,this.type="VariableDeclarator"}}const Cn={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Ce={fromCodePoint:u=>u<65536?String.fromCharCode(u):String.fromCharCode(55296+(u-65536>>10))+String.fromCharCode(56320+(u-65536&1023)),isWhiteSpace:u=>32===u||9===u||11===u||12===u||160===u||u>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(u),isLineTerminator:u=>10===u||13===u||8232===u||8233===u,isIdentifierStart:u=>36===u||95===u||u>=65&&u<=90||u>=97&&u<=122||92===u||u>=128&&Cn.NonAsciiIdentifierStart.test(Ce.fromCodePoint(u)),isIdentifierPart:u=>36===u||95===u||u>=65&&u<=90||u>=97&&u<=122||u>=48&&u<=57||92===u||u>=128&&Cn.NonAsciiIdentifierPart.test(Ce.fromCodePoint(u)),isDecimalDigit:u=>u>=48&&u<=57,isHexDigit:u=>u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102,isOctalDigit:u=>u>=48&&u<=55};var de,u;(u=de||(de={}))[u.BooleanLiteral=1]="BooleanLiteral",u[u.EOF=2]="EOF",u[u.Identifier=3]="Identifier",u[u.Keyword=4]="Keyword",u[u.NullLiteral=5]="NullLiteral",u[u.NumericLiteral=6]="NumericLiteral",u[u.Punctuator=7]="Punctuator",u[u.StringLiteral=8]="StringLiteral",u[u.RegularExpression=9]="RegularExpression",u[u.Template=10]="Template";const Pe={};function Fn(u){return"0123456789abcdef".indexOf(u.toLowerCase())}function Mt(u){return"01234567".indexOf(u)}Pe[de.BooleanLiteral]="Boolean",Pe[de.EOF]="<end>",Pe[de.Identifier]="Identifier",Pe[de.Keyword]="Keyword",Pe[de.NullLiteral]="Null",Pe[de.NumericLiteral]="Numeric",Pe[de.Punctuator]="Punctuator",Pe[de.StringLiteral]="String",Pe[de.RegularExpression]="RegularExpression",Pe[de.Template]="Template";class vr{constructor(o,h){this.source=o,this.errorHandler=h,this.trackComment=!1,this.isModule=!1,this.length=o.length,this.index=0,this.lineNumber=o.length>0?1:0,this.lineStart=0,this.curlyStack=[]}saveState(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}}restoreState(o){this.index=o.index,this.lineNumber=o.lineNumber,this.lineStart=o.lineStart,this.curlyStack=o.curlyStack}eof(){return this.index>=this.length}throwUnexpectedToken(o="Unexpected token ILLEGAL"){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,o)}_tolerateUnexpectedToken(o="Unexpected token ILLEGAL"){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,o)}_skipSingleLineComment(o){let h=[],f=0,m=null;for(this.trackComment&&(h=[],f=this.index-o,m={start:{line:this.lineNumber,column:this.index-this.lineStart-o},end:{line:0,column:0}});!this.eof();){const v=this.source.charCodeAt(this.index);if(++this.index,Ce.isLineTerminator(v))return m&&(m.end={line:this.lineNumber,column:this.index-this.lineStart-1},h.push({multiLine:!1,slice:[f+o,this.index-1],range:[f,this.index-1],loc:m})),13===v&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,h}return m&&(m.end={line:this.lineNumber,column:this.index-this.lineStart},h.push({multiLine:!1,slice:[f+o,this.index],range:[f,this.index],loc:m})),h}_skipMultiLineComment(){const o=[];let h=0,f=null;for(this.trackComment&&(h=this.index-2,f={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}});!this.eof();){const m=this.source.charCodeAt(this.index);if(Ce.isLineTerminator(m))13===m&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===m){if(47===this.source.charCodeAt(this.index+1))return this.index+=2,f&&(f.end={line:this.lineNumber,column:this.index-this.lineStart},o.push({multiLine:!0,slice:[h+2,this.index-2],range:[h,this.index],loc:f})),o;++this.index}else++this.index}return f&&(f.end={line:this.lineNumber,column:this.index-this.lineStart},o.push({multiLine:!0,slice:[h+2,this.index],range:[h,this.index],loc:f})),this._tolerateUnexpectedToken(),o}scanComments(){let o=null;this.trackComment&&(o=[]);let h=0===this.index;for(;!this.eof();){let f=this.source.charCodeAt(this.index);if(Ce.isWhiteSpace(f))++this.index;else if(Ce.isLineTerminator(f))++this.index,13===f&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,h=!0;else if(47===f)if(f=this.source.charCodeAt(this.index+1),47===f){this.index+=2;const m=this._skipSingleLineComment(2);o&&(o=o.concat(m)),h=!0}else{if(42!==f)break;{this.index+=2;const m=this._skipMultiLineComment();o&&(o=o.concat(m))}}else if(h&&45===f){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;{this.index+=3;const m=this._skipSingleLineComment(3);o&&(o=o.concat(m))}}else{if(60!==f||this.isModule||"!--"!==this.source.slice(this.index+1,this.index+4))break;{this.index+=4;const m=this._skipSingleLineComment(4);o&&(o=o.concat(m))}}}return o}_isKeyword(o){switch((o=o.toLowerCase()).length){case 2:return"if"===o||"in"===o;case 3:return"var"===o||"for"===o;case 4:return"else"===o;case 5:return"break"===o;case 6:return"return"===o;case 8:return"function"===o||"continue"===o;default:return!1}}_codePointAt(o){let h=this.source.charCodeAt(o);if(h>=55296&&h<=56319){const f=this.source.charCodeAt(o+1);f>=56320&&f<=57343&&(h=1024*(h-55296)+f-56320+65536)}return h}_scanHexEscape(o){const h="u"===o?4:2;let f=0;for(let m=0;m<h;++m){if(this.eof()||!Ce.isHexDigit(this.source.charCodeAt(this.index)))return null;f=16*f+Fn(this.source[this.index++])}return String.fromCharCode(f)}_scanUnicodeCodePointEscape(){let o=this.source[this.index],h=0;for("}"===o&&this.throwUnexpectedToken();!this.eof()&&(o=this.source[this.index++],Ce.isHexDigit(o.charCodeAt(0)));)h=16*h+Fn(o);return(h>1114111||"}"!==o)&&this.throwUnexpectedToken(),Ce.fromCodePoint(h)}_getIdentifier(){const o=this.index++;for(;!this.eof();){const h=this.source.charCodeAt(this.index);if(92===h)return this.index=o,this._getComplexIdentifier();if(h>=55296&&h<57343)return this.index=o,this._getComplexIdentifier();if(!Ce.isIdentifierPart(h))break;++this.index}return this.source.slice(o,this.index)}_getComplexIdentifier(){let o,h=this._codePointAt(this.index),f=Ce.fromCodePoint(h);for(this.index+=f.length,92===h&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,o=this._scanUnicodeCodePointEscape()):(o=this._scanHexEscape("u"),null!==o&&"\\"!==o&&Ce.isIdentifierStart(o.charCodeAt(0))||this.throwUnexpectedToken()),f=o);!this.eof()&&(h=this._codePointAt(this.index),Ce.isIdentifierPart(h));)o=Ce.fromCodePoint(h),f+=o,this.index+=o.length,92===h&&(f=f.substr(0,f.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,o=this._scanUnicodeCodePointEscape()):(o=this._scanHexEscape("u"),null!==o&&"\\"!==o&&Ce.isIdentifierPart(o.charCodeAt(0))||this.throwUnexpectedToken()),f+=o);return f}_octalToDecimal(o){let h="0"!==o,f=Mt(o);return!this.eof()&&Ce.isOctalDigit(this.source.charCodeAt(this.index))&&(h=!0,f=8*f+Mt(this.source[this.index++]),"0123".includes(o)&&!this.eof()&&Ce.isOctalDigit(this.source.charCodeAt(this.index))&&(f=8*f+Mt(this.source[this.index++]))),{code:f,octal:h}}_scanIdentifier(){let o;const h=this.index,f=92===this.source.charCodeAt(h)?this._getComplexIdentifier():this._getIdentifier();if(o=1===f.length?de.Identifier:this._isKeyword(f)?de.Keyword:"null"===f.toLowerCase()?de.NullLiteral:"true"===f.toLowerCase()||"false"===f.toLowerCase()?de.BooleanLiteral:de.Identifier,o!==de.Identifier&&h+f.length!==this.index){const m=this.index;this.index=h,this._tolerateUnexpectedToken("Keyword must not contain escaped characters"),this.index=m}return{type:o,value:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}}_scanPunctuator(){const o=this.index;let h=this.source[this.index];switch(h){case"(":case"{":"{"===h&&this.curlyStack.push("{"),++this.index;break;case".":case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;case"}":++this.index,this.curlyStack.pop();break;default:h=this.source.substr(this.index,4),">>>="===h?this.index+=4:(h=h.substr(0,3),"==="===h||"!=="===h||">>>"===h||"<<="===h||">>="===h||"**="===h?this.index+=3:(h=h.substr(0,2),"&&"===h||"||"===h||"=="===h||"!="===h||"+="===h||"-="===h||"*="===h||"/="===h||"++"===h||"--"===h||"<<"===h||">>"===h||"&="===h||"|="===h||"^="===h||"%="===h||"<="===h||">="===h||"=>"===h||"**"===h?this.index+=2:(h=this.source[this.index],"<>=!+-*%&|^/".includes(h)&&++this.index)))}return this.index===o&&this.throwUnexpectedToken(),{type:de.Punctuator,value:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}_scanHexLiteral(o){let h="";for(;!this.eof()&&Ce.isHexDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];return 0===h.length&&this.throwUnexpectedToken(),Ce.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:de.NumericLiteral,value:parseInt("0x"+h,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}_scanBinaryLiteral(o){let h="";for(;!this.eof();){const f=this.source[this.index];if("0"!==f&&"1"!==f)break;h+=this.source[this.index++]}if(0===h.length&&this.throwUnexpectedToken(),!this.eof()){const f=this.source.charCodeAt(this.index);(Ce.isIdentifierStart(f)||Ce.isDecimalDigit(f))&&this.throwUnexpectedToken()}return{type:de.NumericLiteral,value:parseInt(h,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}_scanOctalLiteral(o,h){let f="",m=!1;for(Ce.isOctalDigit(o.charCodeAt(0))?(m=!0,f="0"+this.source[this.index++]):++this.index;!this.eof()&&Ce.isOctalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];return m||0!==f.length||this.throwUnexpectedToken(),(Ce.isIdentifierStart(this.source.charCodeAt(this.index))||Ce.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:de.NumericLiteral,value:parseInt(f,8),octal:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}}_scanNumericLiteral(){const o=this.index;let h=this.source[o];st(Ce.isDecimalDigit(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");let f="";if("."!==h){if(f=this.source[this.index++],h=this.source[this.index],"0"===f){if("x"===h||"X"===h)return++this.index,this._scanHexLiteral(o);if("b"===h||"B"===h)return++this.index,this._scanBinaryLiteral(o);if("o"===h||"O"===h)return this._scanOctalLiteral(h,o)}for(;Ce.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];h=this.source[this.index]}if("."===h){for(f+=this.source[this.index++];Ce.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];h=this.source[this.index]}if("e"===h||"E"===h)if(f+=this.source[this.index++],h=this.source[this.index],"+"!==h&&"-"!==h||(f+=this.source[this.index++]),Ce.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Ce.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];else this.throwUnexpectedToken();return Ce.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:de.NumericLiteral,value:parseFloat(f),lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}_scanStringLiteral(){const o=this.index;let h=this.source[o];st("'"===h||'"'===h,"String literal must starts with a quote"),++this.index;let f=!1,m="";for(;!this.eof();){let v=this.source[this.index++];if(v===h){h="";break}if("\\"===v)if(v=this.source[this.index++],v&&Ce.isLineTerminator(v.charCodeAt(0)))++this.lineNumber,"\r"===v&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(v){case"u":if("{"===this.source[this.index])++this.index,m+=this._scanUnicodeCodePointEscape();else{const re=this._scanHexEscape(v);null===re&&this.throwUnexpectedToken(),m+=re}break;case"x":{const re=this._scanHexEscape(v);null===re&&this.throwUnexpectedToken("Invalid hexadecimal escape sequence"),m+=re;break}case"n":m+="\n";break;case"r":m+="\r";break;case"t":m+="\t";break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;case"8":case"9":m+=v,this._tolerateUnexpectedToken();break;default:if(v&&Ce.isOctalDigit(v.charCodeAt(0))){const re=this._octalToDecimal(v);f=re.octal||f,m+=String.fromCharCode(re.code)}else m+=v}else{if(Ce.isLineTerminator(v.charCodeAt(0)))break;m+=v}}return""!==h&&(this.index=o,this.throwUnexpectedToken()),{type:de.StringLiteral,value:m,octal:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}_scanTemplate(){let o="",h=!1;const f=this.index,m="`"===this.source[f];let v=!1,re=2;for(++this.index;!this.eof();){let ae=this.source[this.index++];if("`"===ae){re=1,v=!0,h=!0;break}if("$"===ae){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,h=!0;break}o+=ae}else if("\\"===ae)if(ae=this.source[this.index++],Ce.isLineTerminator(ae.charCodeAt(0)))++this.lineNumber,"\r"===ae&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(ae){case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"u":if("{"===this.source[this.index])++this.index,o+=this._scanUnicodeCodePointEscape();else{const pe=this.index,De=this._scanHexEscape(ae);null!==De?o+=De:(this.index=pe,o+=ae)}break;case"x":{const pe=this._scanHexEscape(ae);null===pe&&this.throwUnexpectedToken("Invalid hexadecimal escape sequence"),o+=pe;break}case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;default:"0"===ae?(Ce.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken("Octal literals are not allowed in template strings."),o+="\0"):Ce.isOctalDigit(ae.charCodeAt(0))?this.throwUnexpectedToken("Octal literals are not allowed in template strings."):o+=ae}else Ce.isLineTerminator(ae.charCodeAt(0))?(++this.lineNumber,"\r"===ae&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,o+="\n"):o+=ae}return h||this.throwUnexpectedToken(),m||this.curlyStack.pop(),{type:de.Template,value:this.source.slice(f+1,this.index-re),cooked:o,head:m,tail:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}}_testRegExp(o,h){let m=o;h.includes("u")&&(m=m.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(v,re,ae)=>{const pe=parseInt(re||ae,16);return pe>1114111&&this.throwUnexpectedToken("Invalid regular expression"),pe<=65535?String.fromCharCode(pe):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(m)}catch{this.throwUnexpectedToken("Invalid regular expression")}try{return new RegExp(o,h)}catch{return null}}_scanRegExpBody(){let o=this.source[this.index];st("/"===o,"Regular expression literal must start with a slash");let h=this.source[this.index++],f=!1,m=!1;for(;!this.eof();)if(o=this.source[this.index++],h+=o,"\\"===o)o=this.source[this.index++],Ce.isLineTerminator(o.charCodeAt(0))&&this.throwUnexpectedToken("Invalid regular expression: missing /"),h+=o;else if(Ce.isLineTerminator(o.charCodeAt(0)))this.throwUnexpectedToken("Invalid regular expression: missing /");else if(f)"]"===o&&(f=!1);else{if("/"===o){m=!0;break}"["===o&&(f=!0)}return m||this.throwUnexpectedToken("Invalid regular expression: missing /"),h.substr(1,h.length-2)}_scanRegExpFlags(){let o="",h="";for(;!this.eof();){let f=this.source[this.index];if(!Ce.isIdentifierPart(f.charCodeAt(0)))break;if(++this.index,"\\"!==f||this.eof())h+=f,o+=f;else if(f=this.source[this.index],"u"===f){++this.index;let m=this.index;const v=this._scanHexEscape("u");if(null!==v)for(h+=v,o+="\\u";m<this.index;++m)o+=this.source[m];else this.index=m,h+="u",o+="\\u";this._tolerateUnexpectedToken()}else o+="\\",this._tolerateUnexpectedToken()}return h}scanRegExp(){const o=this.index,h=this._scanRegExpBody(),f=this._scanRegExpFlags(),m=this._testRegExp(h,f);return{type:de.RegularExpression,value:"",pattern:h,flags:f,regex:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}lex(){if(this.eof())return{type:de.EOF,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const o=this.source.charCodeAt(this.index);return Ce.isIdentifierStart(o)?this._scanIdentifier():40===o||41===o||59===o?this._scanPunctuator():39===o||34===o?this._scanStringLiteral():46===o?Ce.isDecimalDigit(this.source.charCodeAt(this.index+1))?this._scanNumericLiteral():this._scanPunctuator():Ce.isDecimalDigit(o)?this._scanNumericLiteral():96===o||125===o&&"${"===this.curlyStack[this.curlyStack.length-1]?this._scanTemplate():o>=55296&&o<57343&&Ce.isIdentifierStart(this._codePointAt(this.index))?this._scanIdentifier():this._scanPunctuator()}}class Tr{constructor(o,h={},f){this.config={range:"boolean"==typeof h.range&&h.range,loc:"boolean"==typeof h.loc&&h.loc,source:null,tokens:"boolean"==typeof h.tokens&&h.tokens,comment:"boolean"==typeof h.comment&&h.comment,tolerant:"boolean"==typeof h.tolerant&&h.tolerant,globalReturn:!!h.globalReturn},this.config.loc&&h.source&&null!==h.source&&(this.config.source=String(h.source)),this.delegate=f,this.errorHandler=new lr,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new vr(o,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:de.EOF,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={allowIn:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,curlyParsing:"asObject"},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}tolerateError(o,...h){const f=h.slice(),m=o.replace(/%(\d)/g,(pe,De)=>(st(De<f.length,"Message reference must be in range"),f[De]));this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,m)}unexpectedTokenError(o,h){let f,m=h||"Unexpected token %0";return o?(h||(m=o.type===de.EOF?"Unexpected end of input":o.type===de.Identifier?"Unexpected identifier":o.type===de.NumericLiteral?"Unexpected number":o.type===de.StringLiteral?"Unexpected string":o.type===de.Template?"Unexpected quasi %0":"Unexpected token %0"),f=o.value.toString()):f="ILLEGAL",m=m.replace("%0",f),o&&"number"==typeof o.lineNumber?this.errorHandler.createError(o.start,o.lineNumber,o.start-(this.lastMarker.index-this.lastMarker.column)+1,m):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,m)}throwUnexpectedToken(o,h){throw this.unexpectedTokenError(o,h)}tolerateUnexpectedToken(o,h){this.errorHandler.tolerate(this.unexpectedTokenError(o,h))}collectComments(){if(this.config.comment){const o=this.scanner.scanComments();if(o&&o.length>0&&this.delegate)for(let h=0;h<o.length;++h){const f=o[h],m=new cr(f.multiLine?"Block":"Line",this.scanner.source.slice(f.slice[0],f.slice[1]));this.config.range&&(m.range=f.range),this.config.loc&&(m.loc=f.loc),this.delegate(m,{start:{line:f.loc.start.line,column:f.loc.start.column,offset:f.range[0]},end:{line:f.loc.end.line,column:f.loc.end.column,offset:f.range[1]}})}}else this.scanner.scanComments()}peekAhead(o){const f=this.scanner.saveState();o.call(this,()=>(this.scanner.scanComments(),this.scanner.lex())),this.scanner.restoreState(f)}getTokenRaw(o){return this.scanner.source.slice(o.start,o.end)}convertToken(o){const h={type:Pe[o.type],value:this.getTokenRaw(o)};return this.config.range&&(h.range=[o.start,o.end]),this.config.loc&&(h.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),o.type===de.RegularExpression&&(h.regex={pattern:o.pattern,flags:o.flags}),h}nextToken(){const o=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);const h=this.scanner.lex();return this.hasLineTerminator=o.lineNumber!==h.lineNumber,this.lookahead=h,this.config.tokens&&h.type!==de.EOF&&this.tokens.push(this.convertToken(h)),o}createNode(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}}startNode(o,h=0){let f=o.start-o.lineStart,m=o.lineNumber;return f<0&&(f+=h,m--),{index:o.start,line:m,column:f}}finalize(o,h){return this.config.range&&(h.range=[o.index,this.lastMarker.index]),this.config.loc&&(h.loc={start:{line:o.line,column:o.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(h.loc.source=this.config.source)),this.delegate&&this.delegate(h,{start:{line:o.line,column:o.column,offset:o.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}}),h}expect(o){const h=this.nextToken();h.type===de.Punctuator&&h.value===o||this.throwUnexpectedToken(h)}expectCommaSeparator(){if(this.config.tolerant){const o=this.lookahead;o.type===de.Punctuator&&","===o.value?this.nextToken():o.type===de.Punctuator&&";"===o.value?(this.nextToken(),this.tolerateUnexpectedToken(o)):this.tolerateUnexpectedToken(o,"Unexpected token %0")}else this.expect(",")}expectKeyword(o){const h=this.nextToken();h.type===de.Keyword&&h.value.toString().toLowerCase()===o.toLowerCase()||this.throwUnexpectedToken(h)}match(o){return this.lookahead.type===de.Punctuator&&this.lookahead.value===o}matchKeyword(o){return this.lookahead.type===de.Keyword&&this.lookahead.value.toLowerCase()===o.toLowerCase()}matchContextualKeyword(o){return this.lookahead.type===de.Identifier&&this.lookahead.value===o}matchAssign(){return this.lookahead.type===de.Punctuator&&fr.includes(this.lookahead.value)}isolateCoverGrammar(o){const h=this.context.isBindingElement,f=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;const v=o.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=h,this.context.isAssignmentTarget=f,this.context.firstCoverInitializedNameError=m,v}inheritCoverGrammar(o){const h=this.context.isBindingElement,f=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;const v=o.call(this);return this.context.isBindingElement=this.context.isBindingElement&&h,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&f,this.context.firstCoverInitializedNameError=m||this.context.firstCoverInitializedNameError,v}consumeSemicolon(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===de.EOF||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)}parsePrimaryExpression(){const o=this.createNode();let h,f,m;switch(this.lookahead.type){case de.Identifier:h=this.finalize(o,new at(this.nextToken().value));break;case de.NumericLiteral:case de.StringLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,f=this.nextToken(),m=this.getTokenRaw(f),h=this.finalize(o,new Ft(f.value,m));break;case de.BooleanLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,f=this.nextToken(),m=this.getTokenRaw(f),h=this.finalize(o,new Ft("true"===f.value.toString().toLowerCase(),m));break;case de.NullLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,f=this.nextToken(),m=this.getTokenRaw(f),h=this.finalize(o,new Ft(null,m));break;case de.Template:h=this.parseTemplateLiteral();break;case de.Punctuator:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,h=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":h=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":h=this.inheritCoverGrammar(this.parseObjectInitializer);break;default:h=this.throwUnexpectedToken(this.nextToken())}break;case de.Keyword:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.throwUnexpectedToken(this.nextToken());break;default:h=this.throwUnexpectedToken(this.nextToken())}return h}parseArrayInitializer(){const o=this.createNode(),h=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),h.push(null)):(h.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));return this.expect("]"),this.finalize(o,new hr(h))}parseObjectPropertyKey(){const o=this.createNode(),h=this.nextToken();let f;switch(h.type){case de.StringLiteral:case de.NumericLiteral:f=this.finalize(o,new Ft(h.value,this.getTokenRaw(h)));break;case de.Identifier:case de.BooleanLiteral:case de.NullLiteral:case de.Keyword:f=this.finalize(o,new at(h.value));break;default:f=this.throwUnexpectedToken(h)}return f}parseObjectProperty(){const o=this.createNode(),h=this.lookahead;let f=!1,v=!1,re=null;if(h.type===de.Identifier){const De=h.value;this.nextToken(),f=this.match("["),re=this.finalize(o,new at(De))}else this.match("*")?this.nextToken():(f=this.match("["),re=this.parseObjectPropertyKey());re||this.throwUnexpectedToken(this.lookahead);let ae=null;return this.match(":")?(this.nextToken(),ae=this.inheritCoverGrammar(this.parseAssignmentExpression)):h.type===de.Identifier?(v=!0,ae=this.finalize(o,new at(h.value))):this.throwUnexpectedToken(this.nextToken()),this.finalize(o,new Fr("init",re,f,ae,!1,v))}parseObjectInitializer(){const o=this.createNode();this.expect("{");const h=[];for(;!this.match("}");)h.push(this.parseObjectProperty()),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(o,new Cr(h))}parseTemplateHead(){st(this.lookahead.head,"Template literal must start with a template head");const o=this.createNode(),h=this.nextToken();return this.finalize(o,new An({raw:h.value,cooked:h.cooked},h.tail))}parseTemplateElement(){this.lookahead.type!==de.Template&&this.throwUnexpectedToken();const o=this.createNode(),h=this.nextToken();return this.finalize(o,new An({raw:h.value,cooked:h.cooked},h.tail))}parseTemplateLiteral(){const o=this.createNode(),h=[],f=[];let m=this.parseTemplateHead();for(f.push(m);!m.tail;)h.push(this.parseExpression()),m=this.parseTemplateElement(),f.push(m);return this.finalize(o,new Sr(f,h))}parseGroupExpression(){this.expect("("),this.context.isBindingElement=!0;const o=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.expect(")"),this.context.isBindingElement=!1,o}parseArguments(){this.expect("(");const o=[];if(!this.match(")"))for(;;){const h=this.isolateCoverGrammar(this.parseAssignmentExpression);if(o.push(h),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),o}isIdentifierName(o){return o.type===de.Identifier||o.type===de.Keyword||o.type===de.BooleanLiteral||o.type===de.NullLiteral}parseIdentifierName(){const o=this.createNode(),h=this.nextToken();return this.isIdentifierName(h)||this.throwUnexpectedToken(h),this.finalize(o,new at(h.value))}parseLeftHandSideExpressionAllowCall(){const o=this.lookahead,h=this.context.allowIn;this.context.allowIn=!0;let f=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("(")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;const m=this.parseArguments();f=this.finalize(this.startNode(o),new Dr(f,m))}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");const m=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),f=this.finalize(this.startNode(o),new gn(f,m))}else{if(!this.match("."))break;{this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");const m=this.parseIdentifierName();f=this.finalize(this.startNode(o),new En(f,m))}}return this.context.allowIn=h,f}parseLeftHandSideExpression(){st(this.context.allowIn,"callee of new expression always allow in keyword.");const o=this.startNode(this.lookahead);let h=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");const f=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),h=this.finalize(o,new gn(h,f))}else{if(!this.match("."))break;{this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");const f=this.parseIdentifierName();h=this.finalize(o,new En(h,f))}}return h}parseUpdateExpression(){let o;const h=this.lookahead;if(this.match("++")||this.match("--")){const f=this.startNode(h),m=this.nextToken();o=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.isAssignmentTarget||this.tolerateError("Invalid left-hand side in assignment"),o=this.finalize(f,new xn(m.value,o,!0)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(o=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===de.Punctuator&&(this.match("++")||this.match("--"))){this.context.isAssignmentTarget||this.tolerateError("Invalid left-hand side in assignment"),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;const f=this.nextToken().value,m=!1;o=this.finalize(this.startNode(h),new xn(f,o,m))}return o}parseUnaryExpression(){let o;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")){const h=this.startNode(this.lookahead),f=this.nextToken();o=this.inheritCoverGrammar(this.parseUnaryExpression),o=this.finalize(h,new Nr(f.value,o)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else o=this.parseUpdateExpression();return o}binaryPrecedence(o){const h=o.value;let f;return f=o.type===de.Punctuator?this.operatorPrecedence[h]||0:o.type===de.Keyword&&this.context.allowIn&&"in"===h?12:0,f}parseBinaryExpression(){const o=this.lookahead;let h=this.inheritCoverGrammar(this.parseUnaryExpression);const f=this.lookahead;let m=this.binaryPrecedence(f);if(m>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;const v=[o,this.lookahead];let re=h,ae=this.inheritCoverGrammar(this.parseUnaryExpression);const pe=[re,f.value,ae],De=[m];for(;m=this.binaryPrecedence(this.lookahead),!(m<=0);){for(;pe.length>2&&m<=De[De.length-1];){ae=pe.pop();const Ze=pe.pop();De.pop(),re=pe.pop(),v.pop();const je=v[v.length-1],$t=this.startNode(je,je.lineStart);pe.push(this.finalize($t,new pn(Ze,re,ae)))}pe.push(this.nextToken().value),De.push(m),v.push(this.lookahead),pe.push(this.inheritCoverGrammar(this.parseUnaryExpression))}let ge=pe.length-1;h=pe[ge];let Ae=v.pop();for(;ge>1;){const Ze=v.pop();if(!Ze)break;const $t=this.startNode(Ze,Ae&&Ae.lineStart);h=this.finalize($t,new pn(pe[ge-1],pe[ge-2],h)),ge-=2,Ae=Ze}}return h}parseAssignmentExpression(){const o=this.lookahead;let h=o,f=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError("Invalid left-hand side in assignment"),this.match("=")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),h=this.nextToken();const m=h.value,v=this.isolateCoverGrammar(this.parseAssignmentExpression);f=this.finalize(this.startNode(o),new mr(m,f,v)),this.context.firstCoverInitializedNameError=null}return f}parseExpression(){return this.isolateCoverGrammar(this.parseAssignmentExpression)}parseStatementListItem(){let o;return this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,o=this.lookahead.type===de.Keyword&&"function"===this.lookahead.value?this.parseFunctionDeclaration():this.parseStatement(),o}parseBlock(){const o=this.createNode();this.expect("{");const h=[];for(;!this.match("}");)h.push(this.parseStatementListItem());return this.expect("}"),this.finalize(o,new Dn(h))}parseObjectStatement(){const o=this.createNode(),h=this.parseObjectInitializer();return this.finalize(o,new yn(h))}parseBlockOrObjectStatement(){let o="asObject"===this.context.curlyParsing;return"asObjectOrBlock"===this.context.curlyParsing&&this.peekAhead(h=>{let f=h();f.type!==de.Identifier&&f.type!==de.StringLiteral||(f=h(),f.type===de.Punctuator&&":"===f.value&&(o=!0))}),o?this.parseObjectStatement():this.parseBlock()}parseVariableIdentifier(){const o=this.createNode(),h=this.nextToken();return h.type!==de.Identifier&&this.throwUnexpectedToken(h,"Identifier expected"),this.finalize(o,new at(h.value))}parseVariableDeclaration(o){const h=this.createNode(),f=this.parseVariableIdentifier();let m=null;return this.match("=")?(this.nextToken(),m=this.isolateCoverGrammar(this.parseAssignmentExpression)):"Identifier"===f.type||o.inFor||this.expect("="),this.finalize(h,new Ir(f,m))}parseVariableDeclarationList(o){const h=[this.parseVariableDeclaration(o)];for(;this.match(",");)this.nextToken(),h.push(this.parseVariableDeclaration(o));return h}parseVariableStatement(){const o=this.createNode();this.expectKeyword("var");const h=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(o,new Ut(h,"var"))}parseEmptyStatement(){const o=this.createNode();return this.expect(";"),this.finalize(o,new kt)}parseExpressionStatement(){const o=this.createNode(),h=this.parseExpression();return this.consumeSemicolon(),this.finalize(o,new yn(h))}parseIfClause(){const o=this.context.curlyParsing;this.context.curlyParsing="asObjectOrBlock";const h=this.parseStatement();return this.context.curlyParsing=o,h}parseIfStatement(){const o=this.createNode();let h,f=null;this.expectKeyword("if"),this.expect("(");const m=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),h=this.finalize(this.createNode(),new kt)):(this.expect(")"),h=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),f=this.parseIfClause())),this.finalize(o,new xr(m,h,f))}parseForStatement(){let o=null,h=null,f=null,m=null,v=null;const re=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){const pe=this.createNode();this.nextToken();const De=this.context.allowIn;this.context.allowIn=!1;const ge=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=De,1===ge.length&&this.matchKeyword("in")?(ge[0].init&&this.tolerateError("%0 loop variable declaration may not have an initializer","for-in"),m=this.finalize(pe,new Ut(ge,"var")),this.nextToken(),v=this.parseExpression()):(o=this.finalize(pe,new Ut(ge,"var")),this.expect(";"))}else{const pe=this.context.isBindingElement,De=this.context.isAssignmentTarget,ge=this.context.firstCoverInitializedNameError,Ae=this.context.allowIn;this.context.allowIn=!1,o=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=Ae,this.matchKeyword("in")?(this.context.isAssignmentTarget&&"AssignmentExpression"!==o.type||this.tolerateError("Invalid left-hand side in for-in"),this.nextToken(),m=o,v=this.parseExpression(),o=null):(this.context.isBindingElement=pe,this.context.isAssignmentTarget=De,this.context.firstCoverInitializedNameError=ge,this.expect(";"))}let ae;if(m||(this.match(";")||(h=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(f=this.isolateCoverGrammar(this.parseExpression))),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ae=this.finalize(this.createNode(),new kt);else{this.expect(")");const pe=this.context.inIteration,De=this.context.curlyParsing;this.context.inIteration=!0,this.context.curlyParsing="asObjectOrBlock",ae=this.isolateCoverGrammar(this.parseStatement),this.context.curlyParsing=De,this.context.inIteration=pe}return this.finalize(re,m&&v?new Er(m,v,ae):new yr(o,h,f,ae))}parseContinueStatement(){const o=this.createNode();return this.expectKeyword("continue"),this.consumeSemicolon(),this.finalize(o,new gr)}parseBreakStatement(){const o=this.createNode();return this.expectKeyword("break"),this.consumeSemicolon(),this.finalize(o,new pr)}parseReturnStatement(){this.config.globalReturn||this.context.inFunctionBody||this.tolerateError("Illegal return statement");const o=this.createNode();this.expectKeyword("return");const h=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===de.EOF)&&this.lookahead.type!==de.StringLiteral&&this.lookahead.type!==de.Template?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(o,new wr(h))}parseStatement(){let o;switch(this.lookahead.type){case de.BooleanLiteral:case de.NullLiteral:case de.NumericLiteral:case de.StringLiteral:case de.Template:case de.Identifier:o=this.parseExpressionStatement();break;case de.Punctuator:{const h=this.lookahead.value;o="{"===h?this.parseBlockOrObjectStatement():"("===h?this.parseExpressionStatement():";"===h?this.parseEmptyStatement():this.parseExpressionStatement();break}case de.Keyword:switch(this.lookahead.value.toLowerCase()){case"break":o=this.parseBreakStatement();break;case"continue":o=this.parseContinueStatement();break;case"for":o=this.parseForStatement();break;case"function":o=this.parseFunctionDeclaration();break;case"if":o=this.parseIfStatement();break;case"return":o=this.parseReturnStatement();break;case"var":o=this.parseVariableStatement();break;default:o=this.parseExpressionStatement()}break;default:o=this.throwUnexpectedToken(this.lookahead)}return o}parseFunctionSourceElements(){const o=this.createNode();this.expect("{");const h=this.context.inIteration,f=this.context.inFunctionBody;this.context.inIteration=!1,this.context.inFunctionBody=!0;const m=[];for(;this.lookahead.type!==de.EOF&&!this.match("}");)m.push(this.parseStatementListItem());return this.expect("}"),this.context.inIteration=h,this.context.inFunctionBody=f,this.finalize(o,new Dn(m))}parseFormalParameters(){const o=[];if(this.expect("("),!this.match(")"))for(;this.lookahead.type!==de.EOF&&(o.push(this.parseVariableIdentifier()),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),o}parseFunctionDeclaration(){const o=this.createNode();this.expectKeyword("function");const h=this.parseVariableIdentifier(),f=this.parseFormalParameters(),m=this.parseFunctionSourceElements();return this.finalize(o,new Ar(h,f,m))}parseScript(){const o=this.createNode(),h=[];for(;this.lookahead.type!==de.EOF;)h.push(this.parseStatementListItem());return this.finalize(o,new br(h))}}function wn(u,o,h){let f=null;const m=(De,ge)=>{h&&h(De,ge),f&&f.visit(De,ge)};let v="function"==typeof h?m:void 0,re=!1;if(o){re="boolean"==typeof o.comment&&o.comment;const De="boolean"==typeof o.attachComment&&o.attachComment;(re||De)&&(f=new ur,f.attach=De,o.comment=!0,v=m)}const ae=new Tr(u,o,v),pe=ae.parseScript();return re&&f&&(pe.comments=f.comments),ae.config.tokens&&(pe.tokens=ae.tokens),ae.config.tolerant&&(pe.errors=ae.errorHandler.errors),pe}function bn(u,o=[]){const h=wn("function _() { "+u+"\n}");if(null==h.body)throw new Error("No formula provided.");if(0===h.body.length)throw new Error("No formula provided.");if(0===h.body.length)throw new Error("No formula provided.");if("BlockStatement"!==h.body[0].body.type)throw new Error("Invalid formula content.");const f=(0,S.UA)(h);if(""!==f)throw new Error(f);return(0,S.dN)(h,o),h}var Sn=ee(8314);const Ur=["feature","angle","bearing","centroid","envelopeintersects","extent","geometry","isselfintersecting","ringisclockwise"];let Nn=!1,In=!1,ze=null,Lt=[];function vn(u,o){return!0===o.useAsync||!0===u.isAsync?function Pr(u,o){if(null===ze)throw new Error("Async Arcade must be enabled for this script");return(0,Sn.Z)("esri-csp-restrictions")?function(h){return ze.executeScript(u,h)}:y(u,o,!0)}(u,o):(0,Sn.Z)("esri-csp-restrictions")?function(h){return dn(u,h)}:y(u,o)}function Pt(u,o=[]){return bn(u,o)}function Zt(u,o){if(!0===o.useAsync||!0===u.isAsync){if(null===ze)throw new Error("Async Arcade must be enabled for this script");return ze.executeScript(u,o)}return dn(u,o)}function wt(u,o){return function ar(u,o){return(0,S.bV)(u,o)}(u,o)}function Tn(u){return function kr(u){return(0,S.Kq)(u)}(u)}function bt(u,o=[]){return void 0===u.usesGeometry&&(0,S.dN)(u,o),!0===u.usesGeometry}let Ht=null;function Gt(){return Ht||(Ht=_n(),Ht)}function _n(){return zt.apply(this,arguments)}function zt(){return zt=(0,me.Z)(function*(){const[u,o]=yield Promise.all([Promise.all([ee.e(4918),ee.e(4766)]).then(ee.bind(ee,44766)),Promise.resolve().then(ee.bind(ee,63461))]);return In=!0,o.setGeometryEngine(u),!0}),zt.apply(this,arguments)}let jt=null;function Yt(){return null!==jt||(jt=On()),jt}function On(){return Vt.apply(this,arguments)}function Vt(){return Vt=(0,me.Z)(function*(){yield O(),ze=yield Promise.all([ee.e(8302),ee.e(5039)]).then(ee.bind(ee,35039));for(const u of Lt)ze.extend(u),We(u,"async");return Lt=null,!0}),Vt.apply(this,arguments)}function Bn(){return Nn}function Rn(){return!!ze}function kn(){return In}let Wt=null;function Kt(){return Wt||(Wt=Un(),Wt)}function Un(){return Jt.apply(this,arguments)}function Jt(){return Jt=(0,me.Z)(function*(){yield Yt();const[u,o,h,f,m]=yield Promise.all([Promise.all([ee.e(410),ee.e(3482),ee.e(7712)]).then(ee.bind(ee,7712)),Promise.all([ee.e(410),ee.e(3482),ee.e(7712),ee.e(2480)]).then(ee.bind(ee,82480)),Promise.all([ee.e(410),ee.e(3482),ee.e(5978)]).then(ee.bind(ee,55978)),Promise.all([ee.e(410),ee.e(2543)]).then(ee.bind(ee,2543)),ee.e(4198).then(ee.bind(ee,34198))]);return Zn=u,ze.extend([o,h,f,m]),We([o,h,f,m],"async"),Nn=!0,!0}),Jt.apply(this,arguments)}function Mn(u,o=[]){return void 0===u.usesFeatureSet&&(0,S.dN)(u,o),!0===u.usesFeatureSet}function Wr(u,o){if(o){for(const h of o)if(wt(u,h))return!0;return!1}return!1}function Ln(u,o){return Xt.apply(this,arguments)}function Xt(){return Xt=(0,me.Z)(function*(u,o,h=[],f=!1){const m="string"==typeof u?Pt(u):u,v=[];return m&&(!1===kn()&&(bt(m)||f)&&v.push(Gt()),!1===Rn()&&(!0===m.isAsync||o)&&v.push(Yt()),!1===Bn()&&(Mn(m)||Wr(m,h))&&v.push(Kt())),!v.length||(yield Promise.all(v),!0)}),Xt.apply(this,arguments)}function Pn(u){if(bt(u))return!0;const o=(0,S.Vf)(u);let h=!1;for(let f=0;f<o.length;f++)if(Ur.includes(o[f])){h=!0;break}return h}let Zn=null;function St(){return Zn}const Kr=Object.freeze(Object.defineProperty({__proto__:null,compileScript:vn,extend:function Zr(u){mn(u),We(u,"sync"),null===ze?Lt.push(u):(We(u,"async"),ze.extend(u))},parseScript:Pt,validateScript:function Hr(u,o,h=""){return function Rr(u,o,h){return(0,S.FS)(u,o,h)}(u,o,h)},scriptCheck:function Gr(u,o,h,f=""){return function Or(u,o,h,f,m){const v=[],ae="function _() { \n"+u+"\n}";try{const pe=wn(ae,{tolerant:!0,loc:!0,range:!0}),De=pe.errors;if(De.length>0)for(let Ae=0;Ae<De.length;Ae++)v.push({line:De[Ae].lineNumber-2,character:De[Ae].column,reason:De[Ae].description});const ge=(0,S.AA)(pe,o,h,f,m);for(let Ae=0;Ae<ge.length;Ae++)ge[Ae].line=ge[Ae].line-2,ge[Ae].range&&(ge[Ae].range=[ge[Ae][0]-15,ge[Ae][1]-15]),ge[Ae].loc&&(ge[Ae].loc.start.line=ge[Ae].loc.start.line-2,ge[Ae].loc.end.line=ge[Ae].loc.end.line-2),v.push(ge[Ae])}catch(pe){try{if("Unexpected token }"===pe.description){const De=ae.split("\n").length;pe.lineNumber===De?(pe.index=ae.length-1,v.push({line:pe.lineNumber-4,character:pe.column,reason:"Unexpected end of script"})):(pe.index=ae.length-1,v.push({line:pe.lineNumber-2,character:pe.column,reason:"Unexpected end of script"}))}else v.push({line:pe.lineNumber-2,character:pe.column,reason:pe.description})}catch{}}return v}(u,o,h,f)},parseAndExecuteScript:function zr(u,o,h=[]){return Zt(bn(u,h),o)},executeScript:Zt,referencesMember:wt,referencesFunction:function jr(u,o){return function or(u,o){return(0,S.w8)(u,o)}(u,o)},extractFieldLiterals:function Yr(u,o=!1){return function Br(u,o){return(0,S.mb)(u)}(u)},extractExpectedFieldLiterals:Tn,scriptUsesGeometryEngine:bt,enableGeometrySupport:Gt,enableGeometrySupportImpl:_n,enableAsyncSupport:Yt,enableAsyncSupportImpl:On,isFeatureSetSupportEnabled:Bn,isAsyncEnabled:Rn,isGeometryEnabled:kn,enableFeatureSetSupport:Kt,enableFeatureSetSupportImpl:Un,scriptUsesFeatureSet:Mn,scriptIsAsync:function Vr(u,o=[]){return void 0===u.isAsync&&(0,S.dN)(u,o),!0===u.isAsync},loadScriptDependencies:Ln,scriptTouchesGeometry:Pn,featureSetUtils:St},Symbol.toStringTag,{value:"Module"}));var Jr=ee(58817),Hn=ee(86971);const Gn=/^\$(feature|aggregatedFeatures)\./i,Xr={vars:{$feature:"any",$view:"any"},spatialReference:null};function $r(u){return u.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function Qr(u){return null==u?null:(0,D.l)(u)||(0,D.n)(u)?"array":(0,D.j)(u)?"date":(0,D.b)(u)?"text":(0,D.i)(u)?"boolean":(0,D.a)(u)?"number":u instanceof he.Z?"dictionary":(0,D.s)(u)?"feature":u instanceof w.Z?"point":u instanceof X.Z?"polygon":u instanceof se.Z?"polyline":u instanceof R.Z?"multipoint":u instanceof L.Z?"extent":(0,D.y)(u)?"featureSet":(0,D.z)(u)?"featureSetCollection":null}function dt(u){if(!u)return null;try{return Pt(u)}catch{}return null}function qr(u,o){const h="string"==typeof u?dt(u):u;if(!h)return null;try{return vn(h,o=o||(0,Jr.d9)(Xr))}catch{}return null}function ei(u,o){return{vars:{$feature:null==u?new oe.Z:oe.Z.createFromGraphic(u),$view:o&&o.view},spatialReference:o&&o.sr}}function ti(u,o,h){return oe.Z.createFromGraphicLikeObject(o,u,h)}function ni(u,o){u.vars.$feature=o}function ri(u,o){let h;try{h=Zt(u,o)}catch{h=null}return h}function ii(u,o){let h;try{h=u?u(o):null}catch{h=null}return h}function si(u,o){try{return u?u(o):Promise.resolve(null)}catch{return Promise.resolve(null)}}function ai(u,o){if(!u)return[];const h="string"==typeof u?dt(u):u;if(!h)return[];const f=Tn(h);let m=new Array;f.forEach(re=>{Gn.test(re)&&(re=re.replace(Gn,""),m.push(re))});const v=m.filter(re=>re.includes("*"));return m=m.filter(re=>!v.includes(re)),o&&v.forEach(re=>{const ae=new RegExp(`^${re.split(/\*+/).map($r).join(".*")}$`,"i");o.forEach(pe=>ae.test(pe)?m.push(pe):null)}),[...new Set(m.sort())]}function oi(u){return wt(u,"$view")}function ui(u,o){return!!u&&wt(u,o)}function li(u){if(u&&(null!=u.spatialReference||null!=u.scale&&null!=u.viewingMode))return{view:u.viewingMode&&null!=u.scale?new he.Z({viewingMode:u.viewingMode,scale:u.scale}):null,sr:u.spatialReference}}function ci({url:u,spatialReference:o,lrucache:h,interceptor:f}){const m=St();return m?m.createFeatureSetCollectionFromService(u,o,h,f):null}function hi({layer:u,spatialReference:o,outFields:h,returnGeometry:f,lrucache:m,interceptor:v}){if(null===u)return null;const re=St();return re?re.constructFeatureSet(u,o,h,f??!0,m,v):null}function fi(u){if(null===u?.map)return null;const o=St();return o?o.createFeatureSetCollectionFromMap(u.map,u.spatialReference,u.lrucache,u.interceptor):null}function mi(u,o,h=[]){return Ln(u,o,h)}function di(){return Gt()}function pi(){return Kt()}function zn(u,o){if(!u)return!1;if("string"==typeof u)return o(u);const h=u;if(function Di(u){return"simple"===u.type||"class-breaks"===u.type||"unique-value"===u.type||"dot-density"===u.type||"dictionary"===u.type||"pie-chart"===u.type}(h)){if("dot-density"===h.type){const v=h.attributes.some(re=>o(re.valueExpression));if(v)return v}const f=h.visualVariables,m=!!f&&f.some(v=>{let re=o(v.valueExpression);return"size"===v.type&&((0,Hn.iY)(v.minSize)&&(re=re||o(v.minSize.valueExpression)),(0,Hn.iY)(v.maxSize)&&(re=re||o(v.maxSize.valueExpression))),re});return!(!("valueExpression"in h)||!o(h.valueExpression))||m}if(function gi(u){return"esri.layers.support.LabelClass"===u.declaredClass}(h)){const f=h.labelExpressionInfo&&h.labelExpressionInfo.expression;return!(!f||!o(f))||!1}return!!function Ei(u){return"esri.PopupTemplate"===u.declaredClass}(h)&&(!!h.expressionInfos&&h.expressionInfos.some(f=>o(f.expression))||Array.isArray(h.content)&&h.content.some(f=>"expression"===f.type&&o(f.expressionInfo?.expression)))}function yi(u){const o=dt(u);return!!o&&Pn(o)}function Ai(u){return zn(u,yi)}function xi(u){const o=dt(u);return!!o&&bt(o)}function Ci(u){return zn(u,xi)}}}]);