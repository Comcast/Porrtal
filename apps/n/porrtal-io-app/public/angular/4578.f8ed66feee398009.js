"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[4578],{24578:(D,L,n)=>{n.r(L),n.d(L,{fromUrl:()=>x});var r=n(15861),v=n(26584),t=n(62208),a=n(21726),M=n(38305),h=n(17196),W=n(30164);function x(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(function*(e){const o=e.properties?.customParameters,l=yield R(e.url,o),u={...e.properties,url:e.url};if(!l.sublayerIds)return null!=l.layerOrTableId&&(u.layerId=l.layerOrTableId,u.sourceJSON=l.sourceJSON),new l.Constructor(u);const y=new((yield n.e(5964).then(n.bind(n,25964))).default)({title:l.parsedUrl.title});return F(y,l,u),y})).apply(this,arguments)}function C(e,o){return e?e.find(l=>l.id===o):null}function F(e,o,l){function u(y,f){const i={...l,layerId:y,sublayerTitleMode:"service-name"};return(0,t.pC)(f)&&(i.sourceJSON=f),new o.Constructor(i)}o.sublayerIds.forEach(y=>{const f=u(y,C(o.sublayerInfos,y));e.add(f)}),o.tableIds.forEach(y=>{const f=u(y,C(o.tableInfos,y));e.tables.add(f)})}function R(e,o){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(function*(e,o){let l=(0,M.Qc)(e);if((0,t.Wi)(l)&&(l=yield B(e,o)),(0,t.Wi)(l))throw new v.Z("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:e});const{serverType:u,sublayer:y}=l;let f;const i={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"};switch(u){case"MapServer":f=null!=y?"FeatureLayer":V(e,o).then(s=>s?"TileLayer":"MapImageLayer");break;case"ImageServer":f=(0,h.C)(e,{customParameters:o}).then(s=>s.tileInfo?"LERC"!==(s.tileInfo&&s.tileInfo.format)?.toUpperCase()||s.cacheType&&"elevation"!==s.cacheType.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer");break;case"SceneServer":f=(0,h.C)(l.url.path,{customParameters:o}).then(s=>{if(s){if("Voxel"===s?.layerType)return"VoxelLayer";if(s?.layers&&Array.isArray(s.layers)&&s.layers.length>0){const g={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},U=s.layers[0]?.layerType;if(null!=g[U])return g[U]}}return"SceneLayer"});break;default:f=i[u]}const Z="FeatureServer"===u,m={parsedUrl:l,Constructor:null,layerOrTableId:Z?y:null,sublayerIds:null,tableIds:null},p=yield f;if({FeatureLayer:!0,SceneLayer:!0}[p]&&null==y){const s=yield G(e,u,o);Z&&(m.sublayerInfos=s.layerInfos,m.tableInfos=s.tableInfos),s.layerIds.length+s.tableIds.length!==1?(m.sublayerIds=s.layerIds,m.tableIds=s.tableIds):Z&&(m.layerOrTableId=s.layerIds[0]??s.tableIds[0],m.sourceJSON=s.layerInfos[0]??s.tableInfos[0])}return m.Constructor=yield N(p),m})).apply(this,arguments)}function B(e,o){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(function*(e,o){const l=yield(0,h.C)(e,{customParameters:o});let u=null,y=null;const f=l.type;if("Feature Layer"===f||"Table"===f?(u="FeatureServer",y=l.id):"indexedVector"===f?u="VectorTileServer":l.hasOwnProperty("mapName")?u="MapServer":l.hasOwnProperty("bandCount")&&l.hasOwnProperty("pixelSizeX")?u="ImageServer":l.hasOwnProperty("maxRecordCount")&&l.hasOwnProperty("allowGeometryUpdates")?u="FeatureServer":l.hasOwnProperty("streamUrls")?u="StreamServer":E(l)?(u="SceneServer",y=l.id):l.hasOwnProperty("layers")&&E(l.layers?.[0])&&(u="SceneServer"),!u)return null;const i=null!=y?(0,M.DR)(e):null;return{title:(0,t.pC)(i)&&l.name||(0,a.vt)(e),serverType:u,sublayer:y,url:{path:(0,t.pC)(i)?i.serviceUrl:(0,a.mN)(e).path}}})).apply(this,arguments)}function E(e){return e?.hasOwnProperty("store")&&e.hasOwnProperty("id")&&"number"==typeof e.id}function G(e,o,l){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(e,o,l){let u,y=!1;if("FeatureServer"===o){const d=yield(0,h.V)(e,{customParameters:l});y=!!d.layersJSON,u=d.layersJSON||d.serviceJSON}else u=yield(0,h.C)(e,{customParameters:l});const f=u?.layers,i=u?.tables;return{layerIds:f?.map(d=>d.id).reverse()||[],tableIds:i?.map(d=>d.id).reverse()||[],layerInfos:y?f:[],tableInfos:y?i:[]}})).apply(this,arguments)}function N(e){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)(function*(e){return(0,W.T[e])()})).apply(this,arguments)}function V(e,o){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(function*(e,o){return(yield(0,h.C)(e,{customParameters:o})).tileInfo})).apply(this,arguments)}},30164:(D,L,n)=>{n.d(L,{T:()=>v});var r=n(15861);const v={BingMapsLayer:(t=(0,r.Z)(function*(){return(yield n.e(2248).then(n.bind(n,72248))).default}),function(){return t.apply(this,arguments)}),BuildingSceneLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(157),n.e(9410),n.e(8592),n.e(676)]).then(n.bind(n,6189))).default});return function(){return t.apply(this,arguments)}}(),CSVLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(5625).then(n.bind(n,85625))).default});return function(){return t.apply(this,arguments)}}(),DimensionLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(7614)]).then(n.bind(n,17614))).default});return function(){return t.apply(this,arguments)}}(),ElevationLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(5810)]).then(n.bind(n,75810))).default});return function(){return t.apply(this,arguments)}}(),FeatureLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.resolve().then(n.bind(n,80415))).default});return function(){return t.apply(this,arguments)}}(),GroupLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(5964).then(n.bind(n,25964))).default});return function(){return t.apply(this,arguments)}}(),GeoRSSLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(6306).then(n.bind(n,96306))).default});return function(){return t.apply(this,arguments)}}(),GeoJSONLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(2903).then(n.bind(n,72903))).default});return function(){return t.apply(this,arguments)}}(),ImageryLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(1533),n.e(1913),n.e(9217)]).then(n.bind(n,39217))).default});return function(){return t.apply(this,arguments)}}(),ImageryTileLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(1533),n.e(8594),n.e(1913),n.e(6455),n.e(8592),n.e(6329)]).then(n.bind(n,86329))).default});return function(){return t.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(157),n.e(7867)]).then(n.bind(n,67867))).default});return function(){return t.apply(this,arguments)}}(),KMLLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(2701).then(n.bind(n,12701))).default});return function(){return t.apply(this,arguments)}}(),LineOfSightLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(8572)]).then(n.bind(n,29457))).default});return function(){return t.apply(this,arguments)}}(),MapImageLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(3130),n.e(8887)]).then(n.bind(n,48887))).default});return function(){return t.apply(this,arguments)}}(),MapNotesLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(9114)]).then(n.bind(n,49114))).default});return function(){return t.apply(this,arguments)}}(),OGCFeatureLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(9628),n.e(2955)]).then(n.bind(n,36554))).default});return function(){return t.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(1591)]).then(n.bind(n,71591))).default});return function(){return t.apply(this,arguments)}}(),OrientedImageryLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(725).then(n.bind(n,60725))).default});return function(){return t.apply(this,arguments)}}(),PointCloudLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(157),n.e(7155)]).then(n.bind(n,7155))).default});return function(){return t.apply(this,arguments)}}(),RouteLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(403),n.e(4940)]).then(n.bind(n,84940))).default});return function(){return t.apply(this,arguments)}}(),SceneLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(157),n.e(8592),n.e(7559)]).then(n.bind(n,27559))).default});return function(){return t.apply(this,arguments)}}(),StreamLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(289).then(n.bind(n,70289))).default});return function(){return t.apply(this,arguments)}}(),SubtypeGroupLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(465).then(n.bind(n,20465))).default});return function(){return t.apply(this,arguments)}}(),TileLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(3130),n.e(8592),n.e(9735)]).then(n.bind(n,59735))).default});return function(){return t.apply(this,arguments)}}(),UnknownLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(6339).then(n.bind(n,56339))).default});return function(){return t.apply(this,arguments)}}(),UnsupportedLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(6240).then(n.bind(n,16240))).default});return function(){return t.apply(this,arguments)}}(),VectorTileLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8364),n.e(8592),n.e(6445)]).then(n.bind(n,10193))).default});return function(){return t.apply(this,arguments)}}(),VoxelLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(157),n.e(6007)]).then(n.bind(n,26007))).default});return function(){return t.apply(this,arguments)}}(),WebTileLayer:function(){var t=(0,r.Z)(function*(){return(yield n.e(8592).then(n.bind(n,28678))).default});return function(){return t.apply(this,arguments)}}(),WFSLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(3774),n.e(8762)]).then(n.bind(n,98762))).default});return function(){return t.apply(this,arguments)}}(),WMSLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(6894)]).then(n.bind(n,46894))).default});return function(){return t.apply(this,arguments)}}(),WMTSLayer:function(){var t=(0,r.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4223)]).then(n.bind(n,64223))).default});return function(){return t.apply(this,arguments)}}()};var t}}]);