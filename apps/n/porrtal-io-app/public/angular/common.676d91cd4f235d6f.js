/*
Copyright 2022 Comcast Cable Communications Management, LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[8592],{85840:(he,ie,_)=>{_.d(ie,{Z:()=>w});var M=_(17626),L=_(14517),N=_(79608),Q=_(61996),ee=_(86810),V=_(62208),R=_(77712),G=(_(85931),_(90912),_(76898));let T=0,z=class extends((0,ee.eC)((0,N.J)((0,Q.IG)(L.Z)))){constructor(J){super(J),this.id=`${Date.now().toString(16)}-analysis-${T++}`,this.title=null}get parent(){return this._get("parent")}set parent(J){const K=this.parent;if((0,V.pC)(K))switch(K.type){case"line-of-sight":case"dimension":K.releaseAnalysis(this);break;case"2d":case"3d":K.analyses.includes(this)&&K.analyses.remove(this)}this._set("parent",J)}get isEditable(){return this.requiredPropertiesForEditing.every(V.pC)}};(0,M._)([(0,R.Cb)({type:String,constructOnly:!0,clonable:!1})],z.prototype,"id",void 0),(0,M._)([(0,R.Cb)({type:String})],z.prototype,"title",void 0),(0,M._)([(0,R.Cb)({constructOnly:!0})],z.prototype,"type",void 0),(0,M._)([(0,R.Cb)({clonable:!1,value:null})],z.prototype,"parent",null),(0,M._)([(0,R.Cb)({readOnly:!0})],z.prototype,"isEditable",null),(0,M._)([(0,R.Cb)({readOnly:!0})],z.prototype,"requiredPropertiesForEditing",void 0),z=(0,M._)([(0,G.j)("esri.analysis.Analysis")],z);const w=z},69186:(he,ie,_)=>{_.d(ie,{Z:()=>J});var M=_(17626),N=(_(29132),_(97662)),Q=_(79608),ee=_(23719),V=_(86810),R=_(77712),A=(_(85931),_(66656)),G=_(76898),T=_(90912),z=_(72642);let w=class extends((0,V.eC)(Q.j)){constructor(K){super(K),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType=N.n.Direct,this.offset=0,this.orientation=0}};(0,M._)([(0,R.Cb)({type:["length"],json:{write:{isRequired:!0}}})],w.prototype,"type",void 0),(0,M._)([(0,R.Cb)({type:z.Z,json:{write:!0}})],w.prototype,"startPoint",void 0),(0,M._)([(0,R.Cb)({type:z.Z,json:{write:!0}})],w.prototype,"endPoint",void 0),(0,M._)([(0,R.Cb)({type:N.V,nonNullable:!0,json:{write:{isRequired:!0}}})],w.prototype,"measureType",void 0),(0,M._)([(0,R.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],w.prototype,"offset",void 0),(0,M._)([(0,R.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,A.p)(K=>ee.BV.normalize((0,T.q9)(K),0,!0))],w.prototype,"orientation",void 0),w=(0,M._)([(0,G.j)("esri.analysis.LengthDimension")],w);const J=w},61642:(he,ie,_)=>{_.d(ie,{Z:()=>K});var M=_(17626),L=_(8425),N=_(14517),Q=_(79608),ee=_(86810),V=_(62208),R=_(77712),G=(_(85931),_(90912),_(76898)),T=_(40405),z=_(72642),w=_(82706);let J=class extends((0,ee.eC)((0,Q.J)(N.Z))){constructor(I){super(I),this.position=null,this.elevationInfo=null,this.feature=null}equals(I){return(0,V._W)(this.position,I.position)&&(0,V._W)(this.elevationInfo,I.elevationInfo)&&(0,L.kk)(this.feature,I.feature)}};(0,M._)([(0,R.Cb)({type:z.Z}),(0,T.B)()],J.prototype,"position",void 0),(0,M._)([(0,R.Cb)({type:w.Z}),(0,T.B)()],J.prototype,"elevationInfo",void 0),(0,M._)([(0,R.Cb)(L.rX)],J.prototype,"feature",void 0),J=(0,M._)([(0,G.j)("esri.analysis.LineOfSightAnalysisObserver")],J);const K=J},57574:(he,ie,_)=>{_.d(ie,{Z:()=>J});var M=_(17626),L=_(8425),N=_(79608),Q=_(86810),ee=_(62208),V=_(77712),A=(_(85931),_(90912),_(76898)),G=_(40405),T=_(72642),z=_(82706);let w=class extends((0,Q.eC)(N.j)){constructor(K){super(K),this.position=null,this.elevationInfo=null,this.feature=null}equals(K){return(0,ee._W)(this.position,K.position)&&(0,ee._W)(this.elevationInfo,K.elevationInfo)&&(0,L.kk)(this.feature,K.feature)}};(0,M._)([(0,V.Cb)({type:T.Z}),(0,G.B)()],w.prototype,"position",void 0),(0,M._)([(0,V.Cb)({type:z.Z}),(0,G.B)()],w.prototype,"elevationInfo",void 0),(0,M._)([(0,V.Cb)(L.rX)],w.prototype,"feature",void 0),w=(0,M._)([(0,A.j)("esri.analysis.LineOfSightAnalysisTarget")],w);const J=w},97662:(he,ie,_)=>{var M,N;_.d(ie,{V:()=>L,n:()=>M}),(N=M||(M={})).Horizontal="horizontal",N.Vertical="vertical",N.Direct="direct";const L=[M.Horizontal,M.Vertical,M.Direct]},8425:(he,ie,_)=>{_.d(ie,{kk:()=>L,pD:()=>N,rX:()=>Q});var M=_(62208);function L(R,$){return N(R)===N($)}function N(R){if((0,M.Wi)(R))return null;let A=null;return A=null!=R.objectId?R.objectId:null!=R.layer&&"objectIdField"in R.layer&&null!=R.layer.objectIdField&&null!=R.attributes?R.attributes[R.layer.objectIdField]:R.uid,null==A?null:`o-${null!=R.layer?R.layer.id:""}-${A}`}const Q={json:{write:{writer:function ee(R,$){(0,M.Wi)(R)||null==R.layer?.objectIdField||null==R.attributes||($.feature={layerId:R.layer.id,objectId:R.attributes[R.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function V(R){if(null!=R.layerId&&null!=R.objectId)return{uid:null,layer:{id:R.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:R.objectId}}}}}}}},7006:(he,ie,_)=>{_.d(ie,{A:()=>Y,B:()=>X,C:()=>Z,D:()=>q,E:()=>te,F:()=>k,G:()=>ne,H:()=>H,I:()=>se,J:()=>re,K:()=>oe,L:()=>ue,M:()=>ce,N:()=>de,a:()=>ee,b:()=>V,c:()=>Q,d:()=>R,e:()=>N,f:()=>$,g:()=>fe,h:()=>A,i:()=>G,j:()=>w,k:()=>I,l:()=>v,m:()=>P,n:()=>U,o:()=>J,p:()=>D,q:()=>F,r:()=>K,s:()=>h,t:()=>T,u:()=>g,v:()=>C,w:()=>z,x:()=>S,y:()=>B,z:()=>W});var M=_(4918),L=_(15994);function N(le){return M.G.extendedSpatialReferenceInfo(le)}function Q(le,ae,_e){return M.G.clip(L.N,le,ae,_e)}function ee(le,ae,_e){return M.G.cut(L.N,le,ae,_e)}function V(le,ae,_e){return M.G.contains(L.N,le,ae,_e)}function R(le,ae,_e){return M.G.crosses(L.N,le,ae,_e)}function $(le,ae,_e,pe){return M.G.distance(L.N,le,ae,_e,pe)}function A(le,ae,_e){return M.G.equals(L.N,le,ae,_e)}function G(le,ae,_e){return M.G.intersects(L.N,le,ae,_e)}function T(le,ae,_e){return M.G.touches(L.N,le,ae,_e)}function z(le,ae,_e){return M.G.within(L.N,le,ae,_e)}function w(le,ae,_e){return M.G.disjoint(L.N,le,ae,_e)}function J(le,ae,_e){return M.G.overlaps(L.N,le,ae,_e)}function K(le,ae,_e,pe){return M.G.relate(L.N,le,ae,_e,pe)}function I(le,ae){return M.G.isSimple(L.N,le,ae)}function h(le,ae){return M.G.simplify(L.N,le,ae)}function v(le,ae,_e=!1){return M.G.convexHull(L.N,le,ae,_e)}function P(le,ae,_e){return M.G.difference(L.N,le,ae,_e)}function U(le,ae,_e){return M.G.symmetricDifference(L.N,le,ae,_e)}function D(le,ae,_e){return M.G.intersect(L.N,le,ae,_e)}function g(le,ae,_e=null){return M.G.union(L.N,le,ae,_e)}function F(le,ae,_e,pe,Ee,ye,me){return M.G.offset(L.N,le,ae,_e,pe,Ee,ye,me)}function C(le,ae,_e,pe,Ee=!1){return M.G.buffer(L.N,le,ae,_e,pe,Ee)}function S(le,ae,_e,pe,Ee,ye,me){return M.G.geodesicBuffer(L.N,le,ae,_e,pe,Ee,ye,me)}function B(le,ae,_e,pe=!0){return M.G.nearestCoordinate(L.N,le,ae,_e,pe)}function W(le,ae,_e){return M.G.nearestVertex(L.N,le,ae,_e)}function Y(le,ae,_e,pe,Ee){return M.G.nearestVertices(L.N,le,ae,_e,pe,Ee)}function X(le,ae,_e,pe){if(null==ae||null==pe)throw new Error("Illegal Argument Exception");const Ee=M.G.rotate(ae,_e,pe);return Ee.spatialReference=le,Ee}function Z(le,ae,_e){if(null==ae||null==_e)throw new Error("Illegal Argument Exception");const pe=M.G.flipHorizontal(ae,_e);return pe.spatialReference=le,pe}function q(le,ae,_e){if(null==ae||null==_e)throw new Error("Illegal Argument Exception");const pe=M.G.flipVertical(ae,_e);return pe.spatialReference=le,pe}function te(le,ae,_e,pe,Ee){return M.G.generalize(L.N,le,ae,_e,pe,Ee)}function k(le,ae,_e,pe){return M.G.densify(L.N,le,ae,_e,pe)}function ne(le,ae,_e,pe,Ee=0){return M.G.geodesicDensify(L.N,le,ae,_e,pe,Ee)}function H(le,ae,_e){return M.G.planarArea(L.N,le,ae,_e)}function se(le,ae,_e){return M.G.planarLength(L.N,le,ae,_e)}function re(le,ae,_e,pe){return M.G.geodesicArea(L.N,le,ae,_e,pe)}function oe(le,ae,_e,pe){return M.G.geodesicLength(L.N,le,ae,_e,pe)}function ue(le,ae,_e){return null==ae||null==_e?[]:M.G.intersectLinesToPoints(L.N,le,ae,_e)}function ce(le,ae){M.G.changeDefaultSpatialReferenceTolerance(le,ae)}function de(le){M.G.clearDefaultSpatialReferenceTolerance(le)}const fe=Object.freeze(Object.defineProperty({__proto__:null,extendedSpatialReferenceInfo:N,clip:Q,cut:ee,contains:V,crosses:R,distance:$,equals:A,intersects:G,touches:T,within:z,disjoint:w,overlaps:J,relate:K,isSimple:I,simplify:h,convexHull:v,difference:P,symmetricDifference:U,intersect:D,union:g,offset:F,buffer:C,geodesicBuffer:S,nearestCoordinate:B,nearestVertex:W,nearestVertices:Y,rotate:X,flipHorizontal:Z,flipVertical:q,generalize:te,densify:k,geodesicDensify:ne,planarArea:H,planarLength:se,geodesicArea:re,geodesicLength:oe,intersectLinesToPoints:ue,changeDefaultSpatialReferenceTolerance:ce,clearDefaultSpatialReferenceTolerance:de},Symbol.toStringTag,{value:"Module"}))},75327:(he,ie,_)=>{_.d(ie,{Qc:()=>T,WU:()=>ee,lt:()=>G});var M=_(77275),L=_(56683);const N={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function Q(I){I||(I=(0,L.Kd)());let h=I in N;if(!h){const D=I.split("-");D.length>1&&D[0]in N&&(I=D[0],h=!0),h||(I="en")}const[v,P,U="#,##0.###"]=N[I];return{decimal:v,group:P,pattern:U}}function ee(I,h){const v=Q((h={...h}).locale);h.customs=v;const P=h.pattern||v.pattern;return isNaN(I)||Math.abs(I)===1/0?null:function R(I,h,v){const P=(v=v||{}).customs.group,U=v.customs.decimal,D=h.split(";"),g=D[0];if((h=D[I<0?1:0]||"-"+g).includes("%"))I*=100;else if(h.includes("\u2030"))I*=1e3;else{if(h.includes("\xa4"))throw new Error("currency notation not supported");if(h.includes("E"))throw new Error("exponential notation not supported")}const F=V,C=g.match(F);if(!C)throw new Error("unable to find a number expression in pattern: "+h);return!1===v.fractional&&(v.places=0),h.replace(F,function $(I,h,v){!0===(v=v||{}).places&&(v.places=0),v.places===1/0&&(v.places=6);const P=h.split("."),U="string"==typeof v.places&&v.places.indexOf(",");let D=v.places;U?D=v.places.substring(U+1):D>=0||(D=(P[1]||[]).length),v.round<0||(I=Number(I.toFixed(Number(D))));const g=String(Math.abs(I)).split("."),F=g[1]||"";if(P[1]||v.places){U&&(v.places=v.places.substring(0,U));const Z=void 0!==v.places?v.places:P[1]&&P[1].lastIndexOf("0")+1;Z>F.length&&(g[1]=F.padEnd(Number(Z),"0")),D<F.length&&(g[1]=F.substr(0,Number(D)))}else g[1]&&g.pop();const C=P[0].replace(",","");let S=C.indexOf("0");-1!==S&&(S=C.length-S,S>g[0].length&&(g[0]=g[0].padStart(S,"0")),C.includes("#")||(g[0]=g[0].substr(g[0].length-S)));let B,W,Y=P[0].lastIndexOf(",");if(-1!==Y){B=P[0].length-Y-1;const Z=P[0].substr(0,Y);Y=Z.lastIndexOf(","),-1!==Y&&(W=Z.length-Y-1)}const X=[];for(let Z=g[0];Z;){const q=Z.length-B;X.push(q>0?Z.substr(q):Z),Z=q>0?Z.slice(0,q):"",W&&(B=W,W=void 0)}return g[0]=X.reverse().join(v.group||","),g.join(v.decimal||".")}(I,C[0],{decimal:U,group:P,places:v.places,round:v.round}))}(I,P,h)}const V=/[#0,]*[#0](?:\.0*#*)?/;function G(I){const h=Q((I=I||{}).locale),v=I.pattern||h.pattern,P=h.group,U=h.decimal;let D=1;if(v.includes("%"))D/=100;else if(v.includes("\u2030"))D/=1e3;else if(v.includes("\xa4"))throw new Error("currency notation not supported");const g=v.split(";");return 1===g.length&&g.push("-"+g[0]),{regexp:J(g,C=>(C="(?:"+(0,M.Qs)(C,".")+")").replace(V,S=>{const B={signed:!1,separator:I.strict?P:[P,""],fractional:I.fractional,decimal:U,exponent:!1},W=S.split(".");let Y=I.places;1===W.length&&1!==D&&(W[1]="###"),1===W.length||0===Y?B.fractional=!1:(void 0===Y&&(Y=I.pattern?W[1].lastIndexOf("0")+1:1/0),Y&&null==I.fractional&&(B.fractional=!0),!I.places&&Y<W[1].length&&(Y+=","+W[1].length),B.places=Y);const X=W[0].split(",");return X.length>1&&(B.groupSize=X.pop().length,X.length>1&&(B.groupSize2=X.pop().length)),"("+function z(I){"places"in(I=I||{})||(I.places=1/0),"string"!=typeof I.decimal&&(I.decimal="."),"fractional"in I&&!/^0/.test(String(I.places))||(I.fractional=[!0,!1]),"exponent"in I||(I.exponent=[!0,!1]),"eSigned"in I||(I.eSigned=[!0,!1]);const h=w(I),v=J(I.fractional,U=>{let D="";return U&&0!==I.places&&(D="\\"+I.decimal,I.places===1/0?D="(?:"+D+"\\d+)?":D+="\\d{"+I.places+"}"),D},!0);let P=h+v;return v&&(P="(?:(?:"+P+")|(?:"+v+"))"),P+J(I.exponent,U=>U?"([eE]"+w({signed:I.eSigned})+")":"")}(B)+")"}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:P,decimal:U,factor:D}}function T(I,h){const v=G(h),P=new RegExp("^"+v.regexp+"$").exec(I);if(!P)return NaN;let U=P[1];if(!P[1]){if(!P[2])return NaN;U=P[2],v.factor*=-1}return U=U.replace(new RegExp("["+v.group+"\\s\\xa0]","g"),"").replace(v.decimal,"."),Number(U)*v.factor}function w(I){return"signed"in(I=I||{})||(I.signed=[!0,!1]),"separator"in I?"groupSize"in I||(I.groupSize=3):I.separator="",J(I.signed,h=>h?"[-+]":"",!0)+J(I.separator,h=>{if(!h)return"(?:\\d+)";" "===(h=(0,M.Qs)(h))?h="\\s":"\xa0"===h&&(h="\\s\\xa0");const v=I.groupSize,P=I.groupSize2;if(P){const U="(?:0|[1-9]\\d{0,"+(P-1)+"}(?:["+h+"]\\d{"+P+"})*["+h+"]\\d{"+v+"})";return v-P>0?"(?:"+U+"|(?:0|[1-9]\\d{0,"+(v-1)+"}))":U}return"(?:0|[1-9]\\d{0,"+(v-1)+"}(?:["+h+"]\\d{"+v+"})*)"},!0)}const J=(I,h,v)=>{if(!(I instanceof Array))return h(I);const P=[];for(let U=0;U<I.length;U++)P.push(h(I[U]));return K(P.join("|"),Boolean(v))},K=(I,h)=>"("+(h?"?:":"")+I+")"},32825:(he,ie,_)=>{_.r(ie),_.d(ie,{buffer:()=>N.v,changeDefaultSpatialReferenceTolerance:()=>N.M,clearDefaultSpatialReferenceTolerance:()=>N.N,clip:()=>N.c,contains:()=>N.b,convexHull:()=>N.l,crosses:()=>N.d,cut:()=>N.a,densify:()=>N.F,difference:()=>N.m,disjoint:()=>N.j,distance:()=>N.f,equals:()=>N.h,extendedSpatialReferenceInfo:()=>N.e,flipHorizontal:()=>N.C,flipVertical:()=>N.D,generalize:()=>N.E,geodesicArea:()=>N.J,geodesicBuffer:()=>N.x,geodesicDensify:()=>N.G,geodesicLength:()=>N.K,intersect:()=>N.p,intersectLinesToPoints:()=>N.L,intersects:()=>N.i,isSimple:()=>N.k,nearestCoordinate:()=>N.y,nearestVertex:()=>N.z,nearestVertices:()=>N.A,offset:()=>N.q,overlaps:()=>N.o,planarArea:()=>N.H,planarLength:()=>N.I,relate:()=>N.r,rotate:()=>N.B,simplify:()=>N.s,symmetricDifference:()=>N.n,touches:()=>N.t,union:()=>N.u,within:()=>N.w}),_(4918),_(15994);var N=_(7006)},99746:(he,ie,_)=>{_.d(ie,{Z:()=>C});var D,M=_(17626),L=_(86810),N=_(62208),Q=_(77712),R=(_(85931),_(90912),_(76898)),$=_(28347),A=_(43703),G=_(48977),T=_(78451),z=_(84161),w=_(28093),J=_(72642),K=_(55915),I=_(12080),h=_(89586),v=_(60479),P=_(79800),U=_(9554);let g=D=class extends L.wq{constructor(S){super(S),this.origin=(0,w.c)(),this.translation=(0,w.c)(),this.rotation=(0,h.Ue)(),this.scale=(0,w.f)(1,1,1),this.geographic=!0}get localMatrix(){const S=(0,A.c)();return(0,G.s)(F,(0,h.ZZ)(this.rotation),(0,h.WH)(this.rotation)),(0,$.g)(S,F,this.translation,this.scale),S}get localMatrixInverse(){return(0,$.a)((0,A.c)(),this.localMatrix)}applyLocal(S,B){return(0,z.m)(B,S,this.localMatrix)}applyLocalInverse(S,B){return(0,z.m)(B,S,this.localMatrixInverse)}project(S,B){const W=new Float64Array(S.length),Y=v.fP.fromTypedArray(W),X=v.fP.fromTypedArray(S);if(this.geographic){const te=(0,I.rS)(B),k=(0,A.c)();return(0,K.Bm)(B,this.origin,k,te),(0,$.m)(k,k,this.localMatrix),(0,P.t)(Y,X,k),(0,K.CM)(W,te,0,W,B,0,W.length/3),W}const{localMatrix:Z,origin:q}=this;(0,$.h)(Z,A.I)?(0,U.c)(Y,X):(0,P.t)(Y,X,Z);for(let te=0;te<W.length;te+=3)W[te+0]+=q[0],W[te+1]+=q[1],W[te+2]+=q[2];return W}getOriginPoint(S){const[B,W,Y]=this.origin;return new J.Z({x:B,y:W,z:Y,spatialReference:S})}equals(S){return(0,N.pC)(S)&&this.geographic===S.geographic&&(0,z.k)(this.origin,S.origin)&&(0,$.j)(this.localMatrix,S.localMatrix)}clone(){const S={origin:(0,w.a)(this.origin),translation:(0,w.a)(this.translation),rotation:(0,h.Ue)(this.rotation),scale:(0,w.a)(this.scale),geographic:this.geographic};return new D(S)}};(0,M._)([(0,Q.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"origin",void 0),(0,M._)([(0,Q.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"translation",void 0),(0,M._)([(0,Q.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"rotation",void 0),(0,M._)([(0,Q.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"scale",void 0),(0,M._)([(0,Q.Cb)({type:Boolean,nonNullable:!0,json:{write:!0}})],g.prototype,"geographic",void 0),(0,M._)([(0,Q.Cb)()],g.prototype,"localMatrix",null),(0,M._)([(0,Q.Cb)()],g.prototype,"localMatrixInverse",null),g=D=(0,M._)([(0,R.j)("esri.geometry.support.MeshTransform")],g);const F=(0,T.a)(),C=g},92545:(he,ie,_)=>{function M(L,N){return L.isGeographic||L.isWebMercator&&(N?.geographic??!0)}_.d(ie,{h:()=>M})},60853:(he,ie,_)=>{_.d(ie,{FF:()=>h,I5:()=>K,Yq:()=>v,iv:()=>J,w1:()=>I});var M=_(62208),L=_(16730),N=_(550),Q=_(28347),ee=_(43703),V=_(30217),R=_(55915),$=_(12080),A=_(99746),G=_(60479),T=_(79800),z=_(92545),w=_(65231);function J(H,se,re){return(0,z.h)(se.spatialReference,re)?function U(H,se,re){const oe=se.spatialReference,ue=B(se,re,q),ce=new Float64Array(H.position.length),de=function D(H,se,re,oe){(0,T.t)(G.fP.fromTypedArray(oe),G.fP.fromTypedArray(H),se);const ue=new Float64Array(H.length);return(0,w.To)(oe,ue,re)}(H.position,ue,oe,ce),fe=(0,V.b)(k,ue);return{position:de,normal:g(de,ce,H.normal,fe,oe),tangent:F(de,ce,H.tangent,fe,oe)}}(H,se,re):function P(H,se,re){const oe=new Float64Array(H.position.length),ue=H.position,ce=se.x,de=se.y,fe=se.z||0,{horizontal:le,vertical:ae}=Z(re?re.unit:null,se.spatialReference);for(let _e=0;_e<ue.length;_e+=3)oe[_e+0]=ue[_e+0]*le+ce,oe[_e+1]=ue[_e+1]*le+de,oe[_e+2]=ue[_e+2]*ae+fe;return{position:oe,normal:H.normal,tangent:H.tangent}}(H,se,re)}function K(H,se,re){const{position:oe,normal:ue,tangent:ce}=H;if((0,M.Wi)(se))return{position:oe,normal:ue,tangent:ce};const de=se.localMatrix;return J({position:(0,w.zZ)(oe,new Float64Array(oe.length),de),normal:(0,M.pC)(ue)?(0,w.w9)(ue,new Float32Array(ue.length),de):null,tangent:(0,M.pC)(ce)?(0,w.VS)(ce,new Float32Array(ce.length),de):null},se.getOriginPoint(re),{geographic:se.geographic})}function I(H,se,re){if(re?.useTransform){const{position:oe,normal:ue,tangent:ce}=H;return{vertexAttributes:{position:oe,normal:ue,tangent:ce},transform:new A.Z({origin:[se.x,se.y,se.z??0],geographic:(0,z.h)(se.spatialReference,re)})}}return{vertexAttributes:J(H,se,re),transform:null}}function h(H,se,re){return(0,z.h)(se.spatialReference,re)?S(H,se,re):C(H,se,re)}function v(H,se,re,oe){if((0,M.Wi)(se))return h(H,re,oe);const ue=K(H,se,re.spatialReference);return re.equals(se.getOriginPoint(re.spatialReference))?C(ue,re,oe):(0,z.h)(re.spatialReference,oe)?S(ue,re,oe):C(ue,re,oe)}function g(H,se,re,oe,ue){if((0,M.Wi)(re))return null;const ce=new Float32Array(re.length);return(0,T.a)(G.ct.fromTypedArray(ce),G.ct.fromTypedArray(re),oe),(0,w.Yk)(ce,H,se,ue,ce),ce}function F(H,se,re,oe,ue){if((0,M.Wi)(re))return null;const ce=new Float32Array(re.length);(0,T.a)(G.ct.fromTypedArray(ce,4*Float32Array.BYTES_PER_ELEMENT),G.ct.fromTypedArray(re,4*Float32Array.BYTES_PER_ELEMENT),oe);for(let de=3;de<ce.length;de+=4)ce[de]=re[de];return(0,w.M2)(ce,H,se,ue,ce),ce}function C(H,se,re){const oe=new Float64Array(H.position.length),ue=H.position,ce=se.x,de=se.y,fe=se.z||0,{horizontal:le,vertical:ae}=Z(re?re.unit:null,se.spatialReference);for(let _e=0;_e<ue.length;_e+=3)oe[_e+0]=(ue[_e+0]-ce)/le,oe[_e+1]=(ue[_e+1]-de)/le,oe[_e+2]=(ue[_e+2]-fe)/ae;return{position:oe,normal:H.normal,tangent:H.tangent}}function S(H,se,re){const oe=se.spatialReference;B(se,re,q);const ue=(0,Q.a)(te,q),ce=new Float64Array(H.position.length),de=function W(H,se,re,oe){const ue=(0,w.XO)(H,se,oe),ce=G.fP.fromTypedArray(ue),de=new Float64Array(ue.length),fe=G.fP.fromTypedArray(de);return(0,T.t)(fe,ce,re),de}(H.position,oe,ue,ce),fe=(0,V.b)(k,ue);return{position:de,normal:Y(H.normal,H.position,ce,oe,fe),tangent:X(H.tangent,H.position,ce,oe,fe)}}function B(H,se,re){(0,R.Bm)(H.spatialReference,[H.x,H.y,H.z||0],re,(0,$.rS)(H.spatialReference));const{horizontal:oe,vertical:ue}=Z(se?se.unit:null,H.spatialReference);return(0,Q.k)(re,re,[oe,oe,ue]),re}function Y(H,se,re,oe,ue){if((0,M.Wi)(H))return null;const ce=(0,w.Iz)(H,se,re,oe,new Float32Array(H.length)),de=G.ct.fromTypedArray(ce);return(0,T.a)(de,de,ue),ce}function X(H,se,re,oe,ue){if((0,M.Wi)(H))return null;const ce=(0,w.wi)(H,se,re,oe,new Float32Array(H.length)),de=G.ct.fromTypedArray(ce,4*Float32Array.BYTES_PER_ELEMENT);return(0,T.a)(de,de,ue),ce}function Z(H,se){if((0,M.Wi)(H))return ne;const re=se.isGeographic?1:(0,L.c9)(se),oe=se.isGeographic?1:(0,L._R)(se),ue=(0,L.En)(1,H,"meters");return{horizontal:ue*re,vertical:ue*oe}}const q=(0,ee.c)(),te=(0,ee.c)(),k=(0,N.c)(),ne={horizontal:1,vertical:1}},65629:(he,ie,_)=>{_.d(ie,{SR:()=>A,Ui:()=>$});var M=_(62208),L=_(65401),N=_(32442),Q=_(25748),ee=_(91179),V=_(74618),R=_(37053);function $(D){return G(D,!0)}function A(D){return G(D,!1)}function G(D,g){if((0,M.Wi)(D))return null;const F=D.spatialReference,C=(0,R.C5)(F),S="toJSON"in D?D.toJSON():D;if(!C)return S;const B=(0,R.sS)(F)?102100:4326,W=V.UZ[B].maxX,Y=V.UZ[B].minX;if((0,ee.wp)(S))return z(S,W,Y);if((0,ee.aW)(S))return S.points=S.points.map(X=>z(X,W,Y)),S;if((0,ee.YX)(S))return function T(D,g){if(!g)return D;const F=function w(D,g){const F=[],{ymin:C,ymax:S,xmin:B,xmax:W}=D,Y=D.xmax-D.xmin,[X,Z]=g.valid,{x:q,frameId:te}=J(D.xmin,g),{x:k,frameId:ne}=J(D.xmax,g),H=q===k&&Y>0;if(Y>2*Z){const se={xmin:B<W?q:k,ymin:C,xmax:Z,ymax:S},re={xmin:X,ymin:C,xmax:B<W?k:q,ymax:S},oe={xmin:0,ymin:C,xmax:Z,ymax:S},ue={xmin:X,ymin:C,xmax:0,ymax:S},ce=[],de=[];K(se,oe)&&ce.push(te),K(se,ue)&&de.push(te),K(re,oe)&&ce.push(ne),K(re,ue)&&de.push(ne);for(let fe=te+1;fe<ne;fe++)ce.push(fe),de.push(fe);F.push(new v(se,[te]),new v(re,[ne]),new v(oe,ce),new v(ue,de))}else q>k||H?F.push(new v({xmin:q,ymin:C,xmax:Z,ymax:S},[te]),new v({xmin:X,ymin:C,xmax:k,ymax:S},[ne])):F.push(new v({xmin:q,ymin:C,xmax:k,ymax:S},[te]));return F}(D,g).map(C=>C.extent);return F.length<2?F[0]||D:F.length>2?(D.xmin=g.valid[0],D.xmax=g.valid[1],D):{rings:F.map(C=>[[C.xmin,C.ymin],[C.xmin,C.ymax],[C.xmax,C.ymax],[C.xmax,C.ymin],[C.xmin,C.ymin]])}}(S,C);if((0,ee.oU)(S)||(0,ee.l9)(S)){const X=(0,N.$P)(P,S),Z={xmin:X[0],ymin:X[1],xmax:X[2],ymax:X[3]},q=(0,V.XZ)(Z.xmin,Y)*(2*W),te=0===q?S:(0,V.Sy)(S,q);return Z.xmin+=q,Z.xmax+=q,Z.xmax>W?h(te,W,g):Z.xmin<Y?h(te,Y,g):te}return S}function z(D,g,F){if(Array.isArray(D)){const C=D[0];if(C>g){const S=(0,V.XZ)(C,g);D[0]=C+S*(-2*g)}else if(C<F){const S=(0,V.XZ)(C,F);D[0]=C+S*(-2*F)}}else{const C=D.x;if(C>g){const S=(0,V.XZ)(C,g);D.x+=S*(-2*g)}else if(C<F){const S=(0,V.XZ)(C,F);D.x+=S*(-2*F)}}return D}function J(D,g){const[F,C]=g.valid,S=2*C;let B,W=0;return D>C?(B=Math.ceil(Math.abs(D-C)/S),D-=B*S,W=B):D<F&&(B=Math.ceil(Math.abs(D-F)/S),D+=B*S,W=-B),{x:D,frameId:W}}function K(D,g){const{xmin:F,ymin:C,xmax:S,ymax:B}=g;return I(D,F,C)&&I(D,F,B)&&I(D,S,B)&&I(D,S,C)}function I(D,g,F){return g>=D.xmin&&g<=D.xmax&&F>=D.ymin&&F<=D.ymax}function h(D,g,F=!0){const C=!(0,ee.l9)(D);if(C&&(0,Q.Zy)(D),F)return(new U).cut(D,g);const S=C?D.rings:D.paths,B=C?4:2,W=S.length,Y=-2*g;for(let X=0;X<W;X++){const Z=S[X];if(Z&&Z.length>=B){const q=[];for(const te of Z)q.push([te[0]+Y,te[1]]);S.push(q)}}return C?D.rings=S:D.paths=S,D}class v{constructor(g,F){this.extent=g,this.frameIds=F}}const P=(0,L.Ue)();class U{constructor(){this._linesIn=[],this._linesOut=[]}cut(g,F){let C;if(this._xCut=F,g.rings)this._closed=!0,C=g.rings,this._minPts=4;else{if(!g.paths)return null;this._closed=!1,C=g.paths,this._minPts=2}for(const B of C){if(!B||B.length<this._minPts)continue;let W=!0;for(const Y of B)W?(this.moveTo(Y),W=!1):this.lineTo(Y);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),C=[];for(const B of this._linesIn)B&&B.length>=this._minPts&&C.push(B);const S=-2*this._xCut;for(const B of this._linesOut)if(B&&B.length>=this._minPts){for(const W of B)W[0]+=S;C.push(B)}return this._closed?g.rings=C:g.paths=C,g}moveTo(g){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(g[0]),this._moveTo(g[0],g[1],this._prevSide),this._prevPt=g,this._firstPt=g}lineTo(g){const F=this._side(g[0]);if(F*this._prevSide==-1){const C=this._intersect(this._prevPt,g);this._lineTo(this._xCut,C,0),this._prevSide=0,this._lineTo(g[0],g[1],F)}else this._lineTo(g[0],g[1],F);this._prevSide=F,this._prevPt=g}close(){const g=this._firstPt,F=this._prevPt;g[0]===F[0]&&g[1]===F[1]||this.lineTo(g),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(g,F,C){this._closed?(this._lineIn.push([C<=0?g:this._xCut,F]),this._lineOut.push([C>=0?g:this._xCut,F])):(C<=0&&this._lineIn.push([g,F]),C>=0&&this._lineOut.push([g,F]))}_lineTo(g,F,C){this._closed?(this._addPolyVertex(this._lineIn,C<=0?g:this._xCut,F),this._addPolyVertex(this._lineOut,C>=0?g:this._xCut,F)):C<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([g,F])):C>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([g,F])):this._prevSide<0?(this._lineIn.push([g,F]),this._lineOut.push([g,F])):this._prevSide>0&&(this._lineOut.push([g,F]),this._lineIn.push([g,F]))}_addPolyVertex(g,F,C){const S=g.length;S>1&&g[S-1][0]===F&&g[S-2][0]===F?g[S-1][1]=C:g.push([F,C])}_checkClosingPt(g){const F=g.length;F>3&&g[0][0]===this._xCut&&g[F-2][0]===this._xCut&&g[1][0]===this._xCut&&(g[0][1]=g[F-2][1],g.pop())}_side(g){return g<this._xCut?-1:g>this._xCut?1:0}_intersect(g,F){return g[1]+(this._xCut-g[0])/(F[0]-g[0])*(F[1]-g[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}},28678:(he,ie,_)=>{_.r(ie),_.d(ie,{default:()=>Y});var M=_(15861),L=_(17626),Q=(_(29132),_(84792)),ee=_(26584),V=_(99959),R=_(77275),$=_(21726),A=_(77712),z=(_(85931),_(90912),_(68653)),w=_(76898),J=_(99433),K=_(44917),I=_(552),h=_(49286),v=_(6647),P=_(30346),U=_(99555),D=_(72258),g=_(2584),F=_(91309),C=_(2004),S=_(65234),B=_(72642);let W=class extends((0,I.h)((0,P.Q)((0,U.M)((0,h.q)((0,v.I)((0,V.R)(K.Z))))))){constructor(...X){super(...X),this.copyright="",this.fullExtent=new C.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,S.Z.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=S.Z.WebMercator,this.subDomains=null,this.tileInfo=new g.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new B.Z({x:-20037508.342787,y:20037508.342787,spatialReference:S.Z.WebMercator}),spatialReference:S.Z.WebMercator,lods:[new D.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new D.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new D.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new D.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new D.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new D.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new D.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new D.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new D.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new D.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new D.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new D.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new D.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new D.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new D.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new D.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new D.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new D.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new D.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new D.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new D.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new D.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new D.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new D.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(X,Z){return"string"==typeof X?{urlTemplate:X,...Z}:X}load(X){const Z=this.loadFromPortal({supportedTypes:["WMTS"]},X).then(()=>{let q="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const te=new $.R9(this.urlTemplate);!(this.subDomains&&this.subDomains.length>0)&&te.authority.includes("{subDomain}")&&(q="is missing 'subDomains' property")}else q="spatialReference must match tileInfo.spatialReference";else q="is missing the required 'urlTemplate' property value";if(q)throw new ee.Z("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${q}`)});return this.addResolvingPromise(Z),Promise.resolve(this)}get levelValues(){const X=[];if(!this.tileInfo)return null;for(const Z of this.tileInfo.lods)X[Z.level]=Z.levelValue||Z.level;return X}readSpatialReference(X,Z){return X||Z.fullExtent&&Z.fullExtent.spatialReference&&S.Z.fromJSON(Z.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const X=[],{urlTemplate:Z,subDomains:q}=this,te=new $.R9(Z),k=te.scheme?te.scheme+"://":"//",ne=k+te.authority+"/";if(te.authority.includes("{subDomain}")){if(q&&q.length>0&&te.authority.split(".").length>1)for(const H of q)X.push(k+te.authority.replace(/\{subDomain\}/gi,H)+"/")}else X.push(ne);return X.map(H=>("/"!==H.charAt(H.length-1)&&(H+="/"),H))}get urlPath(){if(!this.urlTemplate)return null;const X=this.urlTemplate,Z=new $.R9(X);return X.substring(((Z.scheme?Z.scheme+"://":"//")+Z.authority+"/").length)}readUrlTemplate(X,Z){return X||Z.templateUrl}writeUrlTemplate(X,Z){X&&(0,$.oC)(X)&&(X="https:"+X),X&&(X=X.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),X=(0,$.Fv)(X)),Z.templateUrl=X}fetchTile(X,Z,q,te={}){const{signal:k}=te,ne=this.getTileUrl(X,Z,q),H={responseType:"image",signal:k,query:{...this.refreshParameters}};return(0,Q.default)(ne,H).then(se=>se.data)}fetchImageBitmapTile(X,Z,q,te={}){var k=this;return(0,M.Z)(function*(){const{signal:ne}=te,H=k.getTileUrl(X,Z,q),se={responseType:"blob",signal:ne,query:{...k.refreshParameters}},{data:re}=yield(0,Q.default)(H,se);return createImageBitmap(re)})()}getTileUrl(X,Z,q){const te=this.levelValues[X];return this.tileServers[Z%this.tileServers.length]+(0,R.gx)(this.urlPath,{level:te,z:te,col:q,x:q,row:Z,y:Z})}};(0,L._)([(0,A.Cb)({type:String,value:"",json:{write:!0}})],W.prototype,"copyright",void 0),(0,L._)([(0,A.Cb)({type:C.Z,json:{write:!0},nonNullable:!0})],W.prototype,"fullExtent",void 0),(0,L._)([(0,A.Cb)({readOnly:!0,json:{read:!1,write:!1}})],W.prototype,"legendEnabled",void 0),(0,L._)([(0,A.Cb)({type:["show","hide"]})],W.prototype,"listMode",void 0),(0,L._)([(0,A.Cb)({json:{read:!0,write:!0}})],W.prototype,"blendMode",void 0),(0,L._)([(0,A.Cb)()],W.prototype,"levelValues",null),(0,L._)([(0,A.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],W.prototype,"isReference",void 0),(0,L._)([(0,A.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],W.prototype,"operationalLayerType",void 0),(0,L._)([(0,A.Cb)({readOnly:!0,json:{read:!1,write:!1}})],W.prototype,"popupEnabled",void 0),(0,L._)([(0,A.Cb)({type:S.Z})],W.prototype,"spatialReference",void 0),(0,L._)([(0,z.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],W.prototype,"readSpatialReference",null),(0,L._)([(0,A.Cb)({type:[String],json:{write:!0}})],W.prototype,"subDomains",void 0),(0,L._)([(0,A.Cb)({type:g.Z,json:{write:!0}})],W.prototype,"tileInfo",void 0),(0,L._)([(0,A.Cb)({readOnly:!0})],W.prototype,"tileServers",null),(0,L._)([(0,A.Cb)({json:{read:!1}})],W.prototype,"type",void 0),(0,L._)([(0,A.Cb)()],W.prototype,"urlPath",null),(0,L._)([(0,A.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],W.prototype,"urlTemplate",void 0),(0,L._)([(0,z.r)("urlTemplate",["urlTemplate","templateUrl"])],W.prototype,"readUrlTemplate",null),(0,L._)([(0,J.c)("urlTemplate",{templateUrl:{type:String}})],W.prototype,"writeUrlTemplate",null),(0,L._)([(0,A.Cb)({type:F.B,json:{write:!0}})],W.prototype,"wmtsInfo",void 0),W=(0,L._)([(0,w.j)("esri.layers.WebTileLayer")],W);const Y=W},20925:(he,ie,_)=>{_.d(ie,{Z:()=>I});var T,M=_(17626),L=_(46160),N=_(47877),Q=_(14889),ee=_(77712),$=(_(85931),_(90912),_(76898)),A=_(49410),G=_(11136);const z={type:L.Z,readOnly:!0,json:{origins:{service:{read:{source:"sublayers",reader:w}}},read:!1}};function w(h,v,P){if(h&&Array.isArray(h))return new L.Z(h.map(U=>{const D=function K(h){return"group"===h.layerType?J:A.Z}(U);if(D){const g=new D;return g.read(U,P),g}return P&&P.messages&&U&&P.messages.push(new Q.Z("building-scene-layer:unsupported-sublayer-type","Building scene sublayer of type '"+(U.type||"unknown")+"' are not supported",{definition:U,context:P})),null}))}let J=T=class extends G.Z{constructor(h){super(h),this.type="building-group",this.listMode="show",this.sublayers=null}loadAll(){return(0,N.w)(this,h=>T.forEachSublayer(this.sublayers,v=>{"building-group"!==v.type&&h(v)}))}};var h;(0,M._)([(0,ee.Cb)({type:["hide","show","hide-children"],json:{write:!0}})],J.prototype,"listMode",void 0),(0,M._)([(0,ee.Cb)(z)],J.prototype,"sublayers",void 0),J=T=(0,M._)([(0,$.j)("esri.layers.buildingSublayers.BuildingGroupSublayer")],J),(h=J||(J={})).sublayersProperty=z,h.readSublayers=w,h.forEachSublayer=function v(P,U){P.forEach(D=>{U(D),"building-group"===D.type&&v(D.sublayers,U)})};const I=J},1476:(he,ie,_)=>{_.d(ie,{S:()=>L,X:()=>M});const M=1;function L(N,Q){let ee=0;for(const V of Q){const R=V.attributes?.[N];"number"==typeof R&&isFinite(R)&&(ee=Math.max(ee,R))}return ee}},35775:(he,ie,_)=>{_.d(ie,{O0:()=>T,av:()=>R,b:()=>h,d1:()=>A,og:()=>J});var M=_(15861),L=_(62208),N=_(37053),Q=_(36630);class ee{constructor(){this.code=null,this.description=null}}class V{constructor(U){this.error=new ee,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=U}}function R(P){return new V(P)}class ${constructor(U){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=U}}function A(P){return new $(P)}const G=new Set;function T(P,U,D,g=!1,F){G.clear();for(const C in D){const S=P.get(C);if(!S)continue;const B=D[C],W=z(S,B);if(W!==B&&F&&F.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:S,originalValue:B,sanitizedValue:W}}),G.add(S.name),S&&(g||S.editable)){const Y=(0,Q.Qc)(S,W);if(Y)return R((0,Q.vP)(Y,S,W));U[S.name]=W}}for(const C of P?.requiredFields??[])if(!G.has(C.name))return R(`missing required field "${C.name}"`);return null}function z(P,U){let D=U;return"string"==typeof U&&(0,Q.H7)(P)?D=parseFloat(U):null!=U&&(0,Q.qN)(P)&&"string"!=typeof U&&(D=String(U)),(0,Q.Pz)(D)}let w;function J(P,U){if(!P||!(0,N.JY)(U))return P;if("rings"in P||"paths"in P){if((0,L.Wi)(w))throw new TypeError("geometry engine not loaded");return w.simplify(U,P)}return P}function K(){return I.apply(this,arguments)}function I(){return(I=(0,M.Z)(function*(){return(0,L.Wi)(w)&&(w=yield Promise.all([_.e(4918),_.e(8592)]).then(_.bind(_,32825))),w})).apply(this,arguments)}function h(P,U){return v.apply(this,arguments)}function v(){return(v=(0,M.Z)(function*(P,U){!(0,N.JY)(P)||"esriGeometryPolygon"!==U&&"esriGeometryPolyline"!==U||(yield K())})).apply(this,arguments)}},5143:(he,ie,_)=>{_.d(ie,{Z:()=>T});var M=_(17626),N=(_(29132),_(77712)),V=(_(85931),_(90912),_(68653)),R=_(76898),$=_(51026),A=_(28930),G=_(65234);const T=z=>{let w=class extends z{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(J,K){return null!=K.minLOD&&null!=K.maxLOD?J:0}readMaxScale(J,K){return null!=K.minLOD&&null!=K.maxLOD?J:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(J,K){return K.capabilities&&K.capabilities.includes("Tilemap")?new A.y({layer:this}):null}};return(0,M._)([(0,N.Cb)({json:{read:{source:"copyrightText"}}})],w.prototype,"copyright",void 0),(0,M._)([(0,N.Cb)()],w.prototype,"minScale",void 0),(0,M._)([(0,V.r)("service","minScale")],w.prototype,"readMinScale",null),(0,M._)([(0,N.Cb)()],w.prototype,"maxScale",void 0),(0,M._)([(0,V.r)("service","maxScale")],w.prototype,"readMaxScale",null),(0,M._)([(0,N.Cb)({type:G.Z})],w.prototype,"spatialReference",void 0),(0,M._)([(0,N.Cb)({readOnly:!0})],w.prototype,"supportsBlankTile",null),(0,M._)([(0,N.Cb)($.h)],w.prototype,"tileInfo",void 0),(0,M._)([(0,N.Cb)()],w.prototype,"tilemapCache",void 0),(0,M._)([(0,V.r)("service","tilemapCache",["capabilities"])],w.prototype,"readTilemapCache",null),(0,M._)([(0,N.Cb)()],w.prototype,"version",void 0),w=(0,M._)([(0,R.j)("esri.layers.mixins.ArcGISCachedService")],w),w}},22825:(he,ie,_)=>{_.d(ie,{A:()=>L});const M=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function L(N){return null!=N&&M.some(([Q,ee])=>N>=Q&&N<=ee)}},51920:(he,ie,_)=>{_.d(ie,{j:()=>A});var M=_(17626),L=_(14517),N=_(80542),Q=_(77712),R=(_(85931),_(90912),_(76898));const $={visible:"visibleSublayers"};let A=class extends((0,N.p)(L.Z)){constructor(G){super(G),this.scale=0}set layer(G){this._get("layer")!==G&&(this._set("layer",G),this.handles.remove("layer"),G&&this.handles.add([G.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),G.on("wms-sublayer-update",T=>this.notifyChange($[T.propertyName]))],"layer"))}get layers(){return this.visibleSublayers.filter(({name:G})=>G).map(({name:G})=>G).join()}get version(){this.commitProperty("layers");const G=this.layer;return G&&G.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:G,scale:T}=this,z=G?.sublayers,w=[],J=K=>{const{minScale:I,maxScale:h,sublayers:v,visible:P}=K;P&&(0===T||(0===I||T<=I)&&(0===h||T>=h))&&(v?v.forEach(J):w.push(K))};return z?.forEach(J),w}toJSON(){const{layer:G,layers:T}=this,{imageFormat:z,imageTransparency:w,version:J}=G;return{format:z,request:"GetMap",service:"WMS",styles:"",transparent:w?"TRUE":"FALSE",version:J,layers:T}}};(0,M._)([(0,Q.Cb)()],A.prototype,"layer",null),(0,M._)([(0,Q.Cb)({readOnly:!0})],A.prototype,"layers",null),(0,M._)([(0,Q.Cb)({type:Number})],A.prototype,"scale",void 0),(0,M._)([(0,Q.Cb)({readOnly:!0})],A.prototype,"version",null),(0,M._)([(0,Q.Cb)({readOnly:!0})],A.prototype,"visibleSublayers",null),A=(0,M._)([(0,R.j)("esri.layers.support.ExportWMSImageParameters")],A)},74711:(he,ie,_)=>{_.d(ie,{W:()=>A});var M=_(15861),L=_(24263),N=_(84792),Q=_(62208),ee=_(10699),V=_(80415),R=_(84687),$=_(55463);class A{constructor(T,z,w,J){this._parsedUrl=T,this._portalItem=z,this._apiKey=w,this.signal=J,this._rootDocument=null;const K=this._parsedUrl?.path.match(/^(.*)\/SceneServer\/layers\/([\d]*)\/?$/i);K&&(this._urlParts={root:K[1],layerId:parseInt(K[2],10)})}fetch(){var T=this;return(0,M.Z)(function*(){if(!T._urlParts)return null;const z=T._portalItem??(yield T._portalItemFromServiceItemId());if((0,Q.Wi)(z))return T._loadFromUrl();const w=yield T._findAndLoadRelatedPortalItem(z);return(0,Q.Wi)(w)?null:T._loadFeatureLayerFromPortalItem(w)})()}fetchPortalItem(){var T=this;return(0,M.Z)(function*(){if(!T._urlParts)return null;const z=T._portalItem??(yield T._portalItemFromServiceItemId());return(0,Q.Wi)(z)?null:T._findAndLoadRelatedPortalItem(z)})()}_fetchRootDocument(){var T=this;return(0,M.Z)(function*(){if((0,Q.pC)(T._rootDocument))return T._rootDocument;if((0,Q.Wi)(T._urlParts))return T._rootDocument={},{};const z={query:{f:"json",token:T._apiKey},responseType:"json",signal:T.signal},w=`${T._urlParts.root}/SceneServer`;try{const J=yield(0,N.default)(w,z);T._rootDocument=J.data}catch{T._rootDocument={}}return T._rootDocument})()}_fetchServiceOwningPortalUrl(){var T=this;return(0,M.Z)(function*(){const z=T._parsedUrl?.path,w=z?L.id?.findServerInfo(z):null;if(w?.owningSystemUrl)return w.owningSystemUrl;const J=z?z.replace(/(.*\/rest)\/.*/i,"$1")+"/info":null;try{const K=(yield(0,N.default)(J,{query:{f:"json"},responseType:"json",signal:T.signal})).data.owningSystemUrl;if(K)return K}catch(K){(0,ee.r9)(K)}return null})()}_findAndLoadRelatedPortalItem(T){var z=this;return(0,M.Z)(function*(){try{return(yield T.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:z.signal})).find(w=>"Feature Service"===w.type)||null}catch(w){return(0,ee.r9)(w),null}})()}_loadFeatureLayerFromPortalItem(T){var z=this;return(0,M.Z)(function*(){yield T.load({signal:z.signal});const w=yield z._findMatchingAssociatedSublayerUrl(T.url??"");return new V.default({url:w,portalItem:T}).load({signal:z.signal})})()}_loadFromUrl(){var T=this;return(0,M.Z)(function*(){const z=yield T._findMatchingAssociatedSublayerUrl(`${T._urlParts?.root}/FeatureServer`);return new V.default({url:z}).load({signal:T.signal})})()}_findMatchingAssociatedSublayerUrl(T){var z=this;return(0,M.Z)(function*(){const w=T.replace(/^(.*FeatureServer)(\/[\d]*\/?)?$/i,"$1"),J={query:{f:"json"},responseType:"json",authMode:"no-prompt",signal:z.signal},K=z._urlParts?.layerId,I=z._fetchRootDocument(),h=(0,N.default)(w,J),[v,P]=yield Promise.all([h,I]),U=P&&P.layers,D=v.data&&v.data.layers;if(!Array.isArray(D))throw new Error("expected layers array");if(Array.isArray(U)){for(let g=0;g<Math.min(U.length,D.length);g++)if(U[g].id===K)return`${w}/${D[g].id}`}else if(null!=K&&K<D.length)return`${w}/${D[K].id}`;throw new Error("could not find matching associated sublayer")})()}_portalItemFromServiceItemId(){var T=this;return(0,M.Z)(function*(){const z=(yield T._fetchRootDocument()).serviceItemId;if(!z)return null;const w=new $.default({id:z,apiKey:T._apiKey}),J=yield T._fetchServiceOwningPortalUrl();(0,Q.pC)(J)&&(w.portal=new R.Z({url:J}));try{return w.load({signal:T.signal})}catch(K){return(0,ee.r9)(K),null}})()}}},28930:(he,ie,_)=>{_.d(ie,{y:()=>S});var C,M=_(15861),L=_(17626),N=_(84792),Q=_(14517),ee=_(27306),V=_(26584),R=_(80542),$=_(63290),A=_(93961),G=_(77029),T=_(10699),z=_(32917),w=_(50618),J=_(21726),K=_(77712),I=_(85931),h=_(66656),v=_(76898),P=_(68511),U=_(58817);class D{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(W,Y){if("unknown"!==this._allAvailability)return this._allAvailability;const X=(W-this.location.top)*this.location.width+(Y-this.location.left),q=X>>3,te=this._tileAvailabilityBitSet;return q<0||q>te.length?"unknown":te[q]&1<<X%8?"available":"unavailable"}_updateFromData(W){let Z=!0,q=!0;const te=Math.ceil(this.location.width*this.location.height/8),k=new Uint8Array(te);let ne=0;for(let H=0;H<W.length;H++){const se=H%8;W[H]?(q=!1,k[ne]|=1<<se):Z=!1,7===se&&++ne}q?this._allAvailability="unavailable":Z?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=k,this.byteSize+=k.length)}static fromDefinition(W,Y){const X=W.service.request||N.default,{row:Z,col:q,width:te,height:k}=W,ne={query:{f:"json"}};return Y=Y?{...ne,...Y}:ne,X(function F(B){let W;if("vector-tile"===B.service.type)W=`${B.service.url}/tilemap/${B.level}/${B.row}/${B.col}/${B.width}/${B.height}`;else{const X=B.service.tileServers;W=`${X&&X.length?X[B.row%X.length]:B.service.url}/tilemap/${B.level}/${B.row}/${B.col}/${B.width}/${B.height}`}const Y=B.service.query;return Y&&(W=`${W}?${Y}`),W}(W),Y).then(H=>H.data).catch(H=>{if(H&&H.details&&422===H.details.httpStatus)return{location:{top:Z,left:q,width:te,height:k},valid:!0,data:(0,I.a9)(te*k,0)};throw H}).then(H=>{if(H.location&&(H.location.top!==Z||H.location.left!==q||H.location.width!==te||H.location.height!==k))throw new V.Z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:H,definition:{top:Z,left:q,width:te,height:k}});return D.fromJSON(H)})}static fromJSON(W){D._validateJSON(W);const Y=new D;return Y.location=Object.freeze((0,U.d9)(W.location)),Y._updateFromData(W.data),Object.freeze(Y)}static _validateJSON(W){if(!W||!W.location)throw new V.Z("tilemap:missing-location","Location missing from tilemap response");if(!1===W.valid)throw new V.Z("tilemap:invalid","Tilemap response was marked as invalid");if(!W.data)throw new V.Z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(W.data))throw new V.Z("tilemap:data-mismatch","Data must be an array of numbers");if(W.data.length!==W.location.width*W.location.height)throw new V.Z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function g(B){return`${B.level}/${B.row}/${B.col}/${B.width}/${B.height}`}let S=C=class extends((0,R.p)(Q.Z)){constructor(B){super(B),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*ee.Y8.MEGABYTES,this.request=N.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new A.Z(this.cacheByteSize),this.addHandles([(0,z.YP)(()=>{const{layer:B}=this;return[B?.parsedUrl,B?.tileServers,B?.apiKey,B?.customParameters]},()=>this._initializeTilemapDefinition()),(0,z.YP)(()=>this.layer?.tileInfo?.lods,B=>this._initializeAvailableLevels(B),z.tX)]),this._initializeTilemapDefinition()}castLevels(B){return B<=2?($.Z.getLogger(this.declaredClass).error("Minimum levels for Tilemap is 3, but got ",B),3):B}get size(){return 1<<this.levels}fetchTilemap(B,W,Y,X){if(!this._availableLevels[B])return Promise.reject(new V.Z("tilemap-cache:level-unavailable",`Level ${B} is unavailable in the service`));const Z=this._tmpTilemapDefinition,q=this._tilemapFromCache(B,W,Y,Z);if(q)return Promise.resolve(q);const te=X&&X.signal;return X={...X,signal:null},new Promise((k,ne)=>{(0,T.fu)(te,()=>ne((0,T.zE)()));const H=g(Z);let se=this._pendingTilemapRequests[H];if(!se){se=D.fromDefinition(Z,X).then(oe=>(this._tilemapCache.put(H,oe,oe.byteSize),oe));const re=()=>delete this._pendingTilemapRequests[H];this._pendingTilemapRequests[H]=se,se.then(re,re)}se.then(k,ne)})}getAvailability(B,W,Y){if(!this._availableLevels[B])return"unavailable";const X=this._tilemapFromCache(B,W,Y,this._tmpTilemapDefinition);return X?X.getAvailability(W,Y):"unknown"}fetchAvailability(B,W,Y,X){return this._availableLevels[B]?this.fetchTilemap(B,W,Y,X).catch(Z=>Z).then(Z=>{if(Z instanceof D){const q=Z.getAvailability(W,Y);if("unavailable"===q)throw new V.Z("tile-map:tile-unavailable","Tile is not available",{level:B,row:W,col:Y});return q}if((0,T.D_)(Z))throw Z;return"unknown"}):Promise.reject(new V.Z("tilemap-cache:level-unavailable",`Level ${B} is unavailable in the service`))}fetchAvailabilityUpsample(B,W,Y,X,Z){X.level=B,X.row=W,X.col=Y;const q=this.layer.tileInfo;q.updateTileInfo(X);const te=this.fetchAvailability(B,W,Y,Z).catch(k=>{if((0,T.D_)(k))throw k;if(q.upsampleTile(X))return this.fetchAvailabilityUpsample(X.level,X.row,X.col,X);throw k});return this._fetchAvailabilityUpsamplePrefetch(X.id,B,W,Y,Z,te),te}_fetchAvailabilityUpsamplePrefetch(B,W,Y,X,Z,q){var te=this;return(0,M.Z)(function*(){if(!te._prefetchingEnabled)return;const k=`prefetch-${B}`;if(te.handles.has(k))return;const ne=new AbortController;q.then(()=>ne.abort(),()=>ne.abort());let H=!1;if(te.handles.add({remove(){H||(H=!0,ne.abort())}},k),yield(0,w.MU)(10,ne.signal).catch(()=>{}),H||(H=!0,te.handles.remove(k)),(0,T.Hc)(ne))return;const re=new P.f(B,W,Y,X),oe={...Z,signal:ne.signal},ue=te.layer.tileInfo;for(let ce=0;C._prefetches.length<C._maxPrefetch&&ue.upsampleTile(re);++ce){const de=te.fetchAvailability(re.level,re.row,re.col,oe);C._prefetches.push(de);const fe=()=>{C._prefetches.removeUnordered(de)};de.then(fe,fe)}})()}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:B,apiKey:W,customParameters:Y}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:B.path,query:(0,J.B7)({...B.query,...Y,token:W??B.query?.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(B,W,Y,X){X.level=B,X.row=W-W%this.size,X.col=Y-Y%this.size;const Z=g(X);return this._tilemapCache.get(Z)}_initializeAvailableLevels(B){this._availableLevels={},B&&B.forEach(W=>this._availableLevels[W.level]=!0)}get test(){const B=this;return{get prefetchingEnabled(){return B._prefetchingEnabled},set prefetchingEnabled(W){B._prefetchingEnabled=W},hasTilemap:(W,Y,X)=>!!B._tilemapFromCache(W,Y,X,B._tmpTilemapDefinition)}}};S._maxPrefetch=4,S._prefetches=new G.Z({initialSize:C._maxPrefetch}),(0,L._)([(0,K.Cb)({constructOnly:!0,type:Number})],S.prototype,"levels",void 0),(0,L._)([(0,h.p)("levels")],S.prototype,"castLevels",null),(0,L._)([(0,K.Cb)({readOnly:!0,type:Number})],S.prototype,"size",null),(0,L._)([(0,K.Cb)({constructOnly:!0,type:Number})],S.prototype,"cacheByteSize",void 0),(0,L._)([(0,K.Cb)({constructOnly:!0})],S.prototype,"layer",void 0),(0,L._)([(0,K.Cb)({constructOnly:!0})],S.prototype,"request",void 0),S=C=(0,L._)([(0,v.j)("esri.layers.support.TilemapCache")],S)},91309:(he,ie,_)=>{_.d(ie,{B:()=>$});var R,M=_(17626),L=_(86810),N=_(58817),Q=_(77712),V=(_(90912),_(76898));let $=R=class extends L.wq{constructor(A){super(A)}clone(){return new R({customLayerParameters:(0,N.d9)(this.customLayerParameters),customParameters:(0,N.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};(0,M._)([(0,Q.Cb)({json:{type:Object,write:!0}})],$.prototype,"customLayerParameters",void 0),(0,M._)([(0,Q.Cb)({json:{type:Object,write:!0}})],$.prototype,"customParameters",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],$.prototype,"layerIdentifier",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],$.prototype,"tileMatrixSet",void 0),(0,M._)([(0,Q.Cb)({type:String,json:{write:!0}})],$.prototype,"url",void 0),$=R=(0,M._)([(0,V.j)("esri.layer.support.WMTSLayerInfo")],$)},17196:(he,ie,_)=>{_.d(ie,{C:()=>V,V:()=>N});var M=_(15861),L=_(84792);function N($,A){return Q.apply(this,arguments)}function Q(){return(Q=(0,M.Z)(function*($,A){let G=yield V($,A);G=G||{},G.layers=G.layers?.filter(ee)||[];const T={serviceJSON:G};if((G.currentVersion??0)<10.5)return T;const z=yield V($+"/layers",A);return T.layersJSON={layers:z?.layers?.filter(ee)||[],tables:z?.tables||[]},T})).apply(this,arguments)}function ee($){return!$.type||"Feature Layer"===$.type}function V($,A){return R.apply(this,arguments)}function R(){return(R=(0,M.Z)(function*($,A){return(yield(0,L.default)($,{responseType:"json",query:{f:"json",...A?.customParameters,token:A?.apiKey}})).data})).apply(this,arguments)}},51026:(he,ie,_)=>{_.d(ie,{d:()=>N,h:()=>L});var M=_(2584);const L={type:M.Z,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:N}}}}};function N(Q,ee,V,R){if(!Q)return null;const{minScale:$,maxScale:A,minLOD:G,maxLOD:T}=ee;if(null!=G&&null!=T)return M.Z.fromJSON(R&&R.ignoreMinMaxLOD?Q:{...Q,lods:Q.lods.filter(({level:z})=>null!=z&&z>=G&&z<=T)});if(0!==$&&0!==A){const z=K=>Math.round(1e4*K)/1e4,w=$?z($):1/0,J=A?z(A):-1/0;return M.Z.fromJSON({...Q,lods:Q.lods.filter(K=>{const I=z(K.scale);return I<=w&&I>=J})})}return M.Z.fromJSON(Q)}},22264:(he,ie,_)=>{function M(V,R){return R?"xoffset"in R&&R.xoffset?Math.max(V,Math.abs(R.xoffset)):"yoffset"in R&&R.yoffset?Math.max(V,Math.abs(R.yoffset||0)):V:V}function N(V,R){return"number"==typeof V?V:V&&V.stops&&V.stops.length?function L(V){let R=0,$=0;for(let A=0;A<V.length;A++){const G=V[A].size;"number"==typeof G&&(R+=G,$++)}return R/$}(V.stops):R}function ee(V){const R=V&&V.renderer,$="touch"===(V&&V.event&&V.event.pointerType)?9:6;if(!R)return $;const A="visualVariables"in R?function Q(V,R){if(!R)return V;const $=R.filter(z=>"size"===z.type).map(z=>{const{maxSize:w,minSize:J}=z;return(N(w,V)+N(J,V))/2});let A=0;const G=$.length;if(0===G)return V;for(let z=0;z<G;z++)A+=$[z];const T=Math.floor(A/G);return Math.max(T,V)}($,R.visualVariables):$;if("simple"===R.type)return M(A,R.symbol);if("unique-value"===R.type){let G=A;return R.uniqueValueInfos?.forEach(T=>{G=M(G,T.symbol)}),G}if("class-breaks"===R.type){let G=A;return R.classBreakInfos.forEach(T=>{G=M(G,T.symbol)}),G}return A}_.d(ie,{k:()=>ee})},39406:(he,ie,_)=>{var M,L,N,Q,ee,V,R,$,A;_.d(ie,{LW:()=>M,X:()=>ee,jx:()=>N,mD:()=>$,mf:()=>V}),(A=M||(M={}))[A.FILL=0]="FILL",A[A.LINE=1]="LINE",A[A.MARKER=2]="MARKER",A[A.TEXT=3]="TEXT",A[A.LABEL=4]="LABEL",function(A){A[A.SUCCEEDED=0]="SUCCEEDED",A[A.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(L||(L={})),function(A){A[A.NONE=0]="NONE",A[A.MAP=1]="MAP",A[A.LABEL=2]="LABEL",A[A.LABEL_ALPHA=4]="LABEL_ALPHA",A[A.HITTEST=8]="HITTEST",A[A.HIGHLIGHT=16]="HIGHLIGHT",A[A.CLIP=32]="CLIP",A[A.DEBUG=64]="DEBUG",A[A.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(N||(N={})),function(A){A[A.SIZE=0]="SIZE",A[A.COLOR=1]="COLOR",A[A.OPACITY=2]="OPACITY",A[A.ROTATION=3]="ROTATION"}(Q||(Q={})),function(A){A[A.NONE=0]="NONE",A[A.OPACITY=1]="OPACITY",A[A.COLOR=2]="COLOR",A[A.ROTATION=4]="ROTATION",A[A.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",A[A.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",A[A.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",A[A.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(ee||(ee={})),function(A){A[A.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",A[A.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",A[A.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",A[A.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(V||(V={})),function(A){A[A.SPRITE=0]="SPRITE",A[A.GLYPH=1]="GLYPH"}(R||(R={})),function(A){A[A.DEFAULT=0]="DEFAULT",A[A.SIMPLE=1]="SIMPLE",A[A.DOT_DENSITY=2]="DOT_DENSITY",A[A.OUTLINE_FILL=3]="OUTLINE_FILL",A[A.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",A[A.HEATMAP=5]="HEATMAP",A[A.PIE_CHART=6]="PIE_CHART"}($||($={}))},13112:(he,ie,_)=>{_.d(ie,{Z:()=>$});var M=_(17626),L=_(80542),N=_(77712),V=(_(85931),_(90912),_(76898));let R=class extends L.r{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const A=this.get("tileStore.tileScheme.spatialReference");return A&&A.toJSON()||null}};(0,M._)([(0,N.Cb)({readOnly:!0})],R.prototype,"supportsTileUpdates",null),(0,M._)([(0,N.Cb)({constructOnly:!0})],R.prototype,"remoteClient",void 0),(0,M._)([(0,N.Cb)({constructOnly:!0})],R.prototype,"service",void 0),(0,M._)([(0,N.Cb)()],R.prototype,"spatialReference",null),(0,M._)([(0,N.Cb)({constructOnly:!0})],R.prototype,"tileInfo",void 0),(0,M._)([(0,N.Cb)({constructOnly:!0})],R.prototype,"tileStore",void 0),R=(0,M._)([(0,V.j)("esri.views.2d.layers.features.processors.BaseProcessor")],R);const $=R},55376:(he,ie,_)=>{function N(Q,ee,V,R){const $=Q.clone(),A=1<<$.level,G=$.col+ee,T=$.row+V;return R&&G<0?($.col=G+A,$.world-=1):G>=A?($.col=G-A,$.world+=1):$.col=G,$.row=T,$}_.d(ie,{M:()=>N}),_(81340)},84378:(he,ie,_)=>{_.d(ie,{Z:()=>L});var M=_(27899);class L{constructor(){this.spans=[]}acquire(Q){this.lodInfo=Q}release(){this.lodInfo=null,this.spans.length=0}forEach(Q,ee){const{spans:V,lodInfo:R}=this,{level:$}=R;if(0!==V.length)for(const{row:A,colFrom:G,colTo:T}of V)for(let z=G;z<=T;z++)Q.call(ee,$,A,R.normalizeCol(z),R.getWorldForColumn(z))}}L.pool=new M.Z(L)},9598:(he,ie,_)=>{_.d(ie,{Z:()=>K});var M=_(37053),L=_(62208),N=_(58098);function Q(I,h){return[I,h]}function ee(I,h,v){return I[0]=h,I[1]=v,I}const R=new N.Z("0/0/0/0");class ${constructor(h,v,P,U,D,g,F,C,S,B,W,Y){this.level=h,this.resolution=v,this.scale=P,this.origin=U,this.first=D,this.last=g,this.size=F,this.norm=C,this.worldStart=S,this.worldEnd=B,this.worldSize=W,this.wrap=Y}static create(h,v,P=null){const U=(0,M.C5)(h.spatialReference),D=v.origin||Q(h.origin.x,h.origin.y),g=Q(h.size[0]*v.resolution,h.size[1]*v.resolution),F=Q(-1/0,-1/0),C=Q(1/0,1/0),S=Q(1/0,1/0);(0,L.pC)(P)&&(ee(F,Math.max(0,Math.floor((P.xmin-D[0])/g[0])),Math.max(0,Math.floor((D[1]-P.ymax)/g[1]))),ee(C,Math.max(0,Math.floor((P.xmax-D[0])/g[0])),Math.max(0,Math.floor((D[1]-P.ymin)/g[1]))),ee(S,C[0]-F[0]+1,C[1]-F[1]+1));const{cols:B,rows:W}=v;let Y,X,Z,q;return!P&&B&&W&&(ee(F,B[0],W[0]),ee(C,B[1],W[1]),ee(S,B[1]-B[0]+1,W[1]-W[0]+1)),h.isWrappable?(Y=Q(Math.ceil(Math.round((U.valid[1]-U.valid[0])/v.resolution)/h.size[0]),S[1]),X=Q(Math.floor((U.origin[0]-D[0])/g[0]),F[1]),Z=Q(Y[0]+X[0]-1,C[1]),q=!0):(X=F,Z=C,Y=S,q=!1),new $(v.level,v.resolution,v.scale,D,F,C,S,g,X,Z,Y,q)}normalizeCol(h){if(!this.wrap)return h;const v=this.worldSize[0];return h<0?v-1-Math.abs((h+1)%v):h%v}denormalizeCol(h,v){return this.wrap?this.worldSize[0]*v+h:h}getWorldForColumn(h){return this.wrap?Math.floor(h/this.worldSize[0]):0}getFirstColumnForWorld(h){return h*this.worldSize[0]+this.first[0]}getLastColumnForWorld(h){return h*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(h){return(h-this.origin[0])/this.norm[0]}getXForColumn(h){return this.origin[0]+h*this.norm[0]}getRowForY(h){return(this.origin[1]-h)/this.norm[1]}getYForRow(h){return this.origin[1]-h*this.norm[1]}getTileBounds(h,v,P=!1){R.set(v);const U=P?R.col:this.denormalizeCol(R.col,R.world),D=R.row;return function V(I,h,v,P,U){I[0]=h,I[1]=v,I[2]=P,I[3]=U}(h,this.getXForColumn(U),this.getYForRow(D+1),this.getXForColumn(U+1),this.getYForRow(D)),h}getTileCoords(h,v,P=!1){R.set(v);const U=P?R.col:this.denormalizeCol(R.col,R.world);return Array.isArray(h)?ee(h,this.getXForColumn(U),this.getYForRow(R.row)):(h.x=this.getXForColumn(U),h.y=this.getYForRow(R.row)),h}}var A=_(84378);class G{constructor(h,v,P){this.row=h,this.colFrom=v,this.colTo=P}}const T=new N.Z("0/0/0/0");class z{constructor(h,v,P,U,D,g,F,C){this.x=h,this.ymin=v,this.ymax=P,this.invM=U,this.leftAdjust=D,this.rightAdjust=g,this.leftBound=F,this.rightBound=C}static create(h,v){h[1]>v[1]&&([h,v]=[v,h]);const[P,U]=h,[D,g]=v,F=D-P,C=g-U,S=0!==C?F/C:0,B=(Math.ceil(U)-U)*S,W=(Math.floor(U)-U)*S;return new z(P,Math.floor(U),Math.ceil(g),S,F<0?B:W,F<0?W:B,F<0?D:P,F<0?P:D)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const w=[[0,0],[0,0],[0,0],[0,0]];class K{constructor(h,v=null){this.tileInfo=h,this.fullExtent=v,this.scales=[],this._infoByScale={},this._infoByLevel={};const P=h.lods.slice();P.sort((D,g)=>g.scale-D.scale);const U=this._lodInfos=P.map(D=>$.create(h,D,v));P.forEach((D,g)=>{this._infoByLevel[D.level]=U[g],this._infoByScale[D.scale]=U[g],this.scales[g]=D.scale},this),this._wrap=h.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(h){return this._infoByLevel["number"==typeof h?h:h.level]}getTileBounds(h,v,P=!1){T.set(v);const U=this._infoByLevel[T.level];return U?U.getTileBounds(h,T,P):h}getTileCoords(h,v,P=!1){T.set(v);const U=this._infoByLevel[T.level];return U?U.getTileCoords(h,T,P):h}getTileCoverage(h,v=192,P="closest"){const U="closest"===P?this.getClosestInfoForScale(h.scale):this.getSmallestInfoForScale(h.scale),D=A.Z.pool.acquire(U),g=this._wrap;let F,C,S,B=1/0,W=-1/0;const Y=D.spans;w[0][0]=w[0][1]=w[1][1]=w[3][0]=-v,w[1][0]=w[2][0]=h.size[0]+v,w[2][1]=w[3][1]=h.size[1]+v;for(const te of w)h.toMap(te,te),te[0]=U.getColumnForX(te[0]),te[1]=U.getRowForY(te[1]);const X=[];let Z=3;for(let te=0;te<4;te++){if(w[te][1]===w[Z][1]){Z=te;continue}const k=z.create(w[te],w[Z]);B=Math.min(k.ymin,B),W=Math.max(k.ymax,W),void 0===X[k.ymin]&&(X[k.ymin]=[]),X[k.ymin].push(k),Z=te}if(null==B||null==W||W-B>100)return null;let q=[];for(F=B;F<W;){null!=X[F]&&(q=q.concat(X[F])),C=1/0,S=-1/0;for(let te=q.length-1;te>=0;te--){const k=q[te];C=Math.min(C,k.getLeftCol()),S=Math.max(S,k.getRightCol())}if(C=Math.floor(C),S=Math.floor(S),F>=U.first[1]&&F<=U.last[1])if(g)if(U.size[0]<U.worldSize[0]){const te=Math.floor(S/U.worldSize[0]);for(let k=Math.floor(C/U.worldSize[0]);k<=te;k++)Y.push(new G(F,Math.max(U.getFirstColumnForWorld(k),C),Math.min(U.getLastColumnForWorld(k),S)))}else Y.push(new G(F,C,S));else C>U.last[0]||S<U.first[0]||(C=Math.max(C,U.first[0]),S=Math.min(S,U.last[0]),Y.push(new G(F,C,S)));F+=1;for(let te=q.length-1;te>=0;te--){const k=q[te];k.ymax>=F?k.incrRow():q.splice(te,1)}}return D}getTileParentId(h){T.set(h);const P=this._lodInfos.indexOf(this._infoByLevel[T.level])-1;return P<0?null:(this._getTileIdAtLOD(T,this._lodInfos[P],T),T.id)}getTileResolution(h){const v=this._infoByLevel["object"==typeof h?h.level:h];return v?v.resolution:-1}getTileScale(h){const v=this._infoByLevel[h.level];return v?v.scale:-1}intersects(h,v){T.set(v);const P=this._infoByLevel[T.level],U=h.lodInfo;if(U.resolution>P.resolution){this._getTileIdAtLOD(T,U,T);const g=U.denormalizeCol(T.col,T.world);for(const F of h.spans)if(F.row===T.row&&F.colFrom<=g&&F.colTo>=g)return!0}if(U.resolution<P.resolution){const[g,F,C,S]=h.spans.reduce((q,te)=>(q[0]=Math.min(q[0],te.row),q[1]=Math.max(q[1],te.row),q[2]=Math.min(q[2],te.colFrom),q[3]=Math.max(q[3],te.colTo),q),[1/0,-1/0,1/0,-1/0]),B=P.denormalizeCol(T.col,T.world),W=U.getColumnForX(P.getXForColumn(B)),Y=U.getRowForY(P.getYForRow(T.row)),X=U.getColumnForX(P.getXForColumn(B+1))-1,Z=U.getRowForY(P.getYForRow(T.row+1))-1;return!(W>S||X<C||Y>F||Z<g)}const D=U.denormalizeCol(T.col,T.world);return h.spans.some(g=>g.row===T.row&&g.colFrom<=D&&g.colTo>=D)}normalizeBounds(h,v,P){if(h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],this._wrap){const U=(0,M.C5)(this.tileInfo.spatialReference),D=-P*(U.valid[1]-U.valid[0]);h[0]+=D,h[2]+=D}return h}getSmallestInfoForScale(h){const v=this.scales;if(this._infoByScale[h])return this._infoByScale[h];if(h>v[0])return this._infoByScale[v[0]];for(let P=1;P<v.length-1;P++)if(h>v[P]+1e-6)return this._infoByScale[v[P-1]];return this._infoByScale[v[v.length-1]]}getClosestInfoForScale(h){const v=this.scales;return this._infoByScale[h]||(h=v.reduce((P,U)=>Math.abs(U-h)<Math.abs(P-h)?U:P,v[0])),this._infoByScale[h]}scaleToLevel(h){const v=this.scales;if(this._infoByScale[h])return this._infoByScale[h].level;for(let P=v.length-1;P>=0;P--)if(h<v[P])return P===v.length-1?this._infoByScale[v[v.length-1]].level:this._infoByScale[v[P]].level+(v[P]-h)/(v[P]-v[P+1]);return this._infoByScale[v[0]].level}scaleToZoom(h){return this.tileInfo.scaleToZoom(h)}_getTileIdAtLOD(h,v,P){const U=this._infoByLevel[P.level];return h.set(P),v.resolution<U.resolution?null:(v.resolution===U.resolution||(h.level=v.level,h.col=Math.floor(P.col*U.resolution/v.resolution+.01),h.row=Math.floor(P.row*U.resolution/v.resolution+.01)),h)}}},25601:(he,ie,_)=>{_.d(ie,{O:()=>ee,s:()=>V});const M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAnFBMVEUAAAD/gAD/gAD/cAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fAD/gAD/fAD/fQD/fQD/fQD/fQD/fQD/fgD/jR7/mjn/mjf/p1H/plH/smf/sWb/vHr/u3n/xYz/xIv/zZz/zJv/zJr/1Kv/1Kr/06r/06n/27n/27f/4cX/4cT/59D/7dr/8uX/9u7/+/f////u2EN0AAAAM3RSTlMACBAQICAoKDAwODhAQEhIUFBYYGhweICIkJCXmJ+gp6ivsLe4uL+/wMDHx8/P19/n7/cWvjXwAAACeUlEQVR42tWX3XqiMBCGY2pbtbrUnzhhdak/lHWliJD7v7fdJ+KG5AMhh30P8zCTmS+TycDaeBoHi5Wgf4jVYvbKmRfPgSAHMX9mPRnM1tSIGHM/c2QddLp4c8wxCvYIvqROBPfbHlm/sRYC6smMNTKn3sxZAyvyYNW1v38MM/IkcPQnZHPMLtciz9P9hhqwzoLD+cnfpTIUaYinyZlBkE2YKZcMXCyN/YhsPkuFlMfWJLiwo89VMxfpJDForMCwuG+Zx7ttGO2S/w4LJ42ZURDty5M0a4dqsZAQAihQfXqWdlhnpcmdEPAI0tv2EbnsbsKmdgi6/1GN7T1XJLx5sF0P9SWABMC+co5JBE4Ge/1NTM3EGIJgjFONXCdAbeQYwhN7pRrRV20LJNIhWOczdu+xPFzIBiQ62iIsyIOTvlZUY+HXySLQaMUEeSC1CPYxENIlwk+q8e0clFAIfiKG+qpaIvod4wfU8sqvkDLda+xCCqgDaAk7uyeNqD+feFlfGCcg3Hzsk+xS7Nz1Aq4CcauhhMc0uxaqIgcFsF0J+1WQyoCN7Y9ezeCVH5LhSxmyRvsihKbK1m7LafpSpkpj6yJgtsiVBh6AX5UyCVmMbrNpcwj5/h6DPN79JjAiQAhXVeN6SZI0q5bQnn4wBiHEqpUybp1ZJzWxStVCHhKhAhVLp/Emh6trHpGLaB6yZHk7wu3Z+ChOxhwUNEmYYjpUvqJDksSHraQmJm2DdqQK6sGUObybYtpSN+8Phm3pN2xjDH33R6b0CKxAZNLvl8foD3BBnSw5e8RI+G2P8GD9wHw6YN3wkfA0R4Zz8CGCIfOCv8zM738walXuLw6nXBvPr8wvAAAAAElFTkSuQmCC",L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACtVBMVEUAAAD/AAD/gAD/VQD/gAD/gAD/bQD/gAD/cQD/gAD/dAD/gAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/fAD/gAD/gAD/fAD/gAD/fQD/fQD/gAD/fQD/egD/fQD/gAD/egD/fQD/gAD/ewD/gAD/ewD/gAD/ewD/fQD/fQD/gAD/ewD/fQD/gAD/fAD/gAD/fAD/fgD/gAD/fAD/fgD/fAD/fgD/gAD/fAD/fgD/fAD/fgD/fQD/fQD/fgD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fQD/fgD/gAL/fgD/gAb/gAT/gwr/hAz/hxH/hQ//iBX/iBP/ixn/iRf/jBr/jR7/jyP/jyL/kif/kCX/kyr/lS7/lCz/ljH/li//mTX/nDr/mjn/nTz/oEL/okf/o0r/pU3/pU7/qFL/plH/qFX/q1j/q1r/rl7/sGL/rmH/s2v/tW//tW7/t3L/uHL/unb/unf/vHv/vX3/v4D/vX7/v4D/wYT/v4L/wYX/x4//x5H/yZX/y5n/zZv/y5n/zJv/zZ3/zp//0aL/z6H/1Kr/1av/06r/1q//17H/2bT/2LP/2rb/27n/3bz/3r7/37//4MH/38D/4ML/4sX/4sb/4sf/48n/5cv/48r/5cz/5s7/6dT/6tb/69j/69n/7Nn/7dv/7dz/7t7/7t3/7+H/7+D/7+H/8eL/8uX/8uX/8ub/8+j/8+f/9On/9er/9Or/9ez/9e3/9ez/9u7/9e3/9+//9+7/+PD/+PH/+fT/+fL/+vb/+vX/+vb/+/f/+vb//Pn/+/j//Pr//Pn//fv//Pr//fv//v3//fz//////v7//v3///8ZYzD6AAAA5nRSTlMAAQIDBAYHCAkKCwwQERITGBkaGyUmKCkqKy0uLzAxMjIzNDQ2Njg4OTs+Pj9AQEJCQ0RERUZHUlJTVFVWWFlfYGFiY2RlZmdoaWprbG1ucHFyc3R1dnd4eXp8f4CAgYGCg4SEhYWGhoeIiYmKiouMjI2Nj5CQkZOUlZaXmJiZmpudnp6io6OkpaanqKmqqqusrK2xs7W2t7e4ubq7u7/AwMLExcXGyMrLzM3NztDR0tPU1NXW29zd3t/g4eLi5OTl5ufo6erq6+zs7e7u7+/w8PHy9PT29vf4+Pn5+vr7+/z9/f7+/pNrFTEAAAO8SURBVHjaldf5W1RVGAfwl4kGxa2yIDPbF82EJhkVUEOiUiDMcJa482XCijStNLLVpoWCbLHFaZUoMSkq2wgtW8mobFcryiiWkffv6J557jh3zj33zvD56f3h3vM873nP+z7nkJ3cPE9JxdX+OgSWX15aMG0CjcnUoiuRSls2byplyH1eDZSqZrkz+d0ThC1/QQ45c521Eo58p5GTSZcirbIpZGtGEBkI5pNaVhEyo3mzSCF7ITJW7CKLYxbDTsPG5qe33QezxdkkySqGndYY615CilI5Cy9sRVjYgVRzKcXJGmzdwsKHkEwnkylB2AsNse5zSIITKWkJnPzCut8gW5IsxRlw9CnrRuohO5MM43xw9D4Lt0JWm2jOOXD2Ogv3w6LQaGA/nL3AwuOwCLpJmIU0nmDheVidQ0IV0niAhQ5YVcfnH2zcCMNtLLwHheOJaB5s7OxuQlx4hHV7oeAhokrYaOeBjkYIv7LuJyhUEU3QYONFZj4YrQfwGeuGQrDSxtM0KK2N7h5koa8V+ICFdVA4SX2Kbt5xmA2j7SHsZGETFOZQqarwhzjhUAuAl1nYDIUFdAVkoe0s/LiLmT9eD91TLDwHhXJaDtmbrPvyEWzg4dfCEB5kYTsUrqIgJK8w8/C2MHDDgWYgromFXVDwkQbDRsRFhpkHWyHcBMO1oyzSgcI1VGdEd8V6o6uA8D7m2BZIDrJuPxTqKGBEnczc33nHFmZ+A7IvWDegTmEF4lb1s3Dk+wH+oxGyj1hYC6saqkDcVk74u6cJsk4W7oXVZVSCuK84aXTP5pBcGeFRWM2nQmMPOw+zyQ9t62DyLAtRWM2mPBgao1+zyVD3wyEkPMTCq7DKo/Gmdo50DbDJd22JbbudhXdgoeUSVcNkTfRbNvnv3U0QGmKs2w2LpUR0MVI1d4+wSW/0egC/i7APFkXKobq+7Wc2+avrHvSK4B/1UKUaWNQ/1nOEk2Kf7GdhNSTLSDgfKhvaDrDsbkhmkuAOQKnhmb2cqkVuBDfFeWDnzo4/2WQrUl2QuB7XwtZ1T+7ho9qRYmUOGc6Gk8hb/xoLvI0Up1KCqxyOVkf3sdADs0soaVIQaUS6Bpm/gUlgMplMR1pron39SNLyKcVcpBduCQMJXpLMx5gsdJEkexHGYJGLLFzFyFhJNilkeTVkxkM28oPIQOAUsjW5DGmVTSQnM3xwVHt6FjnLudAPW4GLMnq7zqyEUvW5x1KGTvAulSqiVRYeR2OSmz+7uKLGpwX8K8oXFJw4zu67/wFaspwc84wT2QAAAABJRU5ErkJggg==";var N=_(81695);const Q={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function ee(R){return R.fromData(M,()=>new N.x(M,Q))}function V(R){return R.fromData(L,()=>new N.x(L,Q))}},8859:(he,ie,_)=>{_.d(ie,{J4:()=>Y,_N:()=>I,gv:()=>X});var W,k,M=_(62208),L=_(23841),Q=(_(84161),_(28093)),V=(_(55915),_(90014)),R=_(70562),A=(_(34054),_(26242)),T=(_(60507),_(26046)),z=_(62483),w=_(67857),J=_(40841);function I(k,ne){return function v(k,ne){const H=(0,Q.c)(),se=(0,Q.c)();let re=!1;return oe=>{const ue=ne(oe);if("start"===oe.action){const fe=(0,L.md)(oe.screenStart,(0,L.c$)(A.qW.get())),le=(0,T.u4)(k.state.camera,fe,te);(0,M.pC)(le)&&(re=(0,V.BR)(ue,le,H))}if(!re)return null;const ce=(0,L.md)(oe.screenEnd,(0,L.c$)(A.qW.get())),de=(0,T.u4)(k.state.camera,ce,te);return(0,M.Wi)(de)?null:(0,V.BR)(ue,de,se)?{...oe,renderStart:H,renderEnd:se,plane:ue,ray:de}:null}}(k,()=>ne)}function Y(k){let ne=null;return H=>{switch(H.action){case"start":ne=k.disableDisplay();break;case"end":case"cancel":(0,M.pC)(ne)&&(ne.remove(),ne=null)}return H}}function X(k,ne=null){const H=(0,z.Z8)(k.state.viewingMode);H.options.selectionMode=!0,H.options.store=w.eC.MIN,H.options.hud=!1;const se=(0,L.s1)(),re={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},oe=(0,Q.c)(),ue=(0,M.Pt)(ne,k.spatialReference),ce=fe=>{k.map.ground&&k.map.ground.opacity<1?re.exclude.add(J.cy):re.exclude.delete(J.cy),k.sceneIntersectionHelper.intersectIntersectorScreen((0,L.md)(fe,se),H,re);const le=H.results.min;let ae;if(le.getIntersectionPoint(oe))ae=le.intersector===w.q7.TERRAIN?W.GROUND:W.OTHER;else{if(!H.results.ground.getIntersectionPoint(oe))return null;ae=W.GROUND}return{location:k.renderCoordsHelper.fromRenderCoords(oe,ue),surfaceType:ae}};let de;return fe=>{if("start"===fe.action){const ae=ce(fe.screenStart);de=(0,M.pC)(ae)?ae.location:null}if((0,M.Wi)(de))return null;const le=ce(fe.screenEnd);return(0,M.pC)(le)&&(0,M.pC)(le.location)?{...fe,mapStart:de,mapEnd:le.location,surfaceType:le.surfaceType}:null}}_(30260),(k=W||(W={}))[k.GROUND=0]="GROUND",k[k.OTHER=1]="OTHER",(0,Q.c)(),(0,Q.c)();const te=(0,R.Ue)()},77603:(he,ie,_)=>{_.d(ie,{R:()=>v});var M=_(72392),L=_(62208),N=_(32917),Q=_(28347),ee=_(43703),V=_(84161),R=_(28093),$=_(993),A=_(67709),G=_(26242),T=_(53928),z=_(52107),w=_(57521),J=_(40723),K=_(16396),I=_(92972),h=_(92222);class v extends T._{constructor(D){super(D),this._handles=new M.Z,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=(0,R.c)(),this._up=(0,R.c)(),this._right=(0,R.c)(),this._renderOccluded=J.yD.OccludeAndTransparent,this._color=(0,A.f)(1,0,0,1),this._outlineColor=(0,A.f)(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=J.yD.Opaque,this.applyProps(D)}get renderOccluded(){return this._renderOccluded}set renderOccluded(D){D!==this._renderOccluded&&(this._renderOccluded=D,this._updateQuadMaterial())}get color(){return this._color}set color(D){(0,$.c)(this._color,D),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(D){(0,$.c)(this._outlineColor,D),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(D){const g=0===this._outlineSize!=(0===D);this._outlineSize=D,g?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(D){D!==this._size&&(this._size=D,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(D){this._outlineRenderOccluded=D,this._updateOutlineMaterial()}set geometry({previous:D,center:g,next:F}){this._maxSize=Math.min((0,V.i)(g,D),(0,V.i)(g,F))/3,(0,V.n)(this._up,(0,V.b)(this._up,D,g)),(0,V.n)(this._right,(0,V.b)(this._right,F,g)),(0,V.c)(this._position,g),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new I.E(this._quadMaterialParameters),this._outlineMaterial=new h.U(this._outlineMaterialParameters),this._handles.add((0,N.YP)(()=>this.view.state.camera,()=>this._updateTransform()))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(D){D(this._quadMaterial),D(this._outlineMaterial)}createGeometries(D){(0,V.k)(this._up,R.Z)&&(0,V.k)(this._right,R.Z)||(this._createQuadGeometry(D),this._createOutlineGeometry(D),this._updateTransform(D))}_createQuadGeometry(D){const g=this._quadGeometryData(this._up,this._right);D.addGeometry(g,this._quadMaterial)}_createOutlineGeometry(D){if(0===this._outlineSize)return;const g=(0,V.a)(G.WM.get(),this._up,this._right),F=(0,w.rh)([this._up,g,this._right]);D.addGeometry(F,this._outlineMaterial)}_updateTransform(D=this.object){const F=this._size*this.view.state.camera.computeScreenPixelSizeAt(this._position),C=Math.min(this._maxSize,F);(0,Q.f)(P,this._position),(0,Q.k)(P,P,[C,C,C]),(0,L.pC)(D)&&(D.transformation=P)}_quadGeometryData(D,g){const F=(0,V.a)(G.WM.get(),D,g);return new z.Z([[K.T.POSITION,{size:3,data:[0,0,0,...g,...D,...F],exclusive:!0}]],[[K.T.POSITION,[0,1,2,1,2,3]]])}get _quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameters(this._outlineMaterialParameters)}}const P=(0,ee.c)()},50916:(he,ie,_)=>{_.d(ie,{r:()=>T});var M=_(17626),L=_(26584),N=_(62208),Q=_(32917),ee=_(77712),$=(_(85931),_(90912),_(76898)),A=_(41632),G=_(61779);const T=z=>{let w=class extends z{get imageFormatIsOpaque(){return!1}get fullExtent(){return this.layer.fullExtent}get isOpaque(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}get dataLevelRange(){const J=this.tileInfo.lods;return this.levelRangeFromScaleRange(J[0].scale,J[J.length-1].scale)}get displayLevelRange(){const J=this.tileInfo.lods,h=this.levelRangeFromScaleRange(this.layer.minScale||J[0].scale,this.layer.maxScale||J[J.length-1].scale);return this.layer.maxScale&&h.maxLevel++,h}getTileUrl(J,K,I){return this.layer.getTileUrl(J,K,I)}_addTilingSchemeMatchPromise(){if((0,N.Wi)(this.fullExtent))return this.addResolvingPromise(Promise.reject(new L.Z("tilingscheme:extent-not-defined","This layer doesn't define a fullExtent.")));const J=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if((0,N.pC)(J))return this.addResolvingPromise(Promise.reject(J));const K=(0,Q.N1)(()=>this.view?.basemapTerrain?.tilingSchemeLocked).then(()=>{const h=this._getTileInfoCompatibilityError(this.tileInfo,this.view.basemapTerrain.tilingScheme);if(h)throw h});this.addResolvingPromise(K)}_getTileInfoSupportError(J,K){const I=(0,G.er)(J,K,this.view.spatialReference,this.view.state.viewingMode);if(I){const h={layer:this.layer,error:I};let v;switch(I.name){case"tilingscheme:spatial-reference-mismatch":case"tilingscheme:global-unsupported-spatial-reference":case"tilingscheme:local-unsupported-spatial-reference":v=new L.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",h);break;default:v=new L.Z("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",h)}return v}return null}_getTileInfoCompatibilityError(J,K){return K.compatibleWith(J)?null:new L.Z("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")}levelRangeFromScaleRange(J,K){const I={minLevel:0,maxLevel:1/0},h=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!h)return I;const v=h.levels[0],P=U=>{const D=Math.log(v.scale/U)/Math.LN2;return.5-Math.abs(.5-D%1)<1e-9?Math.round(D):Math.ceil(D)};return null!=J&&J>0&&(I.minLevel=Math.max(0,P(J))),null!=K&&K>0&&(I.maxLevel=Math.max(0,P(K))),I}isUpdating(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}};return(0,M._)([(0,ee.Cb)({readOnly:!0})],w.prototype,"imageFormatIsOpaque",null),(0,M._)([(0,ee.Cb)({readOnly:!0})],w.prototype,"updating",void 0),(0,M._)([(0,ee.Cb)(A.q)],w.prototype,"updatingProgress",void 0),(0,M._)([(0,ee.Cb)(A.V)],w.prototype,"updatingProgressValue",void 0),(0,M._)([(0,ee.Cb)()],w.prototype,"fullExtent",null),(0,M._)([(0,ee.Cb)({readOnly:!0})],w.prototype,"isOpaque",null),(0,M._)([(0,ee.Cb)({readOnly:!0})],w.prototype,"dataLevelRange",null),(0,M._)([(0,ee.Cb)({readOnly:!0})],w.prototype,"displayLevelRange",null),(0,M._)([(0,ee.Cb)()],w.prototype,"layer",void 0),(0,M._)([(0,ee.Cb)()],w.prototype,"tileInfo",void 0),w=(0,M._)([(0,$.j)("esri.views.3d.layers.TiledLayerView3D")],w),w}},32400:(he,ie,_)=>{_.d(ie,{D:()=>Y});var M=_(15861),L=_(17626),N=_(88879),Q=_(46160),ee=_(80542),V=_(54024),R=_(62208),$=_(10699),A=_(32917),G=_(77712),w=(_(85931),_(90912),_(76898)),J=_(84682),K=_(44917),I=_(84786),h=_(39256),v=_(96854),P=_(62600),U=_(80960),D=_(1191),g=_(94991),F=_(83518),C=_(14752),S=_(67873),B=_(67225),W=_(42743);let Y=class extends ee.r{constructor(Z){super(Z),this.type="graphics-3d",this.graphicsCore=null,this.drapeSourceType=P.L.Features,this.scaleVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this._suspendResumeExtent=null}initialize(){const{layer:Z}=this,q="effectiveScaleRange"in Z?Z:null,te=this.scaleVisibilityEnabled&&(0,R.pC)(q),k=new D.w({owner:this,layer:this.owner.layer,preferredUpdatePolicy:W.jq.SYNC,graphicSymbolSupported:!0,componentFactories:{elevationAlignment:(ne,H)=>new g.Z({graphicsCoreOwner:this,graphicsCore:ne,queryGraphicUIDsInExtent:H,elevationProvider:this.view.elevationProvider}),scaleVisibility:te?(ne,H)=>new S.Z({graphicsCoreOwner:this,layer:q,queryGraphicUIDsInExtent:H,graphicsCore:ne,basemapTerrain:this.owner.view.basemapTerrain}):null,objectStates:ne=>new C.d(ne)}});if(this._set("graphicsCore",k),this.frustumVisibilityEnabled&&this._set("frustumVisibility",new F.Z({graphicsCoreOwner:this})),"fullOpacity"in this.owner){const ne=this.owner;this.updatingHandles.add(()=>ne.fullOpacity,()=>this.graphicsCore.opacityChange())}if("elevationInfo"in Z){const ne=Z;this.updatingHandles.add(()=>ne.elevationInfo,(H,se)=>{(0,J.Hg)(H,se)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})}this._set("initializePromise",this._initializeAsync()),this.updatingHandles.addPromise(this.initializePromise)}_initializeAsync(){var Z=this;return(0,M.Z)(function*(){try{yield Z.graphicsCore.initializePromise}catch(q){if((0,$.D_)(q))return;throw q}Z.destroyed||(Z.handles.add((0,A.YP)(()=>Z.view.clippingArea,()=>Z._updateClippingExtent(),A.Z_)),Z._updateClippingExtent(),Z._setupSuspendResumeExtent(),Z.graphicsCore.startCreateGraphics())})()}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set("frustumVisibility",(0,R.SC)(this.frustumVisibility)),this._set("graphicsCore",(0,R.SC)(this.graphicsCore))}get layer(){return this.owner.layer}get view(){return this.owner.view}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get objectStates(){return this.graphicsCore?.objectStates}get scaleVisibilitySuspended(){return!(!(0,R.pC)(this.scaleVisibility)||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return(0,R.pC)(this.frustumVisibility)&&this.frustumVisibility.suspended}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||(0,R.pC)(this.scaleVisibility)&&this.scaleVisibility.updating||(0,R.pC)(this.frustumVisibility)&&this.frustumVisibility.updating||this.updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(Z){this.graphicsCore.notifyGraphicGeometryChanged(Z)}notifyGraphicVisibilityChanged(Z){this.graphicsCore.notifyGraphicVisibilityChanged(Z)}getRenderingInfo(Z,q,te){const k=(0,h.Kb)(Z,{renderer:q,arcade:te});if((0,R.pC)(k)&&k.color){const ne=k.color;ne[0]=ne[0]/255,ne[1]=ne[1]/255,ne[2]=ne[2]/255}return k}getRenderingInfoAsync(Z,q,te,k){return(0,h.xn)(Z,{renderer:q,arcade:te,...k})}getHit(Z){if(this.owner.loadedGraphics){const q=this.owner.loadedGraphics.find(te=>te.uid===Z);if(q){const k=(0,I.mW)(q,this.layer instanceof K.Z?this.layer:null);return{type:"graphic",graphic:k,layer:k.layer}}}return null}whenGraphicBounds(Z,q){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(Z,q):Promise.reject()}computeAttachmentOrigin(Z,q){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(Z,q):null}getSymbolLayerSize(Z,q){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(Z,q):null}maskOccludee(Z){const{set:q,handle:te}=this.objectStates.acquireSet(W.V_.MaskOccludee,null);return this.objectStates.setUid(q,Z.uid),te}highlight(Z){if(Z instanceof v.Z)return X;if("number"==typeof Z)return this.highlight([Z]);if(Z instanceof N.Z)return this.highlight([Z]);if(Z instanceof Q.Z&&(Z=Z.toArray()),Array.isArray(Z)&&Z.length>0){if(Z[0]instanceof N.Z){const q=Z.map(ne=>ne.uid),{set:te,handle:k}=this.objectStates.acquireSet(W.V_.Highlight,null);return this.objectStates.setUids(te,q),k}if("number"==typeof Z[0]){const q=Z,{set:te,handle:k}=this.objectStates.acquireSet(W.V_.Highlight,null);return this.objectStates.setObjectIds(te,q),k}}return X}_setupSuspendResumeExtent(){const{scaleVisibility:Z,frustumVisibility:q}=this;if((0,R.Wi)(Z)&&(0,R.Wi)(q))return;const te=({computedExtent:k,extentPadding:ne})=>{this._suspendResumeExtent=(0,B.Go)(k,this._suspendResumeExtent,U.Z,ne),(0,R.pC)(Z)&&Z.setExtent(this._suspendResumeExtent),(0,R.pC)(q)&&q.setExtent(this._suspendResumeExtent)};this.handles.add((0,A.YP)(()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding}),k=>te(k),A.tX))}_updateClippingExtent(){this.graphicsCore.setClippingExtent(this.view.clippingArea,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};(0,L._)([(0,G.Cb)()],Y.prototype,"type",void 0),(0,L._)([(0,G.Cb)({constructOnly:!0})],Y.prototype,"owner",void 0),(0,L._)([(0,G.Cb)()],Y.prototype,"layer",null),(0,L._)([(0,G.Cb)()],Y.prototype,"view",null),(0,L._)([(0,G.Cb)({constructOnly:!0})],Y.prototype,"graphicsCore",void 0),(0,L._)([(0,G.Cb)()],Y.prototype,"scaleVisibility",null),(0,L._)([(0,G.Cb)({constructOnly:!0})],Y.prototype,"frustumVisibility",void 0),(0,L._)([(0,G.Cb)()],Y.prototype,"elevationAlignment",null),(0,L._)([(0,G.Cb)()],Y.prototype,"objectStates",null),(0,L._)([(0,G.Cb)()],Y.prototype,"scaleVisibilitySuspended",null),(0,L._)([(0,G.Cb)({readOnly:!0})],Y.prototype,"frustumVisibilitySuspended",null),(0,L._)([(0,G.Cb)()],Y.prototype,"suspended",null),(0,L._)([(0,G.Cb)({readOnly:!0})],Y.prototype,"updating",null),(0,L._)([(0,G.Cb)()],Y.prototype,"loadedGraphics",null),(0,L._)([(0,G.Cb)()],Y.prototype,"fullOpacity",null),(0,L._)([(0,G.Cb)()],Y.prototype,"slicePlaneEnabled",null),(0,L._)([(0,G.Cb)()],Y.prototype,"drapeSourceType",void 0),(0,L._)([(0,G.Cb)()],Y.prototype,"updatePolicy",null),(0,L._)([(0,G.Cb)({constructOnly:!0})],Y.prototype,"scaleVisibilityEnabled",void 0),(0,L._)([(0,G.Cb)({constructOnly:!0})],Y.prototype,"frustumVisibilityEnabled",void 0),(0,L._)([(0,G.Cb)()],Y.prototype,"initializePromise",void 0),Y=(0,L._)([(0,w.j)("esri.views.3d.layers.graphics.GraphicsProcessor")],Y);const X=(0,V.kB)()},3493:(he,ie,_)=>{_.d(ie,{Z6:()=>$,ZS:()=>R,sw:()=>V});var M=_(58817),L=_(62208),N=_(97445);const Q={setAttribute(){},rollback(){},commit(){}};var ee,K;function V(K,I){const h=I.attributes[K.objectIdField],v=K.sessions.get(h);if(v)return v;const P=(0,M.d9)(I.attributes),U=new Set;if(null==h)return Q;const D=K.i3sOverrides.createInteractiveEditSession(h),g=new Map;let C=ee.EDITING;const S={setAttribute(B,W){if(C!==ee.EDITING)return;const Y=K.fieldsIndex.get(B);if((0,L.Wi)(Y))return;const X=K.attributeStorageInfo.findIndex(te=>te.name===Y.name);if(X<0)return;D.set(X,W);const Z=K.attributeStorageInfo[X];let q=!1;U.add(B),K.forEachNode((te,k)=>{const ne=((B,W)=>{const Y=g.get(B);if(null==Y){const X=W.indexOf(h);return g.set(B,X),X}return Y})(te,k);if(-1===ne)return;const H=K.getAttributeData(te.index);if(H){const se=H[Z.name];se&&(se[ne]=W,K.setAttributeData(te.index,H,I),q=!0)}}),q&&K.clearMemCache()},rollback(){if(C===ee.EDITING){for(const B of U)this.setAttribute(B,P[B]);D.rollback(),C=ee.ROLLED_BACK,K.sessions.delete(h)}},commit(){C===ee.EDITING&&(D.commit(),C=ee.COMMITTED,K.sessions.delete(h))}};return K.sessions.set(h,S),S}function R(K,I){const h=[...I.addedFeatures,...I.updatedFeatures,...I.deletedFeatures];for(const v of h)v.objectId&&K.i3sOverrides.updateGeometry(v.objectId)}function $(K,I){const h=function A(K,I){const h=I.edits.updateFeatures;if(!h||0===h.length)return new J;const v=function z(K){const I=new Set;if(!K.updatedFeatures)return I;for(const h of K.updatedFeatures)null!=h.objectId&&null==h.error&&I.add(h.objectId);return I}(I),P=new J,U=new Map;for(let C=0;C<K.attributeStorageInfo.length;C++)U.set(K.attributeStorageInfo[C].name,C);const D=K.fieldsIndex,g=K.objectIdField,F=h.filter(C=>{const S=(0,N.g)(D,C.attributes,g);return v.has(S)});return K.forEachNode((C,S)=>{const B=new Set(S);for(const W of F){const Y=(0,N.g)(D,W.attributes,g);if(!B.has(Y))continue;const X=S.indexOf(Y);for(const Z in W.attributes){const q=K.fieldsIndex.normalizeFieldName(Z);G(P,C.index,q).push({featureIndex:X,featureId:Y,value:W.attributes[Z]})}}}),P}(K,I);if(0===h.size)return;const v=new Map;for(let U=0;U<K.attributeStorageInfo.length;U++)v.set(K.attributeStorageInfo[U].name,U);let P=!1;h.forEach((U,D)=>{const g=K.getAttributeData(D);let F=!1;U.forEach((C,S)=>{const B=(0,L.pC)(g)?g[S]:null,W=v.get(S);for(const{featureIndex:Y,value:X,featureId:Z}of C)B&&(B[Y]=X,F=!0,P=!0),K.i3sOverrides.updateAttributeValue(Z,W,X)}),F&&K.setAttributeData(D,g,null)}),P&&K.clearMemCache()}function G(K,I,h){const v=function T(K,I){const h=K.get(I);if(h)return h;const v=new w;return K.set(I,v),v}(K,I),P=v.get(h);if(P)return P;const U=new Array;return v.set(h,U),U}(K=ee||(ee={}))[K.EDITING=0]="EDITING",K[K.ROLLED_BACK=1]="ROLLED_BACK",K[K.COMMITTED=2]="COMMITTED";const w=Map,J=Map},40465:(he,ie,_)=>{_.d(ie,{i:()=>z});var M=_(15861),L=_(17626),N=_(26584),Q=_(62208),A=(_(63290),_(90912),_(85931),_(8314),_(76898)),G=_(36630),T=_(10023);const z=w=>{let J=class extends w{_validateFetchPopupFeatures(K){const{layer:I}=this,{popupEnabled:h}=I;return h?(0,T.V)(I,K)?void 0:new N.Z("scenelayerview3d:fetchPopupFeatures","Layer does not define a popup template",{layer:I}):new N.Z("scenelayerview3d:fetchPopupFeatures","Popups are disabled",{layer:I})}prepareFetchPopupFeatures(K){return(0,M.Z)(function*(){})()}fetchPopupFeatures(K,I){var h=this;return(0,M.Z)(function*(){const v=h._validateFetchPopupFeatures(I);if(v)throw v;const P=(0,Q.pC)(I)?I.clientGraphics:null;if(!P||0===P.length)return[];const U="scene"===h.layer.type&&(0,Q.pC)(h.layer.associatedLayer)?h.layer.associatedLayer:h.layer,D=(0,G.Lk)(h.layer.fieldsIndex,yield(0,T.e)(U,(0,T.V)(h.layer,I)));yield h.prepareFetchPopupFeatures(D);const g=new Set,F=[],C=[];for(const S of P)(0,G.Gm)(D,S,g)?C.push(S):F.push(S);return 0===C.length?F:h.whenGraphicAttributes(C,[...g]).catch(()=>C).then(S=>F.concat(S))})()}};return J=(0,L._)([(0,A.j)("esri.views.3d.layers.support.PopupSceneLayerView")],J),J}},57610:(he,ie,_)=>{_.d(ie,{K:()=>P});var M=_(15861),L=_(17626),N=_(14517),Q=_(63290),ee=_(36082),V=_(77712),R=_(76898),$=_(819);const A=g=>{let F=class extends g{constructor(){super(...arguments),this._numUpdating=0,this._asyncUpdateState=new Map}get updating(){return this._numUpdating>0}autoUpdateAsync(C,S){return function T(g,F){const S=()=>{if(!W||Y)return F();W.clear(),Y=!0;const X=(0,ee.LJ)(W,F);return Y=!1,X};let W=new $.M(()=>{W&&!Y&&g(S)}),Y=!1;return g(S),{remove:()=>{W&&(W.destroy(),W=null)}}}(B=>this._updateAsync(C,B),S)}_updateAsync(C,S){var B=this;return(0,M.Z)(function*(){if(!B._startAsyncUpdate(C)){try{const W=yield S();B._set(C,W)}catch{Q.Z.getLogger(B.declaredClass).warn(`Async update of "${String(C)}" failed. Async update functions should not throw exceptions.`)}B._endAsyncUpdate(C)&&B._updateAsync(C,S)}})()}_startAsyncUpdate(C){const S=this._asyncUpdateState.get(C)??G.None;return S&G.Updating?(this._asyncUpdateState.set(C,S|G.Invalidated),!0):(++this._numUpdating,this._asyncUpdateState.set(C,S|G.Updating),!1)}_endAsyncUpdate(C){--this._numUpdating;const S=(this._asyncUpdateState.get(C)??G.None)&~G.Updating;return S&G.Invalidated?(this._asyncUpdateState.set(C,S&~G.Invalidated),!0):(this._asyncUpdateState.set(C,S),!1)}};return(0,L._)([(0,V.Cb)({readOnly:!0})],F.prototype,"updating",null),(0,L._)([(0,V.Cb)()],F.prototype,"_numUpdating",void 0),F=(0,L._)([(0,R.j)("esri.core.AsyncUpdate")],F),F};var G,g;(g=G||(G={}))[g.None=0]="None",g[g.Updating=1]="Updating",g[g.Invalidated=2]="Invalidated";let z=class extends(A(N.Z)){};z=(0,L._)([(0,R.j)("esri.core.AsyncUpdate")],z);var w=_(80542),J=_(62208),h=(_(85931),_(90912),_(36630));const v="esri.views.3d.layers.support.SceneLayerViewRequiredFields";let P=class extends(A(w.r)){constructor(g){super(g)}get requiredFields(){const{layerView:{layer:{fieldsIndex:g},definitionExpressionFields:F},rendererFields:C,labelingFields:S,viewFilterFields:B}=this;return(0,h.Q0)(g,[...(0,J.Pt)(F,[]),...(0,J.Pt)(C,[]),...(0,J.Pt)(S,[]),...(0,J.Pt)(B,[])])}initialize(){this.layer=this.layerView.layer,this.handles.add([this.autoUpdateAsync("rendererFields",()=>{const{fieldsIndex:F,renderer:C}=this.layer;return C?U(S=>C.collectRequiredFields(S,F)):null}),this.autoUpdateAsync("labelingFields",()=>{const{layer:F}=this;return F.labelsVisible?U(C=>(0,h.Mu)(C,F)):null}),this.autoUpdateAsync("viewFilterFields",()=>{const{layer:F,filter:C}=this.layerView;return U(S=>(0,h.Ll)(S,F,C))})])}};function U(g){return D.apply(this,arguments)}function D(){return D=(0,M.Z)(function*(g){const F=new Set;try{return yield g(F),Array.from(F).sort()}catch(C){return Q.Z.getLogger(v).error(C),null}}),D.apply(this,arguments)}(0,L._)([(0,V.Cb)()],P.prototype,"layerView",void 0),(0,L._)([(0,V.Cb)()],P.prototype,"layer",void 0),(0,L._)([(0,V.Cb)()],P.prototype,"requiredFields",null),(0,L._)([(0,V.Cb)()],P.prototype,"rendererFields",void 0),(0,L._)([(0,V.Cb)()],P.prototype,"labelingFields",void 0),(0,L._)([(0,V.Cb)()],P.prototype,"viewFilterFields",void 0),P=(0,L._)([(0,R.j)(v)],P)},67966:(he,ie,_)=>{_.d(ie,{v:()=>L});var M=_(36630);function L(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:N,layer:{fieldsIndex:Q},requiredFields:ee}=this;return(0,M.Q0)(Q,N.outFields?[...(0,M.Lk)(Q,N.outFields),...ee]:ee)}}}}},70211:(he,ie,_)=>{_.d(ie,{x:()=>Q});var M=_(33351),L=_(97979),N=_(19038);class Q extends L.a{constructor(V){super({...V,constraint:new M.Hk(V.coordinateHelper,V.targetPoint)})}get hints(){return[new N.n(this.targetPoint,this.elevationInfo,this.domain)]}}},4257:(he,ie,_)=>{_.d(ie,{X:()=>A,g:()=>G});var M=_(62208),L=_(33351),N=_(44725),Q=_(97979),ee=_(62160);class V extends Q.a{constructor(z){super({...z,constraint:new L.M8(z.coordinateHelper,z.edgeStart,z.edgeEnd,z.getGroundElevation)})}get hints(){return[new ee.w(N.ze.REFERENCE,this.constraint.start,this.constraint.end,this.elevationInfo,this.domain)]}}var R=_(75897),$=_(70211);function A(T,z,w,J){switch(T.type){case"edge":return T.draped?new V({coordinateHelper:z,edgeStart:z.pointToVector(T.start),edgeEnd:z.pointToVector(T.end),targetPoint:z.pointToVector(T.target),objectId:T.objectId,getGroundElevation:J,elevationInfo:w}):new R.L({coordinateHelper:z,edgeStart:z.pointToVector(T.start),edgeEnd:z.pointToVector(T.end),targetPoint:z.pointToVector(T.target),objectId:T.objectId,elevationInfo:w});case"vertex":return new $.x({coordinateHelper:z,targetPoint:z.pointToVector(T.target),objectId:T.objectId,elevationInfo:w})}}function G(T){return(0,M.pC)(T)&&"3d"===T.type?(z,w,J)=>T.elevationProvider.getElevation(z,w,J,T.spatialReference,"ground"):()=>null}},17936:(he,ie,_)=>{_.d(ie,{p:()=>A});var M=_(15861),N=(_(8314),_(93961)),Q=_(88159),ee=_(62208),V=_(10699),R=_(16730),$=_(29505);function A(I=!1,h){if(I){const{elevationInfo:v,alignPointsInFeatures:P,spatialReference:U}=h;return new z(v,P,U)}return new G}class G{alignCandidates(h,v){return(0,M.Z)(function*(){return h})()}notifyElevationSourceChange(){}}class z{constructor(h,v,P){this._elevationInfo=h,this._alignPointsInFeatures=v,this.spatialReference=P,this._alignmentsCache=new N.Z(1024),this._cacheVersion=0,this._metersPerVerticalUnit=(0,R._R)(P)}alignCandidates(h,v){var P=this;return(0,M.Z)(function*(){const U=P._elevationInfo;return(0,ee.pC)(U)&&"absolute-height"===U.mode&&!U.featureExpressionInfo?(P._alignAbsoluteElevationCandidates(h,U),h):P._alignComputedElevationCandidates(h,v)})()}notifyElevationSourceChange(){this._alignmentsCache.clear(),this._cacheVersion++}_alignAbsoluteElevationCandidates(h,v){const{offset:P,unit:U}=v;if((0,ee.Wi)(P))return;const D=P*((0,$.Z7)(U??"meters")/this._metersPerVerticalUnit);for(const g of h)switch(g.type){case"edge":g.start.z+=D,g.end.z+=D;continue;case"vertex":g.target.z+=D;continue}}_alignComputedElevationCandidates(h,v){var P=this;return(0,M.Z)(function*(){const U=new Map;for(const Y of h)(0,Q.s1)(U,Y.objectId,K).push(Y);const[D,g,F]=P._prepareQuery(U),C=yield P._alignPointsInFeatures(D,v);if((0,V.k_)(v),F!==P._cacheVersion)return P._alignComputedElevationCandidates(h,v);P._applyCacheAndResponse(D,C,g);const{drapedObjectIds:S,failedObjectIds:B}=C,W=[];for(const Y of h){const{objectId:X}=Y;S.has(X)&&"edge"===Y.type&&(Y.draped=!0),B.has(X)||W.push(Y)}return W})()}_prepareQuery(h){const v=[],P=[];for(const[U,D]of h){const g=[];for(const F of D)this._addToQueriesOrCachedResult(U,F.target,g,P),"edge"===F.type&&(this._addToQueriesOrCachedResult(U,F.start,g,P),this._addToQueriesOrCachedResult(U,F.end,g,P));0!==g.length&&v.push({objectId:U,points:g})}return[v,P,this._cacheVersion]}_addToQueriesOrCachedResult(h,v,P,U){const D=J(h,v),g=this._alignmentsCache.get(D);(0,ee.pC)(g)?U.push(new w(v,g)):P.push(v)}_applyCacheAndResponse(h,{elevations:v,drapedObjectIds:P,failedObjectIds:U},D){for(const C of D)C.apply();let g=0;const F=this._alignmentsCache;for(const{objectId:C,points:S}of h){if(U.has(C)){g+=S.length;continue}const B=!P.has(C);for(const W of S){const Y=J(C,W),X=v[g++];W.z=X,B&&F.put(Y,X,1)}}}}class w{constructor(h,v){this.point=h,this.z=v}apply(){this.point.z=this.z}}function J(I,{x:h,y:v,z:P}){return`${I}-${h}-${v}-${P??0}}`}function K(){return[]}},1520:(he,ie,_)=>{_.d(ie,{c:()=>ee}),_(8314);class L{filter(z,w){return w}notifyElevationSourceChange(){}}class N{filter(z,w){const{point:J,distance:K}=z,{z:I}=J;if(null==I||0===w.length)return w;const h=function A(T){return"number"==typeof T?{x:T,y:T,z:T}:T}(K),v=this._updateCandidatesTo3D(w,J,h).filter(Q);return v.sort(G),v}_updateCandidatesTo3D(z,w,J){for(const K of z)switch(K.type){case"edge":V(K,w,J);continue;case"vertex":$(K,w,J);continue}return z}}function Q(T){return T.distance<=1}function ee(T=!1){return T?new N:new L}function V(T,z,{x:w,y:J,z:K}){const{start:I,end:h,target:v}=T;T.draped||function R(T,z,w,J){const K=J.x-w.x,I=J.y-w.y,h=J.z-w.z,U=Math.min(1,Math.max(0,((z.x-w.x)*K+(z.y-w.y)*I+h*(z.z-w.z))/(K*K+I*I+h*h))),g=w.y+I*U,F=w.z+h*U;T.x=w.x+K*U,T.y=g,T.z=F}(v,z,I,h);const P=(z.x-v.x)/w,U=(z.y-v.y)/J,D=(z.z-v.z)/K;T.distance=Math.sqrt(P*P+U*U+D*D)}function $(T,z,{x:w,y:J,z:K}){const{target:I}=T,h=(z.x-I.x)/w,v=(z.y-I.y)/J,P=(z.z-I.z)/K,U=Math.sqrt(h*h+v*v+P*P);T.distance=U}function G(T,z){return T.distance-z.distance}},83010:(he,ie,_)=>{_.d(ie,{k:()=>R});var M=_(15861),N=(_(8314),_(58817)),Q=_(93961),ee=_(10699),V=_(77275);function R(z=!1,w){return z?new G(w):new $}class ${fetch(){return(0,M.Z)(function*(){return[]})()}notifySymbologyChange(){}}class G{constructor(w){this._getSymbologyCandidates=w,this._candidatesCache=new Q.Z(1024),this._cacheVersion=0}fetch(w,J){var K=this;return(0,M.Z)(function*(){if(0===w.length)return[];const I=[],h=[],v=K._candidatesCache;for(const C of w){const S=T(C),B=v.get(S);if(B)for(const W of B)h.push((0,N.d9)(W));else I.push(C),v.put(S,[],1)}if(0===I.length)return h;const P=K._cacheVersion,{candidates:U,sourceCandidateIndices:D}=yield K._getSymbologyCandidates(I,J);if((0,ee.k_)(J),P!==K._cacheVersion)return K.fetch(w,J);const g=[],{length:F}=U;for(let C=0;C<F;++C){const S=U[C],B=T(I[D[C]]),W=v.get(B);W.push(S),v.put(B,W,W.length),g.push((0,N.d9)(S))}return h.concat(g)})()}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function T(z){switch(z.type){case"vertex":{const{objectId:w,target:J}=z;return(0,V.hP)(`${w}-vertex-${J.x}-${J.y}-${J.z??0}`).toString()}case"edge":{const{objectId:w,start:J,end:K}=z;return(0,V.hP)(`${w}-edge-${J.x}-${J.y}-${J.z??0}-to-${K.x}-${K.y}-${K.z??0}`).toString()}default:return""}}},78465:(he,ie,_)=>{_.d(ie,{Z:()=>I});var M=_(15861),L=_(17626),N=_(63290),Q=_(62208),ee=_(76825),V=_(32917),R=_(77712),G=(_(85931),_(90912),_(76898)),T=_(55915),z=_(45611);const w="esri.views.layers.SceneLayerView",J=N.Z.getLogger(w);let K=class extends z.Z{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryEngine=null,this._projectionEngineLoaded=!1}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(h){throw new Error("Not implemented")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){return(0,ee.lK)(this._layerFilter)}get _layerFilter(){const h=this.layer.filter;if((0,Q.Wi)(h)||h.geometries.length<1)return null;const v=this._geometryEngine;if((0,Q.Wi)(v)||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return ee.cn;const P=h.geometries.getItemAt(0).spatialReference,U=h.geometries.toArray().map(C=>{try{C=v.simplify(C)}catch{return J.warnOncePerTick("Failed to simplify scene filter mask polygon. Polygon will be ignored."),null}if(null==C)return null;if(C.spatialReference.equals(P))return C;try{return(0,T.iV)(C,P)}catch{return J.warnOncePerTick("Failed to project scene filter mask polygon. Polygon will be ignored."),null}}).filter(C=>null!=C).sort((C,S)=>C.extent.xmin-S.extent.xmin),D=new Set,g=new Array,F=new Array;for(let C of U){const S=C.extent.xmin;if(g.length=0,D.forEach(B=>{if(S>=B.extent.xmax)return F.push(B),void D.delete(B);C.extent.ymin<=B.extent.ymax&&C.extent.ymax>=B.extent.ymin&&v.intersects(C,B)&&g.push(B)}),g.length>0){g.push(C);try{C=v.union(g)}catch{J.warnOncePerTick("Failed to unify filter mask polygons. Polygon will be ignored.");continue}g.pop(),g.forEach(B=>D.delete(B))}D.add(C)}return D.forEach(C=>F.push(C)),F.length>0?{spatialRelationship:h.spatialRelationship,geometries:F}:null}get _filterNeedsProjectionEngine(){const h=this.layer.filter;if((0,Q.Wi)(h)||h.geometries.length<=1)return!1;const v=h.geometries.getItemAt(0).spatialReference;return h.geometries.some(({spatialReference:P})=>!P.equals(v)&&!(0,T.Up)(P,v))}get layerFilterUpdating(){return(0,ee.j)(this._layerFilter)}initialize(){var h=this;(0,V.N1)(()=>!this._geometryEngine&&(0,Q.pC)(this.layer.filter)&&this.layer.filter.geometries.length).then((0,M.Z)(function*(){return h._geometryEngine=yield Promise.all([_.e(4918),_.e(4766)]).then(_.bind(_,44766))})),this._projectionEngineLoaded=(0,T.kR)(),(0,V.N1)(()=>!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine).then((0,M.Z)(function*(){yield(0,T.zD)(),h._projectionEngineLoaded=!0}))}highlight(h){throw new Error("Not implemented")}queryFeatures(h,v){throw new Error("Not implemented")}queryObjectIds(h,v){throw new Error("Not implemented")}queryFeatureCount(h,v){throw new Error("Not implemented")}createQuery(){throw new Error("Not implemented")}queryExtent(h,v){throw new Error("Not implemented")}};(0,L._)([(0,R.Cb)()],K.prototype,"layer",void 0),(0,L._)([(0,R.Cb)()],K.prototype,"availableFields",null),(0,L._)([(0,R.Cb)()],K.prototype,"maximumNumberOfFeatures",null),(0,L._)([(0,R.Cb)({readOnly:!0})],K.prototype,"maximumNumberOfFeaturesExceeded",null),(0,L._)([(0,R.Cb)()],K.prototype,"filter",void 0),(0,L._)([(0,R.Cb)({readOnly:!0})],K.prototype,"layerFilter",null),(0,L._)([(0,R.Cb)({readOnly:!0})],K.prototype,"_layerFilter",null),(0,L._)([(0,R.Cb)()],K.prototype,"_geometryEngine",void 0),(0,L._)([(0,R.Cb)()],K.prototype,"_projectionEngineLoaded",void 0),(0,L._)([(0,R.Cb)()],K.prototype,"_filterNeedsProjectionEngine",null),(0,L._)([(0,R.Cb)()],K.prototype,"layerFilterUpdating",null),K=(0,L._)([(0,G.j)(w)],K);const I=K},73187:(he,ie,_)=>{_.d(ie,{q:()=>I});var M=_(17626),L=_(91558),N=_(88879),Q=_(14517),ee=_(21286),V=_(62208),R=_(77712),G=(_(85931),_(90912),_(76898)),T=_(69852),z=_(88493),w=_(35540),J=_(21716);const K=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let I=class extends Q.Z{constructor(h){super(h),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=K.map(h=>new z.Z({color:[h[0],h[1],h[2],.6],outline:{color:"black",width:1}})),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(h){this._enabled!==h&&(this._enabled=h,this.update())}update(){if(!this._enabled)return void this.clear();const v=this.getTiles(),P=new Array,U=new Set(this._labels.keys());v.forEach((g,F)=>{const C=g.lij.toString();U.delete(C);const S=g.lij[0],B=g.geometry;if(this.enablePolygons&&!this._polygons.has(C)){const W=new N.Z({geometry:B,symbol:this._symbols[S%this._symbols.length]});this._polygons.set(C,W),P.push(W)}if(this.enableLabels){const W=(g=>{if((0,V.pC)(g.label))return g.label;let F=g.lij.toString();return(0,V.pC)(g.loadPriority)&&(F+=` (${g.loadPriority})`),F})(g),Y=F/(v.length-1),X=(0,ee.t7)(0,200,Y),Z=(0,ee.t7)(20,6,Y)/.75,q=(0,V.pC)(g.loadPriority)&&g.loadPriority>=v.length,te=new L.Z([X,q?0:X,q?0:X]),k="3d"===this.view.type?()=>new T.Z({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new J.Z({text:W,halo:{color:"white",size:1/.75},material:{color:te},size:Z})]}):()=>new w.Z({text:W,haloColor:"white",haloSize:1/.75,color:te,size:Z});if(this._labels.has(C)){const ne=this._labels.get(C),H=k();((0,V.Wi)(ne.symbol)||JSON.stringify(H)!==JSON.stringify(ne.symbol))&&(ne.symbol=H)}else{const ne=new N.Z({geometry:B.extent.center,symbol:k()});this._labels.set(C,ne),P.push(ne)}}});const D=new Array;U.forEach(g=>{this._polygons.has(g)&&(D.push(this._polygons.get(g)),this._polygons.delete(g)),this._labels.has(g)&&(D.push(this._labels.get(g)),this._labels.delete(g))}),this.view.graphics.removeMany(D),this.view.graphics.addMany(P)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};(0,M._)([(0,R.Cb)({constructOnly:!0})],I.prototype,"view",void 0),(0,M._)([(0,R.Cb)({readOnly:!0})],I.prototype,"updating",void 0),(0,M._)([(0,R.Cb)()],I.prototype,"enabled",null),I=(0,M._)([(0,G.j)("esri.views.support.TileTreeDebugger")],I)},94672:(he,ie,_)=>{_.d(ie,{K:()=>ee}),_(29132);var L=_(62208),N=_(16730),Q=_(2004);function ee($,A,G,T=new Q.Z){let z;if("2d"===G.type)z=A*G.resolution;else if("3d"===G.type){const v=G.overlayPixelSizeInMapUnits($),P=G.basemapSpatialReference;z=(0,L.pC)(P)&&!P.equals(G.spatialReference)?(0,N.c9)(P)/(0,N.c9)(G.spatialReference):A*v}const w=$.x-z,J=$.y-z,K=$.x+z,I=$.y+z,{spatialReference:h}=G;return T.xmin=Math.min(w,K),T.ymin=Math.min(J,I),T.xmax=Math.max(w,K),T.ymax=Math.max(J,I),T.spatialReference=h,T}new Q.Z},8225:(he,ie,_)=>{_.d(ie,{c:()=>V,d:()=>R});var M=_(76210),L=_(22757);const N=new Set;let Q;const ee={childList:!0};function V(A){Q||(Q=(0,L.c)("mutation",$)),Q.observe(A.el,ee)}function R(A){N.delete(A.el),$(Q.takeRecords()),Q.disconnect();for(const[G]of N.entries())Q.observe(G,ee)}function $(A){A.forEach(({target:G})=>{(0,M.xE)(G)})}}}]);