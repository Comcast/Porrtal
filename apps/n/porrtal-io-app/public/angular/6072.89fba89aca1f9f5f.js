/*
Copyright 2022 Comcast Cable Communications Management, LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[6072],{79767:(W,Z,k)=>{k.d(Z,{Z:()=>l});var _=k(17626),P=k(2076),S=k(77712),$=(k(85931),k(90912),k(76898)),N=k(86810),U=k(79023),G=k(10012);const L=new P.X({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"});let E=class extends N.wq{constructor(){super(...arguments),this.baseSymbol=null,this.colorRamp=null,this.type=null}};(0,_._)([(0,S.Cb)({type:G.Z,json:{write:!0}})],E.prototype,"baseSymbol",void 0),(0,_._)([(0,S.Cb)({types:U.V,json:{read:{reader:U.i},write:!0}})],E.prototype,"colorRamp",void 0),(0,_._)([(0,S.Cb)({json:{read:L.read,write:L.write}})],E.prototype,"type",void 0),E=(0,_._)([(0,$.j)("esri.rest.support.ClassificationDefinition")],E);const A=E,X=new P.X({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),O=new P.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let C=class extends A{constructor(){super(...arguments),this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null,this.type="class-breaks-definition"}set standardDeviationInterval(r){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",r)}set definedInterval(r){"defined-interval"===this.classificationMethod&&this._set("definedInterval",r)}};(0,_._)([(0,S.Cb)({json:{write:!0}})],C.prototype,"breakCount",void 0),(0,_._)([(0,S.Cb)({json:{write:!0}})],C.prototype,"classificationField",void 0),(0,_._)([(0,S.Cb)({type:String,json:{read:X.read,write:X.write}})],C.prototype,"classificationMethod",void 0),(0,_._)([(0,S.Cb)({json:{write:!0}})],C.prototype,"normalizationField",void 0),(0,_._)([(0,S.Cb)({json:{read:O.read,write:O.write}})],C.prototype,"normalizationType",void 0),(0,_._)([(0,S.Cb)({value:null,json:{write:!0}})],C.prototype,"standardDeviationInterval",null),(0,_._)([(0,S.Cb)({value:null,json:{write:!0}})],C.prototype,"definedInterval",null),(0,_._)([(0,S.Cb)()],C.prototype,"type",void 0),C=(0,_._)([(0,$.j)("esri.rest.support.ClassBreaksDefinition")],C);const l=C},19556:(W,Z,k)=>{k.d(Z,{k:()=>K});const P=k(63290).Z.getLogger("esri.rest.support.generateRendererUtils");function S(l,r){return Number(l.toFixed(r))}function K(l){const{normalizationTotal:r}=l;return{classBreaks:$(l),normalizationTotal:r}}function $(l){const r=l.definition,{classificationMethod:i,breakCount:u,normalizationType:c,definedInterval:g}=r,h=[];let s=l.values;if(0===s.length)return[];s=s.sort((d,V)=>d-V);const y=s[0],T=s[s.length-1];if("equal-interval"===i)if(s.length>=u){const d=(T-y)/u;let V=y;for(let o=1;o<u;o++){const n=S(y+o*d,6);h.push({minValue:V,maxValue:n,label:N(V,n,c)}),V=n}h.push({minValue:V,maxValue:T,label:N(V,T,c)})}else s.forEach(d=>{h.push({minValue:d,maxValue:d,label:N(d,d,c)})});else if("natural-breaks"===i){const d=function U(l){const r=[],i=[];let u=Number.MIN_VALUE,c=1,g=-1;for(let h=0;h<l.length;h++){const s=l[h];s===u?(c++,i[g]=c):null!==s&&(r.push(s),u=s,c=1,i.push(c),g++)}return{uniqueValues:r,valueFrequency:i}}(s),o=function G(l,r,i){const u=l.length,c=[];i>u&&(i=u);for(let h=0;h<i;h++)c.push(Math.round(h*u/i-1));c.push(u-1);let g=L(c,l,r,i);return function E(l,r,i,u,c,g){let h=0,s=0,y=0,T=0,d=!0;for(let V=0;V<2&&d;V++){0===V&&(d=!1);for(let o=0;o<g-1;o++)for(;i[o+1]+1!==i[o+2];){i[o+1]=i[o+1]+1;const n=C(o,i,u,c);y=n.sbMean,h=n.sbSdcm;const m=C(o+1,i,u,c);if(T=m.sbMean,s=m.sbSdcm,!(h+s<r[o]+r[o+1])){i[o+1]=i[o+1]-1;break}r[o]=h,r[o+1]=s,l[o]=y,l[o+1]=T,d=!0}for(let o=g-1;o>0;o--)for(;i[o]!==i[o-1]+1;){i[o]=i[o]-1;const n=C(o-1,i,u,c);y=n.sbMean,h=n.sbSdcm;const m=C(o,i,u,c);if(T=m.sbMean,s=m.sbSdcm,!(h+s<r[o-1]+r[o])){i[o]=i[o]+1;break}r[o-1]=h,r[o]=s,l[o-1]=y,l[o]=T,d=!0}}return d}(g.mean,g.sdcm,c,l,r,i)&&(g=L(c,l,r,i)),c}(d.uniqueValues,l.valueFrequency||d.valueFrequency,u);let n=y;for(let m=1;m<u;m++)if(d.uniqueValues.length>m){const w=S(d.uniqueValues[o[m]],6);h.push({minValue:n,maxValue:w,label:N(n,w,c)}),n=w}h.push({minValue:n,maxValue:T,label:N(n,T,c)})}else if("quantile"===i)if(s.length>=u&&y!==T){let d=y,V=Math.ceil(s.length/u),o=0;for(let n=1;n<u;n++){let m=V+o-1;m>s.length&&(m=s.length-1),m<0&&(m=0),h.push({minValue:d,maxValue:s[m],label:N(d,s[m],c)}),d=s[m],o+=V,V=Math.ceil((s.length-o)/(u-n))}h.push({minValue:d,maxValue:T,label:N(d,T,c)})}else{let d=-1;for(let V=0;V<s.length;V++){const o=s[V];o!==d&&(d=o,h.push({minValue:d,maxValue:o,label:N(d,o,c)}),d=o)}}else if("standard-deviation"===i){const d=function X(l){let r=0;for(let i=0;i<l.length;i++)r+=l[i];return r/=l.length,r}(s),V=function O(l,r){let i=0;for(let u=0;u<l.length;u++){const c=l[u];i+=(c-r)*(c-r)}return i/=l.length,Math.sqrt(i)}(s,d);if(0===V)h.push({minValue:s[0],maxValue:s[0],label:N(s[0],s[0],c)});else{const o=function A(l,r,i,u,c){let g=Math.max(u-l,r-u)/c/i;return g=g>=1?1:g>=.5?.5:.25,g}(y,T,u,d,V)*V;let n=0,m=y;for(let q=u;q>=1;q--){const e=S(d-(q-.5)*o,6);h.push({minValue:m,maxValue:e,label:N(m,e,c)}),m=e,n++}let w=S(d+.5*o,6);h.push({minValue:m,maxValue:w,label:N(m,w,c)}),m=w,n++;for(let q=1;q<=u;q++)w=n===2*u?T:S(d+(q+.5)*o,6),h.push({minValue:m,maxValue:w,label:N(m,w,c)}),m=w,n++}}else if("defined-interval"===i){if(!g)return h;const d=s[0],V=s[s.length-1],o=Math.ceil((V-d)/g);let n=d;for(let m=1;m<o;m++){const w=S(d+m*g,6);h.push({minValue:n,maxValue:w,label:N(n,w,c)}),n=w}h.push({minValue:n,maxValue:V,label:N(n,V,c)})}return h}function N(l,r,i){let u=null;return u=l===r?i&&"percent-of-total"===i?l+"%":l.toString():i&&"percent-of-total"===i?l+"% - "+r+"%":l+" - "+r,u}function L(l,r,i,u){let c=[],g=[],h=[],s=0;const y=[],T=[];for(let n=0;n<u;n++){const m=C(n,l,r,i);y.push(m.sbMean),T.push(m.sbSdcm),s+=T[n]}let d,V=s,o=!0;for(;o||s<V;){o=!1,c=[];for(let n=0;n<u;n++)c.push(l[n]);for(let n=0;n<u;n++)for(let m=l[n]+1;m<=l[n+1];m++)if(d=r[m],n>0&&m!==l[n+1]&&Math.abs(d-y[n])>Math.abs(d-y[n-1]))l[n]=m;else if(n<u-1&&l[n]!==m-1&&Math.abs(d-y[n])>Math.abs(d-y[n+1])){l[n+1]=m-1;break}V=s,s=0,g=[],h=[];for(let n=0;n<u;n++){g.push(y[n]),h.push(T[n]);const m=C(n,l,r,i);y[n]=m.sbMean,T[n]=m.sbSdcm,s+=T[n]}}if(s>V){for(let n=0;n<u;n++)l[n]=c[n],y[n]=g[n],T[n]=h[n];s=V}return{mean:y,sdcm:T}}function C(l,r,i,u){let c=0,g=0;for(let y=r[l]+1;y<=r[l+1];y++){const T=u[y];c+=i[y]*T,g+=T}g<=0&&P.warn("Exception in Natural Breaks calculation");const h=c/g;let s=0;for(let y=r[l]+1;y<=r[l+1];y++)s+=u[y]*(i[y]-h)**2;return{sbMean:h,sbSdcm:s}}},26072:(W,Z,k)=>{k.d(Z,{DL:()=>o,F_:()=>c,G2:()=>T,H0:()=>X,Lq:()=>l,Qm:()=>s,S5:()=>A,XL:()=>C,eT:()=>g,fk:()=>y,i5:()=>O,oF:()=>n,wk:()=>E});var _=k(79767),P=k(19556);const U=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,G=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),L=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function E(e){return null==e||"string"==typeof e&&!e?"<Null>":e}function A(e){return!(null!=e.normalizationField||null!=e.normalizationType||null!=e.minValue||null!=e.maxValue||e.sqlExpression&&e.supportsSQLExpression)}function X(e){const t=e.returnDistinct?[...new Set(e.values)]:e.values,a=t.filter(v=>null!=v).length,f={count:a};return e.supportsNullCount&&(f.nullcount=t.length-a),e.percentileParams&&(f.median=C(t,e.percentileParams)),f}function O(e){const{values:t,useSampleStdDev:a,supportsNullCount:f}=e;let v=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,b=null,x=null,D=null,z=null,M=0;const F=e.minValue??-1/0,B=e.maxValue??1/0;for(const I of t)Number.isFinite(I)?I>=F&&I<=B&&(b+=I,v=Math.min(v,I),p=Math.max(p,I),M++):"string"==typeof I&&M++;if(M&&null!=b){x=b/M;let I=0;for(const R of t)Number.isFinite(R)&&R>=F&&R<=B&&(I+=(R-x)**2);z=a?M>1?I/(M-1):0:M>0?I/M:0,D=Math.sqrt(z)}else v=null,p=null;const j={avg:x,count:M,max:p,min:v,stddev:D,sum:b,variance:z};return f&&(j.nullcount=t.length-M),e.percentileParams&&(j.median=C(t,e.percentileParams)),j}function C(e,t){const{fieldType:a,value:f,orderBy:v,isDiscrete:p}=t,b=l(a,"desc"===v);if(0===(e=[...e].filter(j=>null!=j).sort((j,I)=>b(j,I))).length)return null;if(f<=0)return e[0];if(f>=1)return e[e.length-1];const x=(e.length-1)*f,D=Math.floor(x),z=D+1,M=x%1,F=e[D],B=e[z];return z>=e.length||p||"string"==typeof F||"string"==typeof B?F:F*(1-M)+B*M}function l(e,t){const a=t?1:-1,f=function i(e){return e?(t,a)=>a-t:(t,a)=>t-a}(t),v=r(t);if(!e||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...G].includes(e))return(p,b)=>"number"==typeof p&&"number"==typeof b?f(p,b):"string"==typeof p&&"string"==typeof b?v(p,b):a;if("esriFieldTypeDate"===e)return(p,b)=>{const x=new Date(p).getTime(),D=new Date(b).getTime();return isNaN(x)||isNaN(D)?a:f(x,D)};if(G.has(e))return(p,b)=>f(p,b);if("esriFieldTypeString"===e)return(p,b)=>v(p,b);if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e){const p=r(t);return(b,x)=>p(u(b),u(x))}return t?(p,b)=>1:(p,b)=>-1}function r(e){return e?(t,a)=>(t=t?.toUpperCase(),a=a?.toUpperCase(),t>a?-1:t<a?1:0):(t,a)=>(t=t?.toUpperCase(),a=a?.toUpperCase(),t<a?-1:t>a?1:0)}function u(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function c(e,t){let a;for(a in e)L.includes(a)&&(Number.isFinite(e[a])||(e[a]=null));return t&&["avg","stddev","variance"].forEach(f=>{null!=e[f]&&(e[f]=Math.ceil(e[f]))}),e}function g(e){const t={};for(let a of e)(null==a||"string"==typeof a&&""===a.trim())&&(a=null),null==t[a]?t[a]={count:1,data:a}:t[a].count++;return{count:t}}function h(e){return"coded-value"!==e?.type?[]:e.codedValues.map(t=>t.code)}function s(e,t,a,f){const v=e.count,p=[];if(a&&t){const b=[],x=h(t[0]);for(const D of x)if(t[1]){const z=h(t[1]);for(const M of z)if(t[2]){const F=h(t[2]);for(const B of F)b.push(`${E(D)}${f}${E(M)}${f}${E(B)}`)}else b.push(`${E(D)}${f}${E(M)}`)}else b.push(D);for(const D of b)v.hasOwnProperty(D)||(v[D]={data:D,count:0})}for(const b in v){const x=v[b];p.push({value:x.data,count:x.count,label:x.label})}return{uniqueValueInfos:p}}function y(e,t,a,f){let v=null;switch(t){case"log":0!==e&&(v=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(f)&&0!==f&&(v=e/f*100);break;case"field":Number.isFinite(a)&&0!==a&&(v=e/a);break;case"natural-log":e>0&&(v=Math.log(e));break;case"square-root":e>0&&(v=e**.5)}return v}function T(e,t){const a=function V(e){const t=e.field,a=e.classificationMethod||"equal-interval",f=e.normalizationType,v=e.normalizationField,p=new _.Z;return p.classificationField=t,p.breakCount=e.breakCount,p.classificationMethod=a,p.standardDeviationInterval="standard-deviation"===a?e.standardDeviationInterval||1:void 0,p.normalizationType=f,p.normalizationField="field"===f?v:void 0,p}({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||5});return e=function d(e,t,a){return t=t??-1/0,a=a??1/0,e.filter(f=>Number.isFinite(f)&&f>=t&&f<=a)}(e,t.minValue,t.maxValue),(0,P.k)({definition:a,values:e,normalizationTotal:t.normalizationTotal})}function o(e,t){let a=e.classBreaks;const v=a[0].minValue,p=a[a.length-1].maxValue,b="standard-deviation"===t,x=U;return a=a.map(D=>{const z=D.label,M={minValue:D.minValue,maxValue:D.maxValue,label:z};if(b&&z){const F=z.match(x).map(B=>+B.trim());2===F.length?(M.minStdDev=F[0],M.maxStdDev=F[1],F[0]<0&&F[1]>0&&(M.hasAvg=!0)):1===F.length&&(z.includes("<")?(M.minStdDev=null,M.maxStdDev=F[0]):z.includes(">")&&(M.minStdDev=F[0],M.maxStdDev=null))}return M}),{minValue:v,maxValue:p,classBreakInfos:a,normalizationTotal:e.normalizationTotal}}function n(e,t){const{min:a,max:f,intervals:v}=function m(e,t){const{field:a,classificationMethod:f,standardDeviationInterval:v,normalizationType:p,normalizationField:b,normalizationTotal:x,minValue:D,maxValue:z}=t,M=t.numBins||10;let F=null,B=null,j=null;if(f&&"equal-interval"!==f||p){const{classBreaks:I}=T(e,{field:a,normalizationType:p,normalizationField:b,normalizationTotal:x,classificationMethod:f,standardDeviationInterval:v,minValue:D,maxValue:z,numClasses:M});F=I[0].minValue,B=I[I.length-1].maxValue,j=I.map(R=>[R.minValue,R.maxValue])}else{if(null!=D&&null!=z)F=D,B=z;else{const I=O({values:e,minValue:D,maxValue:z,useSampleStdDev:!p,supportsNullCount:A({normalizationType:p,normalizationField:b,minValue:D,maxValue:z})});F=I.min,B=I.max}j=function q(e,t,a){const f=(t-e)/a,v=[];let p,b=e;for(let x=1;x<=a;x++)p=b+f,p=Number(p.toFixed(16)),v.push([b,x===a?t:p]),b=p;return v}(F,B,M)}return{min:F,max:B,intervals:j}}(e,t),p=v.map((b,x)=>({minValue:v[x][0],maxValue:v[x][1],count:0}));for(const b of e)if(null!=b&&b>=a&&b<=f){const x=w(v,b);x>-1&&p[x].count++}return{bins:p,minValue:a,maxValue:f,normalizationTotal:t.normalizationTotal}}function w(e,t){let a=-1;for(let f=e.length-1;f>=0;f--)if(t>=e[f][0]){a=f;break}return a}}}]);